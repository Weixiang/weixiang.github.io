[{"content":"Obsidian是使用Markdown语法的闭源笔记软件。2(https://zh.wikipedia.org/zh-cn/Obsidian#cite_note-2)[3](3.md)(https://zh.wikipedia.org/zh-cn/Obsidian#cite_note-3)用户可以在笔记间建立双向链接，并且可以探索这些笔记连接形成的关系图谱。该软件旨在帮助用户以一种灵活的、非线性的方式来组织和构架他们的想法和知识。Obsidian对个人使用免费，商业使用则需购买许可。\nObsidian是由Shida Li和徐子殷于2019冠状病毒病疫情隔离期间所编写的。4(https://zh.wikipedia.org/zh-cn/Obsidian#cite_note-4)两人在滑铁卢大学学习时相识，彼时他们已经在几个开发项目上进行了合作。5(https://zh.wikipedia.org/zh-cn/Obsidian#cite_note-5)\nObsidian的第一个版本于2020年3月30日发布。6(https://zh.wikipedia.org/zh-cn/Obsidian#cite_note-6)1.0.0版本于2022年10月发布。7(https://zh.wikipedia.org/zh-cn/Obsidian#cite_note-7)[8](8.md)(https://zh.wikipedia.org/zh-cn/Obsidian#cite_note-8)1.1版于2022年12月发布，增加了Canvas核心插件。9(https://zh.wikipedia.org/zh-cn/Obsidian#cite_note-9)\nObsidian基于Electron构建。它是一款跨平台应用程序，可在Windows、Linux、macOS以及移动操作系统（如Android和iOS）上运行，不过没有提供基于网页的版本。Obsidian可以通过添加插件进行定制，移动应用程序也可使用这些插件。\n","permalink":"https://weixiang.github.io/posts/obsidian/","summary":"摘要","title":"Obsidian黑曜石"},{"content":"前言 为什么从 Ghost 换到 Hugo？\nGhost 随着更新功能越来越丰富，更偏向于专业的商用 CMS 系统，对服务器性能要求越来越高了。\n买不起服务器了，就换回静态博客了。\n本文记录一下 Ghost 多年的使用体验和一些小技巧。\n永远喜欢 Casper 主题。\nCode injection Site header \u0026lt;!-- 自动黑化 --\u0026gt; \u0026lt;script\u0026gt; if ( window.matchMedia \u0026amp;\u0026amp; window.matchMedia(\u0026#34;(prefers-color-scheme: dark)\u0026#34;).matches ) { document.documentElement.classList.add(\u0026#34;dark-mode\u0026#34;); } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; @media (prefers-color-scheme: dark) { ::selection { background: #424242; } ::-moz-selection { background: #424242; } ::-webkit-selection { background: #424242; } } \u0026lt;/style\u0026gt; \u0026lt;!-- 黑色图底 --\u0026gt; \u0026lt;style\u0026gt; .has-cover .site-header-content { background-color: #000000; } \u0026lt;/style\u0026gt; \u0026lt;!-- 替换图片 --\u0026gt; \u0026lt;script\u0026gt; document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function() { var image = document.querySelector(\u0026#39;.site-header-cover\u0026#39;); if (image) { var newSrcset = \u0026#39;https://api.dujin.org/bing/1366.php 300w, https://api.dujin.org/bing/1366.php 600w, https://api.dujin.org/bing/1920.php 1000w, https://api.dujin.org/bing/1920.php 2000w\u0026#39;; var newSrc = \u0026#39;https://api.dujin.org/bing/1920.php\u0026#39;; image.srcset = newSrcset; image.src = newSrc; image.alt = \u0026#34;Jacob\u0026#39;s Thoughts\u0026#34;; } }); \u0026lt;/script\u0026gt; \u0026lt;!-- 全局字体 --\u0026gt; \u0026lt;style\u0026gt; /*@import url(\u0026#39;https://fonts.googleapis.com/css?family=Source+Code+Pro\u0026amp;display=swap\u0026#39;); @import url(\u0026#39;https://fonts.googleapis.com/css2?family=Noto+Serif+SC\u0026amp;display=swap\u0026#39;);*/ /* 引入 Google Fonts */ @font-face { font-family: \u0026#34;ChineseFont\u0026#34;; src: local(\u0026#34;PingFang SC\u0026#34;), local(\u0026#34;Microsoft YaHei\u0026#34;), local(\u0026#34;Noto Sans CJK SC\u0026#34;); unicode-range: U+2E80-A4CF, U+F900-FAFF, U+FE30-FE4F; } :root { --font-sans-serif: -apple-system, BlinkMacSystemFont, \u0026#34;Apple Color Emoji\u0026#34;, \u0026#34;Segoe UI Emoji\u0026#34;, \u0026#34;Segoe UI Symbol\u0026#34;, \u0026#34;Segoe UI\u0026#34;, \u0026#34;PingFang SC\u0026#34;, \u0026#34;HarmonyOS_Regular\u0026#34;, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, \u0026#34;Source Han Sans SC\u0026#34;, \u0026#34;Noto Sans CJK SC\u0026#34;, \u0026#34;WenQuanYi Micro Hei\u0026#34;, Arial, sans-serif; --font-serif: STZhongsong, STSong, \u0026#39;Noto Serif SC\u0026#39;, \u0026#34;Noto Serif CJK\u0026#34;, PMingLiu, SimSun, \u0026#34;WenQuanYi Bitmap Song\u0026#34;, \u0026#34;Times New Roman\u0026#34;, Times, serif; --font-mono: ChineseFont, ui-monospace, SFMono-Regular, \u0026#34;SF Mono\u0026#34;, \u0026#34;Cascadia Code\u0026#34;, \u0026#34;Segoe UI Mono\u0026#34;, \u0026#34;Source Code Pro\u0026#34;, Menlo, Consolas, \u0026#34;Liberation Mono\u0026#34;, monospace; } /* 覆写默认字体变量 */ body { font-family: font-family: var(--font-sans-serif); font-size: 16px; } /* 网页正文字体 */ .post-card-title, .article-title { font-family: var(--font-serif); } /* 文章卡片标题字体 */ .post-card-excerpt p, .gh-content\u0026gt;blockquote, .gh-content\u0026gt;ol, .gh-content\u0026gt;ul, .gh-content\u0026gt;dl, .gh-content\u0026gt;p { font-family: var(--font-sans-serif); font-size: 1.6rem; line-height: 1.8em; } /* 文章正文字体 */ .gh-content :not(pre)\u0026gt;code { display: inline-block; font-family: var(--font-mono); background-color: #F5F5F5; border-radius: 4px; border: 1px solid #F0F0F0; padding: 0 6px; margin: 1px 6px; line-height: 1.1; color: #096DD9; } /* 段落内代码样式 */ code, kbd, pre, samp { font-family: var(--font-mono); } /* 统一代码字体 */ h1, h2, h3, h4, h5, h6 { font-family: var(--font-serif); } /* 标题字体 */ .site-title { font-family: var(--font-sans-serif); text-shadow: 1px 0 10px black; } /* 首页标题字体 */ .author-profile h1, .article-byline-meta h4 { font-family: var(--font-sans-serif); } /* 作者名片字体 */ blockquote p { font-size: 1em; } /* 引用字体大小 */ .gh-content a { text-decoration: none; border-bottom: 1px solid var(--ghost-accent-color); -webkit-transition: all .2s; transition: all .2s; } .gh-content a:focus, .gh-content a:hover { border-bottom: 2px solid var(--ghost-accent-color); } .post-card-image { border-radius: 12px; } /* 圆角图片 */ \u0026lt;/style\u0026gt; \u0026lt;!-- 全局滚动条 --\u0026gt; \u0026lt;style\u0026gt; ::-webkit-scrollbar { width: 6px; height: 6px; background-color: #424242; } ::-webkit-scrollbar-track { -webkit-box-shadow: 0 0 3px rgba(0, 0, 0, 0.3) inset; background-color: #424242; } ::-webkit-scrollbar-thumb { border-radius: 3px; -webkit-box-shadow: none !important; } ::-webkit-scrollbar-thumb { background-color: #686868 !important; background-image: none !important; } ::-webkit-scrollbar-thumb:hover { background-color: var(--ghost-accent-color) !important; } \u0026lt;/style\u0026gt; \u0026lt;!-- 代码高亮 prism.js --\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/themes/prism-tomorrow.min.css\u0026#34; integrity=\u0026#34;sha512-vswe+cgvic/XBoF1OcM/TeJ2FW0OofqAVdCZiEYkd6dwGXthvkSFWOoGGJgS2CW70VK5dQM5Oh+7ne47s74VTg==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34; /\u0026gt; \u0026lt;!-- \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism.min.css\u0026#34; integrity=\u0026#34;sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34; /\u0026gt; --\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/toolbar/prism-toolbar.min.css\u0026#34; integrity=\u0026#34;sha512-Dqf5696xtofgH089BgZJo2lSWTvev4GFo+gA2o4GullFY65rzQVQLQVlzLvYwTo0Bb2Gpb6IqwxYWtoMonfdhQ==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34; /\u0026gt; \u0026lt;style\u0026gt; code[class*=\u0026#39;language-\u0026#39;] { font-family: var(--font-mono); } pre[class*=language-] { font-family: var(--font-mono); color: #fff; font-size: 1.3rem; line-height: 1.8em; max-width: 100%; overflow: auto; padding: 2.4rem 3.2rem; width: 100%; } html.dark-mode .gh-content code { color: #fff; background: #030303; } \u0026lt;/style\u0026gt; \u0026lt;!-- Global site tag (gtag.js) - Google Analytics 谷歌统计--\u0026gt; \u0026lt;script async src=\u0026#34;https://www.googletagmanager.com/gtag/js?id=UA-133816799-2\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag(\u0026#34;js\u0026#34;, new Date()); gtag(\u0026#34;config\u0026#34;, \u0026#34;UA-133816799-2\u0026#34;); \u0026lt;/script\u0026gt; \u0026lt;!-- Baidu Tongji 百度统计--\u0026gt; \u0026lt;script\u0026gt; var _hmt = _hmt || []; (function () { var hm = document.createElement(\u0026#34;script\u0026#34;); hm.src = \u0026#34;https://hm.baidu.com/hm.js?cb3832ee43b34e6bfd3556bd054c7d26\u0026#34;; var s = document.getElementsByTagName(\u0026#34;script\u0026#34;)[0]; s.parentNode.insertBefore(hm, s); })(); \u0026lt;/script\u0026gt; \u0026lt;meta name=\u0026#34;baidu-site-verification\u0026#34; content=\u0026#34;code-SpwhprNdN8\u0026#34; /\u0026gt; \u0026lt;!-- busuanzi 统计--\u0026gt; \u0026lt;script async src=\u0026#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;!-- DisqusJS --\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdn.jsdelivr.net/npm/disqusjs@3.0/dist/browser/styles/disqusjs.css\u0026#34;\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/disqusjs@3.0/dist/browser/disqusjs.es2015.umd.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;!-- 图标库 --\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/brands.min.css\u0026#34; integrity=\u0026#34;sha512-+oRH6u1nDGSm3hH8poU85YFIVTdSnS2f+texdPGrURaJh8hzmhMiZrQth6l56P4ZQmxeZzd2DqVEMqQoJ8J89A==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34; /\u0026gt; \u0026lt;style\u0026gt; .gh-head-menu .nav-github a { font-size: 0 !important; } .gh-head-menu .nav-github a::before { font-family: \u0026#34;Font Awesome 6 Brands\u0026#34;; display: inline-block; font-size: 20px; font-style: normal; font-weight: normal; font-variant: normal; text-rendering: auto; -webkit-font-smoothing: antialiased; } .gh-head-menu .nav-github a::before {content: \u0026#34;\\f09b\u0026#34;} \u0026lt;/style\u0026gt; \u0026lt;!-- 阅读进度条 --\u0026gt; \u0026lt;style\u0026gt; .reading-progress { position: fixed; top: 0; z-index: 999; width: 100%; height: 5px; /* Progress bar height */ background: #c5d2d9; /* Progress bar background color */ -webkit-appearance: none; -moz-appearance: none; appearance: none; /* Hide default progress bar */ } .reading-progress::-webkit-progress-bar { background-color: transparent; } .reading-progress::-webkit-progress-value { background: var(--ghost-accent-color); /* Progress bar color */ } \u0026lt;/style\u0026gt; Site footer \u0026lt;!-- 代码高亮 prism.js --\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/prism.min.js\u0026#34; integrity=\u0026#34;sha512-RDQSW3KoqJMiX0L/UBgwBmH1EmRYp8LBOiLaA8rBHIy+7OGP/7Gxg8vbt8wG4ZYd29P0Fnoq6+LOytCqx3cyoQ==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/toolbar/prism-toolbar.min.js\u0026#34; integrity=\u0026#34;sha512-st608h+ZqzliahyzEpETxzU0f7z7a9acN6AFvYmHvpFhmcFuKT8a22TT5TpKpjDa3pt3Wv7Z3SdQBCBdDPhyWA==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js\u0026#34; integrity=\u0026#34;sha512-/kVH1uXuObC0iYgxxCKY41JdWOkKOxorFVmip+YVifKsJ4Au/87EisD1wty7vxN2kAhnWh6Yc8o/dSAXj6Oz7A==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/components/prism-bash.min.js\u0026#34; integrity=\u0026#34;sha512-ZqfG//sXQwAA7DOArFJyMmZQ3knKe+0ft3tPQZPvDPJR04IatmhVO5pTazVV+fLVDYSy28PhoBeUj5wxGRiGAA==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/components/prism-json.min.js\u0026#34; integrity=\u0026#34;sha512-QXFMVAusM85vUYDaNgcYeU3rzSlc+bTV4JvkfJhjxSHlQEo+ig53BtnGkvFTiNJh8D+wv6uWAQ2vJaVmxe8d3w==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;!-- AddThis 分享组件 --\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34; src=\u0026#34;//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-61109cb1d502ff5d\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;!-- Cookie Consent 提示框 --\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; type=\u0026#34;text/css\u0026#34; href=\u0026#34;https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css\u0026#34; /\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js\u0026#34; data-cfasync=\u0026#34;false\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; window.cookieconsent.initialise({ palette: { popup: { background: \u0026#34;#252e39\u0026#34;, }, button: { background: \u0026#34;#005ba4\u0026#34;, }, }, theme: \u0026#34;edgeless\u0026#34;, position: \u0026#34;bottom-right\u0026#34;, }); \u0026lt;/script\u0026gt; \u0026lt;!-- 标题特效 --\u0026gt; \u0026lt;script src=\u0026#34;https://unpkg.com/typewriter-effect@latest/dist/core.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; const app = document.querySelector(\u0026#39;.site-title + p\u0026#39;); const typewriter = new Typewriter(app, { loop: true, delay: 75, }); typewriter .typeString(\u0026#39;Writing my \u0026lt;strong\u0026gt;thoughts\u0026lt;/strong\u0026gt;\u0026#39;) .pauseFor(1000) .deleteChars(8) .typeString(\u0026#39;\u0026lt;strong\u0026gt;stories\u0026lt;/strong\u0026gt;\u0026#39;) .pauseFor(750) .deleteChars(7) .typeString(\u0026#39;\u0026lt;strong\u0026gt;ideas\u0026lt;/strong\u0026gt;\u0026#39;) .pauseFor(500) .deleteChars(5) .typeString(\u0026#39;\u0026lt;strong\u0026gt;life\u0026lt;/strong\u0026gt;\u0026#39;) .pauseFor(500) .deleteChars(4) .typeString(\u0026#39;\u0026lt;strong\u0026gt;cats\u0026lt;/strong\u0026gt; on the web\u0026#39;) .pauseFor(1500) .deleteAll(50) .start(); \u0026lt;/script\u0026gt; \u0026lt;!-- 版权特效 --\u0026gt; \u0026lt;script\u0026gt; document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function() { var poweredByLink = document.querySelector(\u0026#39;.gh-powered-by a\u0026#39;); poweredByLink.textContent = \u0026#39;自豪地使用 Ghost\u0026#39;; }); \u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function() { var copyrightSection = document.querySelector(\u0026#39;.copyright\u0026#39;); if (copyrightSection) { var link = copyrightSection.querySelector(\u0026#39;a\u0026#39;); if (link) { var text = link.textContent; var updatedText = text.replace(\u0026#39;© \u0026#39;, \u0026#39;© 2016-\u0026#39;); link.textContent = updatedText; } } }); \u0026lt;/script\u0026gt; ","permalink":"https://weixiang.github.io/posts/ghost-blog-user-experience/","summary":"使用了多年的 Ghost 博客，先换到 Hugo，记下 Ghost 博客使用记录。","title":"Ghost 博客使用记录"},{"content":"话题 话题页 - 传送门🚪→\n+++\n分类 分类页 - 传送门🚪→\n+++\n系列 系列页 - 传送门🚪→\n","permalink":"https://weixiang.github.io/view/","summary":"文章分类传送门","title":"View"},{"content":"你好！👋 我是 Jacob，这里是我的个人博客。\n正如博客的名字，我在这里记录我的想法、知识，分享我的发现。\n纯文大学生，但热爱的是硬件与编程。\n玩 Arduino ，喜欢交互艺术，也搞点 IoT 。\n喜欢猫猫🐱当然狗狗🐶也可以。\n酷基，哈学博士🪄，低浓度二次元，听国际流行🎧。\n偶尔玩点游戏的 PlayStation 玩家🎮。\n交个朋友 友情链接：传送门→\nEmail (Base 64): amFjb2IucnVhbkBvdXRsb29rLmNvbQ==\nWeChat (Base 64): aHR0cHM6Ly91LndlY2hhdC5jb20vTUFHQzNfdWQzN0J2bVdWX0lDT3hqeEE=\nGitHub: https://github.com/Weixiang\n关于本博客 本站采用 Hugo 驱动，主题为 PaperMod。\n博客更新记录：传送门→\n版权声明 本站文章除特别声明外，均由 Jacob Ruan 采用 知识共享署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议 进行许可。\nEnglish Version. (By Google Translate)\nHello.👋 My name is Jacob Ruan.\nThis is my personal blog. Just like the name of the blog, I am here to record my thoughts and share my knowledge.\nI am a social science college student, My major in the college is marketing, but I don’t like it. I like art and programming, and my dream is to be a designer or engineer. For this dream, I am studying computer courses by myself. Wish me luck. 😀\nAlthough I majored in social sciences at school, I also have a strong interest in natural sciences and computer science.\nThank you for your attention, but because of my heavy academic work, I may not update my blog very often. 😜\nYears ago, I founded a STEM association in my senior middle school, called WAI STEM Club , it won some awards for my school.\nOutside of my studies, I also enjoy programming, Arduino, international pop music and secondary culture. I\u0026rsquo;m also a fan of Harry Potter.\nCopyright Unless otherwise stated, the post of this website adopts the CC License.\nThis work by Jacob Ruan is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.\nContact me If you are interested in making new friends, You can find me in the following ways:\nEmail (Base 64): amFjb2IucnVhbkBvdXRsb29rLmNvbQ==\nWeChat (Base 64): aHR0cHM6Ly91LndlY2hhdC5jb20vTUFHQzNfdWQzN0J2bVdWX0lDT3hqeEE=\nGitHub: https://github.com/Weixiang\n","permalink":"https://weixiang.github.io/about/","summary":"我是 Jacob，很高兴认识你。I\u0026rsquo;m Jacob, nice to meet you.","title":"关于"},{"content":"消费电子 Apple 官网 \u0026#34;SF Pro SC\u0026#34;, \u0026#34;SF Pro Text\u0026#34;, \u0026#34;SF Pro Icons\u0026#34;, \u0026#34;PingFang SC\u0026#34;, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, Arial, sans-serif 小米 官网 \u0026#34;MiSans VF\u0026#34;, MiSans, system-ui, sans-serif 商城 \u0026#34;Helvetica Neue\u0026#34;, Helvetica, Arial, \u0026#34;Microsoft Yahei\u0026#34;, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Heiti SC\u0026#34;, \u0026#34;WenQuanYi Micro Hei\u0026#34;, sans-serif 华为 消费者官网 Manrope, Arial, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, sans-serif 商城 \u0026#34;Helvetica Neue\u0026#34;, Helvetica, Arial, \u0026#34;Microsoft Yahei\u0026#34;, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Heiti SC\u0026#34;, \u0026#34;WenQuanYi Micro Hei\u0026#34;, sans-serif 鸿蒙 HarmonyOSHans-Regular, HarmonyOSHans-fallback, PingFangSC-Regular, \u0026#34;Microsoft YaHei\u0026#34;, Arial, Helvetica, sans-serif 荣耀 官网 \u0026#34;HONOR Sans Brand\u0026#34;, \u0026#34;Microsoft Yahei\u0026#34;, \u0026#34;PingFang SC\u0026#34;, Arial, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, sans-serif OPPO 官网 OPPOSans-Ver2-Regular, Helvetica, Arial, sans-serif, system-ui vivo 官网 VIVO-FONT-WEB, VIVO-FONT-NAV, sans-serif 商城 方正悠黑简体_纤, \u0026#34;Microsoft YaHei\u0026#34;, Arial OriginOS vivoSansSC500, VIVO-FONT-WEB, VIVO-FONT-NAV, sans-serif 三星 SamsungOne, \u0026#34;Microsoft Yahei\u0026#34;, 微软雅黑, Simsun, 宋体, arial, sans-serif 蔚来 BlueSkyStandard, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, Arial, \u0026#34;PingFang SC\u0026#34;, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Heiti SC\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, \u0026#34;WenQuanYi Micro Hei\u0026#34;, sans-serif 中兴 努比亚 Gotham, hyykh, Helvetica, Arial, sans-serif 魅族 Helvetica, Tahoma, Arial, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, SimSun, Heiti, sans-serif 锤子 \u0026#34;Helvetica Neue\u0026#34;, \u0026#34;PingFang SC\u0026#34;, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Heiti SC\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, \u0026#34;WenQuanYi Micro Hei\u0026#34;, sans-serif 互联网 腾讯 官网 PingFangSC-Regular, \u0026#34;helvetica neue\u0026#34;, tahoma, \u0026#34;PingFang SC\u0026#34;, \u0026#34;microsoft yahei\u0026#34;, arial, \u0026#34;hiragino sans gb\u0026#34;, sans-serif 微信 -apple-system-font, BlinkMacSystemFont, \u0026#34;Helvetica Neue\u0026#34;, \u0026#34;PingFang SC\u0026#34;, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Microsoft YaHei UI\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, Arial, sans-serif 知乎 -apple-system, BlinkMacSystemFont, \u0026#34;Helvetica Neue\u0026#34;, \u0026#34;PingFang SC\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, \u0026#34;Source Han Sans SC\u0026#34;, \u0026#34;Noto Sans CJK SC\u0026#34;, \u0026#34;WenQuanYi Micro Hei\u0026#34;, sans-serif 网易 Arial, \u0026#34;Hiragino Sans GB\u0026#34;, STHeiti, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, \u0026#34;Microsoft Yahei\u0026#34;, \u0026#34;WenQuanYi Micro Hei\u0026#34;, sans-serif 字节跳动 官网 \u0026#34;DM Sans\u0026#34;, Gilroy, -apple-system, \u0026#34;Sofia Pro\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, Helvetica, Arial, sans-serif 抖音 \u0026#34;PingFang SC\u0026#34;, DFPKingGothicGB-Medium, sans-serif 阿里巴巴 官网 Roboto, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, Tahoma, Arial, \u0026#34;PingFang SC\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34; 新淘宝 system-ui, -apple-system, \u0026#34;Segoe UI\u0026#34;, Roboto, Ubuntu, Cantarell, \u0026#34;Noto Sans\u0026#34;, sans-serif, \u0026#34;Apple Color Emoji\u0026#34;, \u0026#34;Segoe UI Emoji\u0026#34;, \u0026#34;Segoe UI Symbol\u0026#34;, \u0026#34;Noto Color Emoji\u0026#34;, BlinkMacSystemFont, \u0026#34;Helvetica Neue\u0026#34;, Arial, \u0026#34;PingFang SC\u0026#34;, \u0026#34;PingFang TC\u0026#34;, \u0026#34;PingFang HK\u0026#34;, \u0026#34;Microsoft Yahei\u0026#34;, \u0026#34;Microsoft JhengHei\u0026#34; 简书 -apple-system, BlinkMacSystemFont, \u0026#34;Apple Color Emoji\u0026#34;, \u0026#34;Segoe UI Emoji\u0026#34;, \u0026#34;Segoe UI Symbol\u0026#34;, \u0026#34;Segoe UI\u0026#34;, \u0026#34;PingFang SC\u0026#34;, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, Arial, sans-serif 哔哩哔哩 \u0026#34;PingFang SC\u0026#34;, HarmonyOS_Regular, \u0026#34;Helvetica Neue\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, sans-serif GitHub 正文 -apple-system, BlinkMacSystemFont, \u0026#34;Segoe UI\u0026#34;, \u0026#34;Noto Sans\u0026#34;, Helvetica, Arial, sans-serif, \u0026#34;Apple Color Emoji\u0026#34;, \u0026#34;Segoe UI Emoji\u0026#34; 代码 ui-monospace, SFMono-Regular, \u0026#34;SF Mono\u0026#34;, Menlo, Consolas, \u0026#34;Liberation Mono\u0026#34;, monospace ","permalink":"https://weixiang.github.io/posts/collection-of-fonts-from-big-companies-official-websites/","summary":"收集了常见消费电子品牌及互联网大厂的字体使用情况。","title":"大厂官网字体收集"},{"content":"引言 在为移动魔百盒 CM201-1-YS 刷入 Android 9 后，发现原生设置被运营商的设置替换了，无法改动复杂的设置选项。\n本文修改自为电视盒子注入原生设置的通用方法 - 『移动安全区』 - 吾爱破解 - LCG - LSG |安卓破解 | 病毒分析|www.52pojie.cn\n幸好我们有 root 权限，在盒子上装个 MT 管理器就能直接替换系统应用。于是我想去网上找个原生设置放进去，结果有的不能用，有的替换完干脆直接进不去系统了，又得重刷\u0026hellip; 后来寻思我明明会逆向，为啥不自己动手，丰衣足食呢？\n提取原生设置 APK 使用 MT 管理器提取 APK，查看 APK 内容。\n注意到我们的雷电模拟器里就有个原生设置，系统恰好也是安卓 9，提取并检查这个设置的 APK 文件，发现里面没有 lib 库，因此推断 APK 是全平台通用的，只要能装上：\n替换证书 这个设置和电视盒子里已有的设置包名冲突了，只能先进行替换，替换后重启，发现设置图标消失，原生设置和定制设置都没了，于是对比两个设置的签名描述，如下：\n雷电模拟器设置： EMAILADDRESS=android@android.com, CN=Android, OU=Android, O=Android, L=Mountain View, ST=California, C=US\n电视盒子设置： EMAILADDRESS=sumavision@sumavision.com, CN=Sumavision, OU=Sumavision, O=Sumavision, L=Shenzhen, ST=Guangdong, C=CN\n可见电视盒子的系统级签名与模拟器的系统级签名不同，在 Android 中这些申请了特殊权限的应用需要系统级签名才能正常安装运行，其中一个特殊权限如下：\n\u0026lt;permission-group android:label=\u0026#34;@string/superuser\u0026#34; android:icon=\u0026#34;@drawable/ic_action_permission\u0026#34; android:name=\u0026#34;android.permission-group.SUPERUSER\u0026#34; android:priority=\u0026#34;10000\u0026#34; android:description=\u0026#34;@string/superuser_description_more\u0026#34; /\u0026gt; 幸好，安卓对 /system/app 下的应用只判断签名是否存在，不判断是否有效，我们可以来一出借尸还魂。\n首先将定制设置备份，然后在 MT 管理器两侧同时打开原生设置和定制设置，接下来将定制设置中除 META-INF 外的文件全部删除，然后将原生设置中除 META-INF 外的文件全部添加到定制设置中，全程不要进行签名（同时建议保留 v2 签名数据），这样我们就得到了披着系统级签名的原生设置：\n移动到系统 App 目录 现在我们把这个设置再移到系统 App 目录下，例如 /system/app/Setting，并且设置权限为 644，所有者为 root，所有组也为 root。\n重启发现原生设置出现了，功能基本正常，也可以查看应用信息并清缓存了：\n定制设置共存 接下来要解决两个设置共存的问题，原生设置虽好，但调整屏幕分辨率比较困难，因此定制设置还是需要保留的，我们直接用 MT 的 apk 共存功能，修改定制设置的包名（因为原生设置会被第三方调用），同样不签名，然后一并放到系统 App 目录下，这里是 /system/app/Setting2，同样设置权限为 644，所有者和组为 root。\n重启电视盒子，发现两个设置都出现了，目前使用起来一切正常。\n留一个思考题：目前发现无法在原生设置中通过多次点击版本号启用开发者模式，屏幕无任何提示，问如何解决？\n还有一件事 该固件的默认字体被魔改了，是一种综艺体，看着挺非主流的，顺手给它改回 Noto + 思源字体了。\n装上了 Magisk，直接刷入字体包即可。\nGitHub - Buernia/Noto-SHS-Magisk-module: 谷歌 Noto + 思源系列可变字体，支持多语言多字重。适配 MIUI 13。Variable Noto fonts Magisk module for MIUI 13 (Android 12).\n参考文献 为电视盒子注入原生设置的通用方法 - 『移动安全区』 - 吾爱破解 - LCG - LSG |安卓破解 | 病毒分析|www.52pojie.cn APK 签名 | MT 管理器 GitHub - Buernia/Noto-SHS-Magisk-module: 谷歌 Noto + 思源系列可变字体，支持多语言多字重。适配 MIUI 13。Variable Noto fonts Magisk module for MIUI 13 (Android 12). ","permalink":"https://weixiang.github.io/posts/inject-native-settings-into-android-tv-boxes/","summary":"在为移动魔百盒 CM201-1-YS 刷入 Android 9 后，发现原生设置被运营商的设置替换了，无法改动复杂的设置选项。本文记录如何为此类定制机顶盒添加原生设置。","title":"Android 机顶盒注入原生设置"},{"content":"效果图 基本信息 SOC： S095l3b Model： CM201-1-YS 无线网卡： RTL8822CS 背部标签 主板正面 主板背面 刷机测试点 短接标号为 4R12 的黑色电阻可进入刷机模式，用于救砖。\n准备 下载固件 固件名称：android_tv_cm201-1-ys_s905l3b.tar.xz\n解压后得到： S905L3-L3B完美ipv6线刷-实测4K不卡顿发热低-2024_cm201-1-ys_s905l3b可用.img\nhttps://github.com/ophub/kernel/releases/tag/tools\nhttps://pan.baidu.com/s/15M9ZdZURTGdN5V17peoaqQ?pwd=6666\n该固件第一次启动需要连接到网络。\n下载工具 Amlogic USB Burning Tool 晶晨烧写工具：\nhttps://androidmtk.com/download-amlogic-usb-burning-tool\n刷机 使用双 USB-A 线，连接机顶盒的 USB1 到电脑。\n1、打开 USB_Burning_Tool 线刷工具，加载固件，导入成功后，默认烧录配置勾选，不用动，然后点击开始。\n2、根据不同机器，比如 YS 代工按住 AV 口里面的复位键，CH 或者 ZG 代工短接闪存背面的 4R12 电阻两端，等等。也可通过刷机神器免拆。然后，双头 USB 线插上电脑和盒子靠近网口一端的 USB 接口，此时刷机工具自动连接识别，并开始走进度条刷机，等待刷机结束即可！（不能自动识别的可先通电，再插盒子端的 USB 接口）。\n3、刷机完成后，刷机工具点“停止”，拔掉双头 USB 线，重新开机，即可正常进入刷机后的系统。\n参考文献 https://github.com/ophub/amlogic-s9xxx-armbian/issues/2209\nhttps://www.mydigit.cn/thread-195255-1-1.html\nhttps://www.right.com.cn/forum/thread-8292204-1-1.html\n","permalink":"https://weixiang.github.io/posts/cmcc-mobile-tv-box-cm201-1-ys-flashed-android9/","summary":"给中国移动魔百盒 CM201-1-YS 刷入 Android 9，芯片为 S095l3b","title":"移动魔百盒 CM201-1-YS 刷入 Android 9"},{"content":"省流 没成。\n引言 垃圾广电，宽带是租的，用户侧 BGP，出口随机，2024 年仍无 IPv6，更无公网 IP，电视机顶盒禁止所有方式的第三方 APK 安装。\n现象 无论使用 U 盘、ADB、Shell 命令，安装第三方 APK，均报错 INCONSISTENT_CERTIFICATES，即证书错误，可知是通过证书限制的方法禁止第三方 App。\n机顶盒型号为 GDT-JL1100，查询得知其芯片为晨星MSO9385，标识型号为MStar Android TV。\nMSTAR 晨星 公司介绍： MStar 晨星半导体成立于 2002.05，总部位于福建旁边新竹科技园，核心技术团队来自美国 TI 公司； 员工（全球）超过 2000 名，其中芯片研发人员约 1200 人，25% 员工具有硕士以上学历； 全球共设有 17 个分支机构，在新竹、台北、美国、俄罗斯、法国、英国、中国大路均有 芯片设计团队，另外还有韩国、土耳其、日本、新加坡等办事处。\n目前晨星 MSO9385 方案有： CM311-3/3s；烽火 HG680-MC/MY；海信 IP202H/IP203H；Z86-ZN 兆能；M411M／M401M-YS\u0026hellip;等\n广电机顶盒型号多样，通过对比手上的另一型号 GDT-JL1000，虽芯片方案不一样，但其系统结构基本一致，均为安卓 4.4.2 的定制系统。\n分析 出于国情，国内市面上正式发售的盒子，都没有内置谷歌套件和市场，所以不会用谷歌框架实现对安装文件的合法性验证。\n安卓应用的安装最终落实到对.apk 安装包的操作，其基本流程如下：\nPackageInstaller 或 pm install -\u0026gt; PackageManager -\u0026gt; PackageManagerService\n当前国内研发人员实现限制安装的常见方法如下：\n1、数字签名白名单 这种方法多见于安卓手机或车机等设备，盒子较少使用，\n白名单数字证书一般位于/system/etc/security/；\n2、修改版 PackageInstaller 如果一个盒子可以在终端中用pm install 命令安装.apk，而在盒子的文件管理器中点击.apk 却安装失败，则多半可能是 PackageInstaller 这个安卓应用层面的安装器被“加强”了；\n3、内置文件管理器过滤 原厂固件内置的文件管理器已将 .apk 文件列入过滤列表，不会响应用户的操作；**\n4、修改版系统框架 pms、ams 这些安卓系统服务都位于 framework 中，把安卓源代码改得面目全非是每个资深研发人员的“最高”追求，\n这也是最常用的限制实现途径。\n结合现象分析，广电机顶盒应该是通过修改系统框架，实现了对数字签名的验证。\n理论分析完毕，开始实操。\n备份 在任何操作之前，需要先备份好原系统，以免变砖后无法复原。\n通过 ADB 连接到机顶盒，进入机顶盒设置，输入广电客服电话“96956”，即可打开 ADB 调试。\n连接到机顶盒\nadb connect 192.168.1.20 adb ls /system/app 查看app文件夹 adb ls /dev/block/platform/mstar_mci.0/by-name/ 查看各分区 adb shell df 查看整个分区 编写了一个备份脚本，可以将系统打包备份到 U 盘中。\n@echo off color 0a ECHO. rem 清理旧备份 rd /s /q backup \u0026gt; nul 2\u0026gt;\u0026amp;1 adb ls dev/block/platform/mstar_mci.0/by-name adb shell \u0026#34;rm -rf /mnt/sdcard/backup\u0026#34; adb shell \u0026#34;mkdir /mnt/sdcard/backup\u0026#34; call :backup_partition MBOOT call :backup_partition MPOOL call :backup_partition boot call :backup_partition customer call :backup_partition dtb call :backup_partition dtbo call :backup_partition misc call :backup_partition factoryinfo call :backup_partition product call :backup_partition recovery call :backup_partition param call :backup_partition tvcertificate call :backup_partition tvconfig call :backup_partition tvservice call :backup_partition vbmeta rem 提示用户备份 vendor 分区可能需要一些时间 ECHO 正在备份晨星 vendor 分区，可能需要较长时间...... adb shell \u0026#34;dd if=/dev/block/platform/mstar_mci.0/by-name/vendor of=/mnt/sdcard/backup/vendor.img\u0026#34; rem 提示用户备份 system 分区可能需要一些时间 ECHO 正在备份晨星 system 分区，可能需要较长时间...... adb shell \u0026#34;dd if=/dev/block/platform/mstar_mci.0/by-name/system of=/mnt/sdcard/backup/system.img\u0026#34; call :upload_and_cleanup ECHO 备份完成，固件存放位置为工具根目录 backup 文件！！！ pause \u0026gt; NUL goto :eof :backup_partition set PARTITION_NAME=%1 ECHO 正在备份晨星 %PARTITION_NAME% 分区...... adb shell \u0026#34;dd if=/dev/block/platform/mstar_mci.0/by-name/%PARTITION_NAME% of=/mnt/sdcard/backup/%PARTITION_NAME%.img\u0026#34; goto :eof :upload_and_cleanup ECHO 正在上传备份的固件，可能需要较长时间...... @REM adb pull -p /mnt/sdcard/backup backup @REM adb shell \u0026#34;rm -rf /mnt/sdcard/backup\u0026#34; adb shell \u0026#34;cp -r /mnt/sdcard/backup /mnt/usb/sda1\u0026#34; adb shell \u0026#34;rm -rf /mnt/sdcard/backup\u0026#34; goto :eof 逆向 将 /system/framework/services.jar 拉下来，在电脑上使用 jadx 打开。 在左侧结构树中，找到 pm 包，进而找到 PackageManagerService 类。\n通过搜索错误代码-104，找到 12 处代码，逐一查看，找到关键判断代码：\n/* JADX INFO: Access modifiers changed from: private */ public void installPackageLI(InstallArgs args, boolean newInstall, PackageInstalledInfo res) { Signature testProjectSignature; int pFlags = args.flags; String installerPackageName = args.installerPackageName; File tmpPackageFile = new File(args.getCodePath()); boolean forwardLocked = (pFlags \u0026amp; 1) != 0; boolean onSd = (pFlags \u0026amp; 8) != 0; boolean replace = false; int scanMode = (onSd ? 0 : 1) | 4 | 8 | (newInstall ? 16 : 0); res.returnCode = 1; int parseFlags = this.mDefParseFlags | 2 | (forwardLocked ? 16 : 0) | (onSd ? 32 : 0); PackageParser pp = new PackageParser(tmpPackageFile.getPath()); pp.setSeparateProcesses(this.mSeparateProcesses); PackageParser.Package pkg = pp.parsePackage(tmpPackageFile, (String) null, this.mMetrics, parseFlags); if (pkg == null) { res.returnCode = pp.getParseError(); return; } String pkgName = pkg.packageName; res.name = pkgName; if ((pkg.applicationInfo.flags \u0026amp; 256) != 0 \u0026amp;\u0026amp; (pFlags \u0026amp; 4) == 0) { res.returnCode = -15; return; } if (!pp.collectCertificates(pkg, parseFlags)) { res.returnCode = pp.getParseError(); return; } if (args.manifestDigest != null \u0026amp;\u0026amp; !args.manifestDigest.equals(pkg.manifestDigest)) { res.returnCode = -23; return; } if (pkg.mSharedUserId != null \u0026amp;\u0026amp; pkg.mSharedUserId.equals(\u0026#34;android.uid.system\u0026#34;)) { testProjectSignature = sGuangdongSystemAppSignature; } else { testProjectSignature = sGuangdongThirdAppSignature; } if (testProjectSignature == null) { res.returnCode = -104; return; } if (pkg.mSignatures == null) { res.returnCode = -104; Slog.d(TAG, \u0026#34;installPackageLI package=\u0026#34; + tmpPackageFile + \u0026#34; no certificates\u0026#34;); return; } boolean found = false; Signature[] arr$ = pkg.mSignatures; int len$ = arr$.length; int i$ = 0; while (true) { if (i$ \u0026lt; len$) { Signature s = arr$[i$]; if (s == null || !s.equals(testProjectSignature)) { i$++; } else { found = true; break; } } else { break; } } if (!found) { res.returnCode = -104; Slog.d(TAG, \u0026#34;installPackageLI package=\u0026#34; + tmpPackageFile + \u0026#34; no project certificates\u0026#34;); return; } 解析代码 将这段代码喂给 AI，得到：\n这段代码的主要功能是安装一个应用程序包（APK）。代码的流程包括解析包、验证签名、处理现有应用包以及完成安装。下面是详细的逻辑解析：\n方法声明和参数:\n/* JADX INFO: Access modifiers changed from: private */ public void installPackageLI(InstallArgs args, boolean newInstall, PackageInstalledInfo res) InstallArgs args: 包含安装所需的各种参数，如代码路径、标志、安装程序包名等。 boolean newInstall: 标记是否是新的安装。 PackageInstalledInfo res: 存储安装结果的信息。 初始化变量:\nSignature testProjectSignature; int pFlags = args.flags; String installerPackageName = args.installerPackageName; File tmpPackageFile = new File(args.getCodePath()); boolean forwardLocked = (pFlags \u0026amp; 1) != 0; boolean onSd = (pFlags \u0026amp; 8) != 0; boolean replace = false; int scanMode = (onSd ? 0 : 1) | 4 | 8 | (newInstall ? 16 : 0); res.returnCode = 1; int parseFlags = this.mDefParseFlags | 2 | (forwardLocked ? 16 : 0) | (onSd ? 32 : 0); 设定了一些变量，包括文件路径、标志位等。 解析包:\nPackageParser pp = new PackageParser(tmpPackageFile.getPath()); pp.setSeparateProcesses(this.mSeparateProcesses); PackageParser.Package pkg = pp.parsePackage(tmpPackageFile, (String) null, this.mMetrics, parseFlags); if (pkg == null) { res.returnCode = pp.getParseError(); return; } 使用 PackageParser 解析 APK 文件。如果解析失败，返回错误代码并退出。 检查应用包:\nString pkgName = pkg.packageName; res.name = pkgName; if ((pkg.applicationInfo.flags \u0026amp; 256) != 0 \u0026amp;\u0026amp; (pFlags \u0026amp; 4) == 0) { res.returnCode = -15; return; } if (!pp.collectCertificates(pkg, parseFlags)) { res.returnCode = pp.getParseError(); return; } if (args.manifestDigest != null \u0026amp;\u0026amp; !args.manifestDigest.equals(pkg.manifestDigest)) { res.returnCode = -23; return; } 检查应用的标志、证书和 manifest 摘要。如果任何检查失败，设置错误代码并退出。 签名验证:\nif (pkg.mSharedUserId != null \u0026amp;\u0026amp; pkg.mSharedUserId.equals(\u0026#34;android.uid.system\u0026#34;)) { testProjectSignature = sGuangdongSystemAppSignature; } else { testProjectSignature = sGuangdongThirdAppSignature; } if (testProjectSignature == null) { res.returnCode = -104; return; } if (pkg.mSignatures == null) { res.returnCode = -104; Slog.d(TAG, \u0026#34;installPackageLI package=\u0026#34; + tmpPackageFile + \u0026#34; no certificates\u0026#34;); return; } boolean found = false; Signature[] arr$ = pkg.mSignatures; int len$ = arr$.length; int i$ = 0; while (true) { if (i$ \u0026lt; len$) { Signature s = arr$[i$]; if (s == null || !s.equals(testProjectSignature)) { i$++; } else { found = true; break; } } else { break; } } if (!found) { res.returnCode = -104; Slog.d(TAG, \u0026#34;installPackageLI package=\u0026#34; + tmpPackageFile + \u0026#34; no project certificates\u0026#34;); return; } 根据应用的共享用户 ID 选择正确的签名。检查应用包的签名是否与预期的签名匹配。如果没有找到匹配的签名，则设置错误代码并退出。 处理现有应用包:\nString oldCodePath = null; boolean systemApp = false; synchronized (this.mPackages) { if ((pFlags \u0026amp; 2) != 0) { String oldName = this.mSettings.mRenamedPackages.get(pkgName); if (pkg.mOriginalPackages != null \u0026amp;\u0026amp; pkg.mOriginalPackages.contains(oldName) \u0026amp;\u0026amp; this.mPackages.containsKey(oldName)) { pkg.setPackageName(oldName); pkgName = pkg.packageName; replace = true; } else if (this.mPackages.containsKey(pkgName)) { replace = true; } } PackageSetting ps = this.mSettings.mPackages.get(pkgName); if (ps != null) { oldCodePath = this.mSettings.mPackages.get(pkgName).codePathString; if (ps.pkg != null \u0026amp;\u0026amp; ps.pkg.applicationInfo != null) { systemApp = (ps.pkg.applicationInfo.flags \u0026amp; 1) != 0; } res.origUsers = ps.queryInstalledUsers(sUserManager.getUserIds(), true); } } 检查包是否已存在。如果是系统应用且安装在 SD 卡上，设置错误代码并退出。如果是新安装，则处理包的路径和用户信息。 执行安装:\nif (systemApp \u0026amp;\u0026amp; onSd) { Slog.w(TAG, \u0026#34;Cannot install updates to system apps on sdcard\u0026#34;); res.returnCode = -19; return; } if (!args.doRename(res.returnCode, pkgName, oldCodePath)) { res.returnCode = -4; return; } setApplicationInfoPaths(pkg, args.getCodePath(), args.getResourcePath()); pkg.applicationInfo.nativeLibraryDir = args.getNativeLibraryPath(); if (replace) { replacePackageLI(pkg, parseFlags, scanMode, args.user, installerPackageName, res); } else { installNewPackageLI(pkg, parseFlags, scanMode, args.user, installerPackageName, res); } synchronized (this.mPackages) { PackageSetting ps2 = this.mSettings.mPackages.get(pkgName); if (ps2 != null) { res.newUsers = ps2.queryInstalledUsers(sUserManager.getUserIds(), true); } } 如果所有检查都通过，执行实际的包安装（替换或新安装）。设置应用的路径信息，并更新用户信息。 证书验证逻辑 继续询问 AI 关键的签名验证部分，得到：\n签名验证部分是确保安装的应用程序包（APK）具有预期的签名，以防止安装恶意或未经授权的应用。下面是签名验证部分的详细讲解：\nif (pkg.mSharedUserId != null \u0026amp;\u0026amp; pkg.mSharedUserId.equals(\u0026#34;android.uid.system\u0026#34;)) { testProjectSignature = sGuangdongSystemAppSignature; } else { testProjectSignature = sGuangdongThirdAppSignature; } 根据应用包的共享用户 ID (pkg.mSharedUserId) 来确定使用哪个测试项目签名。 如果共享用户 ID 是 android.uid.system，则使用 sGuangdongSystemAppSignature。 否则，使用 sGuangdongThirdAppSignature。 if (testProjectSignature == null) { res.returnCode = -104; return; } 如果没有找到合适的 testProjectSignature，则设置返回码为 -104 并退出方法。 if (pkg.mSignatures == null) { res.returnCode = -104; Slog.d(TAG, \u0026#34;installPackageLI package=\u0026#34; + tmpPackageFile + \u0026#34; no certificates\u0026#34;); return; } 如果解析出来的包没有签名（pkg.mSignatures 为空），则设置返回码为 -104，记录日志并退出方法。 boolean found = false; Signature[] arr$ = pkg.mSignatures; int len$ = arr$.length; int i$ = 0; while (true) { if (i$ \u0026lt; len$) { Signature s = arr$[i$]; if (s == null || !s.equals(testProjectSignature)) { i$++; } else { found = true; break; } } else { break; } } 遍历 pkg.mSignatures 中的签名，检查是否有一个签名与 testProjectSignature 匹配。 如果找到匹配的签名，则将 found 设置为 true 并跳出循环。 如果没有找到匹配的签名，则继续循环直到检查完所有签名。 if (!found) { res.returnCode = -104; Slog.d(TAG, \u0026#34;installPackageLI package=\u0026#34; + tmpPackageFile + \u0026#34; no project certificates\u0026#34;); return; } 如果没有找到匹配的签名（found 仍为 false），则设置返回码为 -104，记录日志并退出方法。 修改 有一个简单粗暴的方法，使得 boolean found始终= true即可。\n理论上将修改后的services.jar打包放回系统即可，但若失败需要拆机使用 TLL 编程器进行救砖，我手上的机顶盒还在保修期中，就不进行尝试了。\n救砖方法：https://www.right.com.cn/forum/thread-8302557-1-1.html\n有趣的事情 解包内置的机顶盒设置，位于 system/app/SUMA_GCABLE_SystemSetting_sys_signed.apk，可以找到 ADB 的后门代码。\nprivate int[] mAdbBackDoorKeys = {16, 13, 16, 12, 13}; private int[] mVersionBackDoorKeys = {19, 19, 20, 20, 21, 22, 21, 22}; @Override // android.app.Activity, android.view.KeyEvent.Callback public boolean onKeyDown(int i, KeyEvent keyEvent) { Log.i(TAG, \u0026#34;keyCode: \u0026#34; + i); int i2 = this.mCurrentAdbBackDoorIndex; int[] iArr = this.mAdbBackDoorKeys; if (i2 \u0026lt;= iArr.length \u0026amp;\u0026amp; i == iArr[i2]) { this.mCurrentAdbBackDoorIndex = i2 + 1; Log.i(TAG, \u0026#34;mCurrentAdbBackDoorIndex: \u0026#34; + this.mCurrentAdbBackDoorIndex); if (this.mCurrentAdbBackDoorIndex \u0026gt;= this.mAdbBackDoorKeys.length) { Log.i(TAG, \u0026#34; SystemProperties.set(\\\u0026#34;ctl.start\\\u0026#34;,\\\u0026#34;adbd\\\u0026#34;);\u0026#34;); Reflects.SystemProperties.set(\u0026#34;ctl.start\u0026#34;, \u0026#34;adbd\u0026#34;); Reflects.SystemProperties.set(\u0026#34;ctl.start\u0026#34;, \u0026#34;console\u0026#34;); Toast.makeText(this, \u0026#34;adb 已经打开\u0026#34;, 0).show(); this.mCurrentAdbBackDoorIndex = 0; } } else { this.mCurrentAdbBackDoorIndex = 0; } return super.onKeyDown(i, keyEvent); } 参考文献 https://www.bilibili.com/video/BV1bm421E76a\nhttps://www.znds.com/tv-1210588-1-1.html\nhttps://www.52pojie.cn/thread-1136160-1-1.html\nhttps://www.52pojie.cn/thread-710679-1-1.html\n","permalink":"https://weixiang.github.io/posts/exploration-of-guangdong-cable-tv-box-apk-installation-restrictions/","summary":"广东广电 2024 年仍无 IPv6，更无公网 IP，电视机顶盒禁止所有方式的第三方 APK 安装，本次探究 APK 安装限制的实现原理及绕过方法。","title":"广东广电机顶盒 APK 安装限制探究"},{"content":"前言 2024 年 8 月 8 日更新：\n由于某些众所周知的原因，国内 Docker 镜像已经成为历史，本文已不具有可行性，仅供参考。\n由于群晖 Docker 套件，其 Bridge 网桥默认的网段为 172 段，很容易和现有网段冲突，导致发包错误，需要避开才可正常通信。\nDocker 配置文件位置 先开启 DSM 的 SSH 登录，然后通过 SSH 连接到 DSM。\nDSM7.2 前，使用以下命令。\nsudo vim /var/packages/Docker/etc/dockerd.json DSM7.2 后 Docker 更名为 Container Manager，并升级了 UI 以便于更新和清理容器。因此路径也需要更改。\nsudo vim /var/packages/ContainerManager/etc/dockerd.json 清空内容小技巧：\n（vi 进入文件后）在命令模式下，先执行 gg(跳转光标至文件首行)； 再执行 dG，这样就清空了整个文件。 修改配置文件 DSM7.2 前，使用以下配置。\n{ \u0026#34;data-root\u0026#34;: \u0026#34;/var/packages/Docker/var/docker\u0026#34;, \u0026#34;log-driver\u0026#34;: \u0026#34;db\u0026#34;, \u0026#34;storage-driver\u0026#34;: \u0026#34;btrfs\u0026#34;, \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;https://docker.mirrors.ustc.edu.cn\u0026#34;, \u0026#34;https://hub-mirror.c.163.com\u0026#34;, \u0026#34;https://registry.docker-cn.com\u0026#34; ], \u0026#34;bip\u0026#34;: \u0026#34;192.168.10.1/24\u0026#34;, \u0026#34;default-address-pools\u0026#34;: [ { \u0026#34;base\u0026#34;: \u0026#34;192.168.10.0/24\u0026#34;, \u0026#34;size\u0026#34;: 24 } ] } DSM7.2 后，使用以下配置。\n{ \u0026#34;data-root\u0026#34;: \u0026#34;/var/packages/ContainerManager/var/docker\u0026#34;, \u0026#34;log-driver\u0026#34;: \u0026#34;db\u0026#34;, \u0026#34;storage-driver\u0026#34;: \u0026#34;btrfs\u0026#34;, \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;https://docker.mirrors.ustc.edu.cn\u0026#34;, \u0026#34;https://hub-mirror.c.163.com\u0026#34;, \u0026#34;https://registry.docker-cn.com\u0026#34; ], \u0026#34;bip\u0026#34;: \u0026#34;192.168.10.1/24\u0026#34;, \u0026#34;default-address-pools\u0026#34;: [ { \u0026#34;base\u0026#34;: \u0026#34;192.168.10.0/24\u0026#34;, \u0026#34;size\u0026#34;: 24 } ] } 提醒：配置不可省略 data-root 路径，否则配置不生效。\n重启 Docker systemctl daemon-reload systemctl restart pkgctl-Docker # DSM7.2前 systemctl restart pkgctl-ContainerManager # DSM7.2后 附录：常见国内加速镜像源 \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;https://docker.mirrors.ustc.edu.cn\u0026#34;, \u0026#34;https://hub-mirror.c.163.com\u0026#34;, \u0026#34;https://registry.docker-cn.com\u0026#34; ] 阿里云镜像加速器获取：https://help.aliyun.com/zh/acr/user-guide/accelerate-the-pulls-of-docker-official-images\n参考文献 https://www.ithome.com/0/680/524.htm https://cr.console.aliyun.com https://help.aliyun.com/zh/acr/user-guide/accelerate-the-pulls-of-docker-official-images https://community.synology.com/enu/forum/17/post/107492 https://support.hyperglance.com/knowledge/changing-the-default-docker-subnet https://www.synoforum.com/threads/docker-restart-on-cli.4678/ https://gist.github.com/styblope/dc55e0ad2a9848f2cc3307d4819d819f\n","permalink":"https://weixiang.github.io/posts/changing-dockers-bridge-segment-in-dsm-and-configuring-the-mirror-source/","summary":"由于群晖 Docker 套件的 Bridge 网桥默认的网段很容易和现有网段冲突，需要避开才可正常通信。本文记录了如何更改 Container Manager 的网段和配置国内加速镜像源。","title":"群晖 DSM Docker 更改 Bridge 网段及配置镜像源"},{"content":"服务端 下载安装包\n在 https://github.com/fatedier/frp/releases 中下载对应架构的安装包，解压放置到 /usr/local 目录下。\n使用 Docker\ndocker run --restart=always --network host -d -v /opt/frp:/etc/frp --name frps snowdreamtech/frps 编写配置文件 根据业务需求修改 frps.ini\nvim /usr/local/frp/frps.ini [common] # 绑定端口 bind_port = 7000 # bind_udp_port = 7001 # 管理面板 dashboard_addr = 0.0.0.0 dashboard_port = 7500 dashboard_user = admin dashboard_pwd = passwd # 使用宝塔的自签证书 dashboard_tls_mode = true dashboard_tls_cert_file = /www/server/panel/ssl/certificate.pem dashboard_tls_key_file = /www/server/panel/ssl/privateKey.pem # 日志 # log_file = ./frps.log # trace, debug, info, warn, error log_level = info log_max_days = 7 # auth token token = yourtoken 根据配置文件开放对应端口，测试运行\ncd /usr/local/frp ./frps -c ./frps.ini 使用 systemd 持久化运行 安装 systemd\n# yum yum install systemd # apt apt install systemd 使用文本编辑器，如 vim 创建并编辑 frps.service 文件\nvim /etc/systemd/system/frps.service 写入内容\n[Unit] # 服务名称，可自定义 Description = frp server After = network.target syslog.target Wants = network.target [Service] Type = simple # 启动 frps 的命令，需修改为您的 frps 的安装路径 ExecStart = /usr/local/frp/frps -c /usr/local/frp/frps.ini [Install] WantedBy = multi-user.target 使用 systemd 命令，管理 frps。\n# 启动frp systemctl start frps # 停止frp systemctl stop frps # 重启frp systemctl restart frps # 查看frp状态 systemctl status frps # 查看frp日志 journalctl -u frps tail -f /usr/local/frp/frps.ini 配置 frps 开机自启。\nsystemctl enable frps 客户端 在 https://github.com/fatedier/frp/releases 中下载对应架构的安装包，或使用 Docker 部署。\n[common] server_addr = 服务器地址 server_port = 7000 token = yourtoken tls_enable = true # http_proxy = socks5://192.168.31.166:7890 [dsm] type = tcp use_encryption = true local_ip = 127.0.0.1 local_port = 5000 remote_port = 7006 [jellyfin] type = tcp use_encryption = true local_ip = 127.0.0.1 local_port = 8096 remote_port = 7007 [homeassistance] type = tcp use_encryption = true local_ip = 127.0.0.1 local_port = 8123 remote_port = 7008 [openvpn] type = tcp use_encryption = true local_ip = 127.0.0.1 local_port = 1194 remote_port = 7009 [dsm1-https2http] type = tcp local_ip = 172.17.0.1 remote_port = 40020 plugin = https2http plugin_local_addr = 172.17.0.1:5000 plugin_crt_path = /etc/frp/example.com.pem plugin_key_path = /etc/frp/example.com.key ","permalink":"https://weixiang.github.io/posts/frp-deployment-notes/","summary":"frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议，且支持 P2P 通信。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。","title":"FRP 部署笔记"},{"content":"以 X-WRT 为例，使用 Ubuntu 22.04 LTS 系统，建议使用国外服务器编译。\n编译准备 不要用 root 用户进行编译操作，因此需要先新建一个用户，并且授予 root 权限\n# Login via SSH ssh root@your_server_ip # Create a new user and follow prompts adduser \u0026lt;user\u0026gt; # Add user to superuser group to unlock admin privileges usermod -aG sudo \u0026lt;user\u0026gt; # Then log in as the new user su - \u0026lt;user\u0026gt; 更新软件包并安装依赖\n# Update package lists sudo apt-get update # Update installed packages sudo apt-get upgrade sudo apt install build-essential ecj fastjar file flex g++ gcc-multilib g++-multilib gawk gettext git git-core java-propose-classpath libelf-dev libncurses5-dev libncursesw5-dev libssl-dev swig python3 python3-distutils subversion unzip wget zlib1g-dev rsync qemu-utils 下载源码 git clone https://github.com/x-wrt/x-wrt.git cd x-wrt #更新代码tag: git fetch origin git fetch origin --tags #列出可以使用的版本tag: git tag #注意按 q 键结束 #或者直接获取最新发布版本 git describe --tags $(git rev-list --tags --max-count=1) #选择并切换到指定的版本tag: git checkout -f \u0026lt;tag-name\u0026gt; #例如 git checkout -f 21.10_b202112032317 #或者 git checkout -f $(git describe --tags $(git rev-list --tags --max-count=1)) #更新代码: ./scripts/feeds update -a ./scripts/feeds install -a 然后就可以使用 make menuconfig 进行固件配置，但是我们可以从配置模版开始会更轻松一些。\n比如 ramips-mt7621 的设备可以用拷贝这个模版 feeds/x/rom/lede/config.ramips-mt7621 内核分区限制小的设备，选用 -nosymbol 结尾的 config 配置模版。\n# 0 拷贝模板到根目录 cp feeds/x/rom/lede/config.ramips-mt7621 .config # 1 执行 make menuconfig # 2 进入 Target Profile 选择需要编译打包的设备型号，选择型号后立刻退出，保存 #3 执行下面的命令修复 .config sh feeds/x/rom/lede/fix-config.sh #4 再次执行 make menuconfig 然后立刻退出保存 make menuconfig #5 最后一次 执行 make menuconfig 自定义选择你需要的软件包 make menuconfig 配置目标（可选项） 在上述准备好的模版配置文件的基础上，执行 make menuconfig 命令进行个性化定制，增删应用。\n定位到各个子菜单，选择对应的软件包。\n添加自定义源\n# 进入openwrt目录 cd ~/openwrt # 添加自定义源 cat \u0026gt;\u0026gt; feeds.conf.default \u0026lt;\u0026lt;EOF src-git kenzo https://github.com/kenzok8/openwrt-packages src-git passwall https://github.com/xiaorouji/openwrt-passwall EOF 更新下载软件仓库的源码到本地，并安装自定义源包含的软件包\n./scripts/feeds update -a \u0026amp;\u0026amp; ./scripts/feeds install -a 添加插件 首先，进入 make menuconfig 菜单\n要编译到固件里面，就要选择\u0026lt;\\*\u0026gt;，如果只选择\u0026lt;M\u0026gt;只是编译成软件包 ipk，不会打包进入固件。\n进入 LuCI - Applications 子菜单下面，选择自己想要的应用\n进入 Kernel modules - USB Support 菜单，选择 USB 支持的驱动\n进入 Kernel modules - Filesystems 菜单，选择需要支持的文件系统，比如 ext4,ntfs,vfat 等\n进入 Kernel modules - Wireless Drivers 菜单，选择无线支持的驱动，如果需要挂卡的驱动，也是在这里找\n单独添加软件包 如果需要单独添加软件，请拉取源码到 package 目录之下。示例如下：\n# 添加 OpenAppFilter 应用过滤插件 git clone https://github.com/destan19/OpenAppFilter package/OpenAppFilter # 添加 OpenClash git clone https://github.com/vernesong/OpenClash.git mv OpenClash/luci-app-openclash package/ # 添加 eqos git clone https://github.com/zhaojh329/eqos.git package/ # 在 make menuconfig 选择以下项目 # LuCI \u0026gt; Applications \u0026gt; luci-app-eqos # Network \u0026gt; eqos 执行 make menuconfig 进行配置 OpenClash: LuCI \u0026gt; Applications \u0026gt; luci-app-openclash Kernel modules \u0026gt; Network Support \u0026gt; kmod-tun\nOpenClash 需要排除 dnsmasq，安装 dnsmasq-full，不排除会冲突: Base system \u0026gt; dnsmasq\neqos: LuCI \u0026gt; Applications \u0026gt; luci-app-eqos Network \u0026gt; eqos\n设置默认主题 注：此操作请在编译前执行，设置 ar­gon 为默认主题，以此为例举一反三\n# 删除自定义源默认的 argon 主题 rm -rf package/lean/luci-theme-argon # 部分第三方源自带 argon 主题，上面命令删除不掉的请运行下面命令 find ./ -name luci-theme-argon | xargs rm -rf; # 针对 LEDE 项目拉取 argon 原作者的源码 git clone -b 18.06 https://github.com/jerrykuku/luci-theme-argon.git package/lean/luci-theme-argon # 替换默认主题为 luci-theme-argon sed -i \u0026#39;s/luci-theme-bootstrap/luci-theme-argon/\u0026#39; feeds/luci/collections/luci/Makefile 设置路由器默认的 LAN IP 注：此操作请在编译前执行\n# 设置默认IP为 192.168.199.1 sed -i \u0026#39;s/192.168.1.1/192.168.199.1/g\u0026#39; package/base-files/files/bin/config_generate 执行编译 命令：\nmake 或者\n# -j1：单线程编译 make -j1 V=s 单线程编译可提高编译成功率，但过程非常漫长，也完全取决于机器的性能。\n编译完成后固件输出路径：bin/targets/下面。\n如果需要再次修改配置编译，只要不是换设备，都可以直接 make menuconfig 修改后就编译，如果需要修改设备，请从拷贝模版配置的地方重新开始配置。\n二次编译步骤 更新本地编译环境\n# 更新软件列表、升级软件包 sudo sh -c \u0026#34;apt update \u0026amp;\u0026amp; apt upgrade -y\u0026#34; # 拉取最新源码 cd ~/openwrt \u0026amp;\u0026amp; git pull # 更新下载安装订阅源包含的软件包 cd ~/openwrt ./scripts/feeds update -a \u0026amp;\u0026amp; ./scripts/feeds install -a 清理旧文件\n# 删除/bin和/build_dir目录中的文件 make clean 如果要更换架构，例如要从 x86_64 换到 MediaTek Ralink MIPS 建议执行以下命令深度清理 /bin 和 /build_dir 目录的中的文件 (make clean) 以及 /staging_dir、/toolchain、/tmp 和 /logs 中的文件。\nmake dirclean 如果需要对组件重新调整，则建议先删除旧配置\nrm -rf ./tmp \u0026amp;\u0026amp; rm -rf .config 根据自己的定制需求，再次调整 Open­Wrt 系统组件\nmake menuconfig 下载编译所需的软件包\nmake download -j8 V=s 编译 Open­Wrt 固件\nmake -j$(nproc) || make -j1 || make -j1 V=s 二次编译可以优先使用多线程，报错会自动使用单线程，仍然报错会单线程执行编译并输出详细日志。\n附录 常用插件列表\n在调整 Open­Wrt 系统组件时：[*] 表示编译软件包并加入到固件；[M] 表示编译软件包但不加入固件；[ ] 则表示不对软件包进行任何设置。\n# 常见 luci-app-aria2 ARRIA2 下载工具 luci-app-ddns DDNS 工具 luci-app-mwan3 MWAN3 负载均衡 luci-app-openvpn OPENVPN luci-app-ksmbd Ksmbd 文件网络共享（samba 文件共享） luci-app-upnp UPNP 设置 luci-app-wireguard WireGuard 配置界面 luci-app-natcap 远程界面管理模块和全锥形 nat 实现模块 luci-app-natflow-users 用户认证（用户流量显示）模块 ## 插件类 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-accesscontrol #上网时间控制 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-adbyby-plus #去广告 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-arpbind #IP/MAC 绑定 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-autoreboot #高级重启 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-aliddns #阿里 DDNS 客户端 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-ddns #动态域名 DNS LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-filetransfer #文件传输 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-firewall #添加防火墙 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-frpc #内网穿透 Frp LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-mwan3 #MWAN 负载均衡 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-nlbwmon #网络带宽监视器 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-ramfree #释放内存 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-samba #网络共享 (Samba) LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-sqm #流量智能队列管理 (QOS) LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-openclash #你懂的那只猫 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-dnsfilter #广告过滤 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-passwall #不敢解释 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-mtwifi #闭源 Wi-Fi 驱动 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-eqos #根据 IP 控制网速 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-syncdial #薛定谔的多拨应用 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-zerotier #虚拟局域网 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-oaf #应用过滤神器 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-watchcat #断网检测功能与定时重启 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-wol #WOL 网络唤醒 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-wrtbwmon #实时流量监测 LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-upnp #通用即插即用 UPnP(端口自动转发) LuCI ---\u0026gt; Applications ---\u0026gt; luci-app-argon-config #Argon 主题设置 # 常用主题类 LuCI ---\u0026gt; Themes ---\u0026gt; luci-theme-argon # 网络相关 (普通用户用不上） Network ---\u0026gt; IP Addresses and Names ---\u0026gt; ddns-scripts_cloudflare.com-v4 Network ---\u0026gt; IP Addresses and Names ---\u0026gt; bind-dig Network ---\u0026gt; Routing and Rediction ---\u0026gt; ip-full Network ---\u0026gt; File Transfer ---\u0026gt; curl Network ---\u0026gt; File Transfer ---\u0026gt; wget-ssl Network ---\u0026gt; iperf3 Network ---\u0026gt; ipset Network ---\u0026gt; socat #多功能的网络工具 Base system --\u0026gt; dnsmasq-full #DNS 缓存和 DHCP 服务（dnsmasq-full 和 dnsmasq 二者不可共存） # 工具类 (普通用户用不上） Utilities --\u0026gt; acpid #电源管理接口（适用于 x86 平台） Utilities --\u0026gt; Editors --\u0026gt; nano #Nano 编辑器 Utilities --\u0026gt; Shells --\u0026gt; bash #命令解释程序 Utilities --\u0026gt; disc --\u0026gt; eject #弹出可移动介质 Utilities --\u0026gt; disc --\u0026gt; fdisk #MBR 分区工具 Utilities --\u0026gt; disc --\u0026gt; gdisk #GBT 分区工具 Utilities --\u0026gt; disc --\u0026gt; lsblk #列出磁盘设备及分区查看工具 Utilities --\u0026gt; Filesystem --\u0026gt; resize2fs #调整文件系统大小 Utilities --\u0026gt; Filesystem --\u0026gt; e2fsprogs #Ext2（及 Ext3/4）文件系统工具 # IPv6（未来运营商可能不再提供 IPv4 公网地址，有远程访问需求的建议加入） Extra packages ---\u0026gt; ipv6helper（勾选此项即可，下面几项自动勾选） Network ---\u0026gt; odhcp6c Network ---\u0026gt; odhcpd-ipv6only LuCI ---\u0026gt; Protocols ---\u0026gt; luci-proto-ipv6 LuCI ---\u0026gt; Protocols ---\u0026gt; luci-proto-ppp 参考文献 https://blog.x-wrt.com/docs/build/\nhttps://www.moewah.com/archives/4003.html\nhttps://ghost.org/docs/install/ubuntu/\nhttps://github.com/skyformat99/eqos/blob/master/README_ZH.md\nhttps://xiaohai.co/build-openwrt-firmware/\n","permalink":"https://weixiang.github.io/posts/compile-openwrt-yourself/","summary":"以 X-WRT 为例，使用 Ubuntu 22.04 LTS 系统，自己为红米 AC2100 编译一个 OpenWRT 路由器固件。","title":"自己编译 OpenWRT"},{"content":"开启虚拟化功能 首先需要去 BIOS 开启虚拟化，各品牌电脑不一致。 RedmiBook Pro 2022 锐龙版 默认已经开启 AMD-V™，无需额外操作。\n安装 WLS2 在终端输入以下命令\nwsl --install dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart wsl --set-default-version 2 完成后重启电脑。\n安装 Ubuntu 打开 Microsoft Store，直接搜索 Ubuntu 安装即可。 传送门→ https://www.microsoft.com/store/productId/9PDXGNCFSCZV\n配置 安装 VSCode 插件 打开 VSCode 会自动检测到 WLS2 环境，点击安装即可。\n配置中文语言包 sudo apt install language-pack-zh-hans sudo dpkg-reconfigure locales 选择en_US.UTF-8和zh_CN.UTF-8，选择zh_CN.UTF-8为默认语言，重新打开终端生效。\n配置代理 查看宿主机 IP\ncat /etc/resolv.conf | grep nameserver | awk \u0026#39;{ print $2 }\u0026#39; 设置代理\nexport http_proxy=\u0026#39;http://\u0026lt;Windows IP\u0026gt;:\u0026lt;Port\u0026gt;\u0026#39; export https_proxy=\u0026#39;http://\u0026lt;Windows IP\u0026gt;:\u0026lt;Port\u0026gt;\u0026#39; 设置 git 代理\n// 添加代理 git config --global http.proxy \u0026#34;${PROXY_HTTP}\u0026#34; git config --global https.proxy \u0026#34;${PROXY_HTTP}\u0026#34; // 移除代理 git config --global --unset http.proxy git config --global --unset https.proxy 参考文献 https://learn.microsoft.com/en-us/windows/wsl/install https://zhuanlan.zhihu.com/p/466001838 https://zinglix.xyz/2020/04/18/wsl2-proxy/\n","permalink":"https://weixiang.github.io/posts/install-wls2-ubuntu-subsystem-on-windows11/","summary":"在 Windows11 上安装和配置 WLS2 Ubuntu 子系统，以 RedmiBook Pro 2022 锐龙版为例。","title":"Windows11 安装 WLS2 Ubuntu 子系统"},{"content":"又来捣鼓网页字体了，在此之前已经搞了几篇了\n中文网页中的字体选型及开发指南\n给 Ghost 博客更换字体\n字体在设计中的运用\n这次要解决的新问题是，如何去掉代码块中难看的中文宋体。\n众所周知，绝大部分等宽字体都是不带中文的，如果直接像这样定义代码块的字体：\n:root { --font-mono: ui-monospace, SFMono-Regular, \u0026#34;SF Mono\u0026#34;, \u0026#34;Cascadia Code\u0026#34;, \u0026#34;Segoe UI Mono\u0026#34;, \u0026#34;Source Code Pro\u0026#34;, Menlo, Consolas, \u0026#34;Liberation Mono\u0026#34;, monospace; } 那么在代码里的中文，就会因为没有字体匹配，回落到系统默认的中易宋体，非常影响阅读体验。\n下面我们就来解决这个问题。\nfont-face 通过设置 unicode-range 属性时需要明确字符的 Unicode 范围，可以实现指定中文字符的字体。\n@font-face { font-family: \u0026#34;ChineseFont\u0026#34;; src: local(\u0026#34;PingFang SC\u0026#34;), local(\u0026#34;Microsoft YaHei\u0026#34;), local(\u0026#34;Noto Sans CJK SC\u0026#34;); unicode-range: U+2E80-A4CF, U+F900-FAFF, U+FE30-FE4F; } 然后在代码字体中加上刚刚设置的自定义字体\n:root { --font-mono: ChineseFont, ui-monospace, SFMono-Regular, \u0026#34;SF Mono\u0026#34;, \u0026#34;Cascadia Code\u0026#34;, \u0026#34;Segoe UI Mono\u0026#34;, \u0026#34;Source Code Pro\u0026#34;, Menlo, Consolas, \u0026#34;Liberation Mono\u0026#34;, monospace; } 代码块中的中文就被替换为了我们指定的中文字体，就是这个效果\nprint(\u0026#34;I can eat glass, it doesn\u0026#39;t hurt me.\u0026#34;); // 我能吞下玻璃而不伤身体。 ","permalink":"https://weixiang.github.io/posts/set-different-fonts-for-english-and-chinese-in-css/","summary":"在 CSS 中设置网页中的中英文使用不同的字体，优化代码阅读体验。","title":"CSS 中英文使用不同字体"},{"content":"配置文件 将以下内容存为 stack.yml，此处为了不与本机已有的 MySQL 5.x 冲突，重新映射了端口。\n需要提前建好 /www/server/mysql8/mysql 目录和 my.cnf 文件。\nversion: \u0026#39;3.1\u0026#39; services: db: image: mysql command: --default-authentication-plugin=mysql_native_password restart: always environment: MYSQL_ROOT_PASSWORD: yourPassword ports: - \u0026#39;3307:3306\u0026#39; volumes: - \u0026#39;/www/server/mysql8/mysql:/var/lib/mysql\u0026#39; - \u0026#39;/www/server/mysql8/my.cnf:/etc/mysql/my.cnf\u0026#39; - \u0026#39;/etc/localtime:/etc/localtime:ro\u0026#39; 启动容器\ndocker-compose -f stack.yml up 配置远程访问 MySQL 安装完成后只支持 localhost 访问，我们必须设置一下才可以远程访问，另外还有一些 MySQL 8.0 连接时的一些问题。（巨坑）\n查看容器列表\ndocker container ls 进入容器\ndocker exec -it yourContainerId bash 登录到 MySQL\nmysql -u root -p 开始施法\nuse mysql; select host, user, authentication_string, plugin from user; # 查看表格中 root 用户的 host，默认应该显示的 localhost，只支持本地访问，不允许远程访问。 GRANT ALL ON *.* TO \u0026#39;root\u0026#39;@\u0026#39;%\u0026#39;; # GRANT ALL ON 表示所有权限，% 表示通配所有 host，可以访问远程。 ALTER USER \u0026#39;root\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED WITH mysql_native_password BY \u0026#39;yourPassword\u0026#39;; flush privileges; # 刷新权限 测试连接 mysql -h 127.0.0.1 -P 3307 -u root -p 参考文献 https://hub.docker.com/_/mysql\nhttp://netsite.win/2018/06/13/mysql/mysql8%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%8F%8A%E6%8E%88%E6%9D%83-%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5-%E5%9D%91/\n","permalink":"https://weixiang.github.io/posts/deploy-mysql-8-0-using-docker/","summary":"使用 Docker Compose 部署 MySQL 8.0 数据库服务器，数据持久化，以及配置远程访问权限。","title":"Docker 部署 MySQL 8.0"},{"content":"原本华擎 J3455 是最接近 DS918 原厂配置的主板，乃黑群晖之上品，但却因为华擎的骚操作，导致这款主板安装 DSM 时会出现各种奇奇怪怪的问题，启动慢，传输速度慢等等。在距离这款主板发布五年有余的 2022 年，终于水落石出。问题就出在华擎在 BIOS 中隐藏了 OS 兼容性的选项。\n破题 参考其他主板的 BIOS\n0x193E1 One Of: OS Selection, VarStoreInfo (VarOffset/VarName): 0x494, VarStore: 0x1, QuestionId: 0x272A, Size: 1, Min: 0x0, Max 0x4, Step: 0x0 {05 91 9C 01 9D 01 2A 27 01 00 94 04 14 10 00 04 00} 0x193F2 One Of Option: Windows, Value (8 bit): 0x0 (default) {09 07 9E 01 30 00 00} 0x193F9 One Of Option: Android, Value (8 bit): 0x1 {09 07 9F 01 00 00 01} 0x19400 One Of Option: Win7, Value (8 bit): 0x2 {09 07 A0 01 00 00 02} 0x19407 One Of Option: Intel Linux, Value (8 bit): 0x3 {09 07 A2 01 00 00 03} 0x1940E One Of Option: MSDOS, Value (8 bit): 0x4 {09 07 A1 01 00 00 04} 0x19415 End One Of {29 02} 下面是华擎的 BIOS\n0x19C71 One Of: OS Selection, VarStoreInfo (VarOffset/VarName): 0x48A, VarStore: 0x1, QuestionId: 0x273E, Size: 1, Min: 0x0, Max 0x4, Step: 0x0 {05 91 E0 01 E1 01 3E 27 01 00 8A 04 14 10 00 04 00} 0x19C82 One Of Option: Windows, Value (8 bit): 0x0 (default) {09 07 E2 01 30 00 00} 0x19C89 One Of Option: Android, Value (8 bit): 0x1 {09 07 E3 01 00 00 01} 0x19C90 One Of Option: Win7, Value (8 bit): 0x2 {09 07 E4 01 00 00 02} 0x19C97 One Of Option: MSDOS, Value (8 bit): 0x4 {09 07 E5 01 00 00 04} 0x19C9E End One Of {29 02} 可以发现缺少了一项\n0x19407 One Of Option: Intel Linux, Value (8 bit): 0x3 {09 07 A2 01 00 00 03} 这就是问题所在。\n升级 BIOS 解决这个问题，首先要将 BIOS 升级到最新的 1.8 版本，若原版本过旧，需要先升级到 1.7 再升级为 1.8。 前往华擎官网下载即可：https://www.asrock.com/mb/Intel/J3455-ITX/index.cn.asp#BIOS 下载 BIOS 时，通过 中国 无法下载时，可以开代理，选择 全球 会更快一些。 华擎 J3455 P1.8 BIOS 下载地址：https://download.asrock.com/BIOS/CPU/J3455-ITX(1.80)ROM.zip 下载后 解压 到 U 盘，重启按住 F6 即可进入升级界面（图文不符）。 具体可参考：https://www.asrock.com/support/BIOSIG.cn.asp?cat=BIOS8 制作 AmiSetupWriter 启动盘 首先建议选择 UEFI 进行引导。 下载 AmiSetupWriter，解压到一个 FAT32 的空白 U 盘的根目录。 此工具可以在互联网上找到，常见用途是强行给 10 代以上的主板装 Windows 7（奇怪的要求 这里放一个两个下载链接，若失效可自行搜索下载。 https://mega.nz/folder/NC5CXLQS#YNCi_9IDn18y7axbdNyRMQ https://pan.baidu.com/wap/init?surl=H4suGj8pwVPw2oAZsCn1dA （提取码：jzhu）\n修改 BIOS 将启动盘插入目标设备，启动时按 F11，选择从 U 盘启动。 会出现一个终端 Shell\u0026gt;，大概长这样（图文不符）： 输入命令：\namisetupwriter 0x4E2 0x3 然后输入 exit 退出，重启完工。 实测 DSM7 效果，开机一分半左右，传输速度基本达到千兆水平。\n参考文献 http://www.gebi1.com/thread-302113-1-1.html https://www.asrock.com/support/BIOSIG.cn.asp?cat=BIOS8 https://winraid.level1techs.com/t/tool-guide-ami-setup-ifr-extractor-amisetupwriter/32801\n版权声明 本文由 Jacob 采用 知识共享署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议 进行许可，发布于 weixiang.github.io 。\n","permalink":"https://weixiang.github.io/posts/solve-the-dsm-compatibility-issue-of-asrock-j3455-motherboard/","summary":"通过 AmiSetupWriter 修改隐藏的 BIOS 选项，解决了华擎 J3455 主板安装 DSM 黑群晖的兼容性问题。","title":"解决华擎 J3455 主板 DSM 兼容性问题"},{"content":"引子 假期给家里组了一台 NAS，万由 401 机箱 + 华擎 J3455。\n没想到过程比预想中要曲折许多，买了才知道，华擎 J3455 是著名的“妖板”。\n安装各种出错，启动时间巨长（至少十分钟），网速飘忽不定，还有 DSM 中各种奇奇怪怪的 Bug……\n总之，敢碰华擎 J3455 的都是勇士。\n听说是驱动问题造成的，自己编译引导可以一定程度上缓解这些问题。\n于是就有了下面的笔记。\n事实证明确实靠谱，比用通用引导稳定了不少，目前已经平稳运行两周有余。感谢 pocopico 和 llm-y2k 两位开发者。\n制作 tinycore-redpill 启动盘 前往项目：https://github.com/llm-y2k/tinycore-redpill 这里采用了 llm-y2k 修改的换源版镜像：\npocopico 发布的Tinycore-redpill实现编译 DSM7 引导的自动化，省去繁琐的手工操作部分，造福了广大玩家。但由于众所周知的原因，\nTinycore-redpill 在国内网络基本无法使用，U 盘引导 NAS 实体机编译时几乎无法完成，遂修改部分代码以适应国内网络环境，目前已可正常使用。\n下载镜像文件，根据设备情况选择不同的引导镜像，我这里选用了[tinycore-redpill-uefi.v0.8.0.0.img.gz](https://github.com/llm-y2k/tinycore-redpill/blob/cn/tinycore-redpill-uefi.v0.8.0.0.img.gz)。\n使用任意引导盘制作工具，如 Rufus，烧录进 U 盘即可。\n启动 tinycore-redpill 将烧写完成的 U 盘插入目标设备，选择从 U 盘启动即可进入系统，点击下图图标进入终端。\n使用ifconfig命令查看设备 IP 地址\n使用任意 SSH 工具连接到上面的 IP，账号为tc，密码为P@ssw0rd\nssh tc@192.168.0.243 更新脚本 首先更新脚本\nsudo curl https://raw.0z.gs/llm-y2k/tinycore-redpill/main/rploader-cn.sh|bash -s fullupgrade 授予执行权限\nsudo chmod 777 *.sh 生成配置 输入如下命令开始配置编译文件\nsudo ./rploader-cn.sh serialgen DS918+ now 或者 sudo ./rploader-cn.sh serialgen DS3615xs now 这里设置nas机型，推荐选择918和3615两种中的一种 配置盘序文件\nsudo ./rploader-cn.sh satamap now 生成 U 盘 VID、PID 信息\nsudo ./rploader-cn.sh identifyusb now 开始编译 配置完成后，正式开始编译，根据机器和网络速度，耗时可能会比较长，耐心等待即可。 建议上游做好代理设置，跑起来会比较顺利。\n# 根据前面所选机型输入编译命令 918： sudo ./rploader-cn.sh build apollolake-7.0.1-42218 3615： sudo ./rploader-cn.sh build bromolow-7.0.1-42218 curl 35 错误不妨休息一下，过会再试，curl 60 错误不妨检查下 Nas 机器本地时间是否正确。 由于网络原因，可能个别驱动下载失败，别慌，重新再次编译即可。\n编译成功！切换到 winscp 去下载生成的文件\n备份引导 下载引导镜像文件，做好备份有备无患，此引导镜像相当于为此设备定制。\n最后回到 putty，正式存盘，一定要存盘！一定要存盘！一定要存盘！\nsudo filetool.sh -b 最后重启设备\nsudo reboot 理论上会自动引导进入 DSM 的安装界面，如果没有，可以将上面备份的镜像写入 U 盘，再进行引导。接下来就是常规的 DSM 安装流程了。\n参考文献 https://www.openos.org/threads/0-8-0-3dsm7tinycore-redpill.4050/\nhttps://github.com/llm-y2k/tinycore-redpill\nhttps://github.com/pocopico/tinycore-redpill\n版权声明 本文由 Jacob 采用 知识共享署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议 进行许可，发布于 weixiang.github.io 。\n","permalink":"https://weixiang.github.io/posts/compile-your-own-dsm7-boot/","summary":"使用 tinycore-redpill 自己动手编译黑群晖 Synology DSM7 的引导镜像，以华擎 J3455 为例。","title":"自己动手编译 DSM7 引导"},{"content":"由于 Ghost 不自带评论系统，所以如果想在文章中添加评论区的话，就必须使用第三方的评论系统，其中最合适的就是 Disqus。 但因为众所周知的原因，在世界上的某些地区是无法使用 Disqus 这样的 404 评论系统的。\nDisqusJS 的出现，可以一定程度上缓解这个问题。\nDisqusJS 是一个基于 Disqus API 和 React 开发的 Embed 插件。DisqusJS 通过 Disqus API 渲染只读的评论列表，搭配反向代理可以实现在网络审查地区加载 Disqus 评论列表；支持自动检测访客是否能够访问 Disqus、并自动选择加载原生 Disqus（评论完整模式）或 DisqusJS 提供的评论基础模式。\n此前本站就在用 DisqusJS 1.3 作为评论支持，趁着这次升级版本记录一下操作。\nTips：本文基于 DisqusJS 的新版本 3.0 进行操作。\n添加头文件 在Code Injection中的Site Header添加 DisqusJS 的头文件即可\n\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdn.jsdelivr.net/npm/disqusjs@3.0/dist/browser/styles/disqusjs.css\u0026#34;\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/disqusjs@3.0/dist/browser/disqusjs.es2015.umd.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; 修改主题 下载主题源码，在需要展示评论的地方创建一个 DisqusJS 容器，并添加配置：\n配置如何获取，请参考官方文档 https://ghost.org/integrations/disqus/\n\u0026lt;div id=\u0026#34;disqusjs\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; const disqusjs = new DisqusJS({ shortname: \u0026#39;你的 Disqus Forum 的 shortname\u0026#39;, siteName: \u0026#39;你站点的名称\u0026#39;, identifier: \u0026#39;ghost-{{comment_id}}\u0026#39;, url: \u0026#39;{{url absolute=\u0026#34;true\u0026#34;}}\u0026#39;, title: \u0026#39;\u0026#39;, api: \u0026#39;https://替换为你的反代域名/disqus/api/\u0026#39;, apikey: \u0026#39;DisqusJS 向 API 发起请求时使用的 API Key\u0026#39;, admin: \u0026#39;你的站点的 Disqus Moderator 的用户名\u0026#39;, adminLabel: \u0026#39;你想显示在 Disqus Moderator Badge 中的文字\u0026#39; }); \u0026lt;/script\u0026gt; 配置 Disqus Application 在 Disqus API Application 处注册一个 Application。\n点击新创建的 Application，获取你的 API Key（公钥）。\n在 Application 的 Settings 页面设置你使用 DisqusJS 时的域名。Disqus API 会检查 API 请求的 Referrer 和 Origin。\n配置 DisqusJS 参数 shortname {string}\n你的 Disqus Forum 的 shortname，你可以在 Disqus Admin - Settings - General - Shortname 获取你的 shortname 必须，无默认值 siteName {string}\n你站点的名称，将会显示在「评论基础模式」的 header 中；该配置应该和 Disqus Admin - Settings - General - Website Name 一致 非必须，无默认值 identifier {string}\n当前页面的 identifier，用来区分不同页面 建议，默认值为 document.location.origin + document.location.pathname + document.location.search url {string}\n当前页面的 URL，Disqus 的爬虫会爬取该 URL 获取页面相关信息 建议，默认值为 document.location.origin + document.location.pathname + document.location.search title {string}\n当前页面的标题，如果没有设置默认为当前页面的标题。当页面标题中有其他信息（比如站点名称）而不想在 Disqus 中展示时，可以设置此项。 非必须，默认值为 document.title api {string}\nDisqusJS 请求的 API Endpoint，通常情况下你应该配置一个 Disqus API 的反代并填入反代的地址。你也可以直接使用 DISQUS 官方 API 的 Endpoint https://disqus.com/api/，或是使用我搭建的 Disqus API 反代 Endpoint https://disqus.skk.moe/disqus/。如有必要可以阅读关于搭建反代的 相关内容 建议，默认值为 https://disqus.skk.moe/disqus/ apikey {string | string[]}\nDisqusJS 向 API 发起请求时使用的 API Key，你应该在配置 Disqus Application 时获取了 API Key DisqusJS 支持填入一个 包含多个 API Key 的数组，每次请求时会随机使用其中一个；如果你只填入一个 API Key，可以填入 string 或 Array。 必填，无默认值 nesting {number}\n最大评论嵌套数；超过嵌套层数的评论，会不论从属关系显示在同一层级下 非必须，默认值为 4 nocomment {string}\n没有评论时的提示语（对应 Disqus Admin - Settings - Community - Comment Count Link - Zero comments） 非必须，默认值为 这里冷冷清清的，一条评论都没有 以下配置和 Disqus Moderator Badge 相关，缺少一个都不会显示 Badge admin {string}\n你的站点的 Disqus Moderator 的用户名（也就是你的用户名）。你可以在 Disqus - Settings - Account - Username 获取你的 Username 非必须，无默认值 adminLabel {string}\n你想显示在 Disqus Moderator Badge 中的文字。该配置应和 Disqus Admin - Settings - Community - Moderator Badge Text 相同 非必须，无默认值 渲染评论 最后，让 DisqusJS 实例将评论组件渲染到页面上：\ndisqusjs.render(document.getElementById(\u0026#39;disqusjs\u0026#39;)); // 你也可以传入一个 CSS 选择器 // disqusjs.render(\u0026#39;#disqusjs\u0026#39;); 在 Casper 主题中，完成之后的post.hbs评论部分长这样：\n\u0026lt;section class=\u0026#34;article-comments gh-canvas\u0026#34;\u0026gt; \u0026lt;!-- DisqusJS 评论区--\u0026gt; \u0026lt;div id=\u0026#34;disqusjs\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; const disqusjs = new DisqusJS({ shortname: \u0026#39;xxxxxxxx\u0026#39;, siteName: \u0026#39;xxxxxxxx\u0026#39;, identifier: \u0026#39;ghost-{{comment_id}}\u0026#39;, url: \u0026#39;{{url absolute=\u0026#34;true\u0026#34;}}\u0026#39;, title: \u0026#39;\u0026#39;, api: \u0026#39;https://domain.com/disqus/api/\u0026#39;, apikey: \u0026#39;xxxxxxxx\u0026#39;, admin: \u0026#39;xxxxxxxx\u0026#39;, adminLabel: \u0026#39;xxxxxxxx\u0026#39; }); disqusjs.render(document.getElementById(\u0026#39;disqusjs\u0026#39;)); \u0026lt;/script\u0026gt; \u0026lt;/section\u0026gt; 修改完成后重新打包为 zip，上传到 Ghost 更新主题即可。\n反向代理 在站点配置中添加：\nserver { ... # for hexo-theme-next disqusjs. location /disqus/api/ { proxy_redirect off; proxy_pass https://disqus.com/api/; } ... } 完成后重启 nginx 服务：\nservice nginx reload 打开 https://domain.com/disqus/api/3.0/threads/list.json （domain.com是你 nginx 配的域名）验证一下，是否配置成功：返回如下内容即可。\n{\u0026#34;code\u0026#34;:5,\u0026#34;response\u0026#34;:\u0026#34;Invalid API key\u0026#34;} 参考文献 https://github.com/SukkaW/DisqusJS https://yrom.net/blog/2018/10/18/Use-DisqusJS-for-comment/ https://ghost.org/integrations/disqus/\n版权声明 本文由 Jacob 采用 知识共享署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议 进行许可，首发于 weixiang.github.io 。\n","permalink":"https://weixiang.github.io/posts/ghost-uses-disqusjs-3-0-comment-plugin/","summary":"DisqusJS 是一个基于 Disqus API 和 React 开发的 Embed 插件，本文记录一次 DisqusJS 在 Ghost 博客上的安装过程。","title":"Ghost 使用 DisqusJS 3.0 评论"},{"content":"备份原站点 将网站目录及数据库打包，妥善保管。\n部署新站点 在新服务器进行 Flarum 站点的全新部署，具体可参考 https://discuss.flarum.org.cn/d/2195\n无需配置新站点，站点可以正常打开就行，到下图这一步即可，不用填写信息，稍后会直接从配置文件进行恢复。\n恢复备份 将站点及数据库备份上传到新服务器，解压到一个新文件夹，不要覆盖直接新站点。 恢复数据库，保持数据库名称和密码与原站点一致。 将原来的 public 文件夹，vender 文件夹，composer.json 文件，composer.lock 文件，config.php 文件覆盖至新部署的 Flarum 根目录。 刷新网页，享受新站点。 参考文献 https://www.wapriaily.com/flarum-pagoda-perfect-migration-tutorial/ https://discuss.flarum.org.cn/d/2195\n版权声明 本文由 Jacob 采用 知识共享署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议 进行许可，首发于 weixiang.github.io 。\n","permalink":"https://weixiang.github.io/posts/flarum-web-server-migration-notes/","summary":"记录一次使用宝塔面板进行 Flarum 论坛网站服务器迁移的过程。","title":"Flarum 站点服务器迁移笔记"},{"content":" 本文为 2022 年校内互联网 + 创业创新大赛的讲稿，在此记录，文章作者为我与 Solitude 同学。\n本文禁止转载。\n各位老师、同学们，大家好。\n我们是一支来自 2021 级的两人队伍，我们带来的项目是\n一种 AI 防疫快速通行，及自动追溯，辅助数据系统。\n本项目主要采用了低功耗蓝牙技术，解决在疫情防控常态化背景下，健康码人工查验导致通行效率不佳的问题，并且有数据追溯、记录的功能，能为流行病学调查分析提供依据和有力帮助。\n除此之外，本项目还可以用于其他领域，例如公共场所的人流量统计和身份认证，零售商店的无感支付和快速结算等。\n本项目主要分为前端、后端和硬件端三个部分，先带大家简单了解主要特色，稍后我们将在短片中详细讲解与演示。\n我们为不同的用户角色，设计了不同的前端交互界面，分为用户端、管理端和公开平台，它们各司其职，精准服务不同职能的用户，更加高效。\n后端我们使用了两个云计算平台，分别是百度大脑和 IBM 云，由它们共同协调整个项目的业务逻辑，同时提供人工智能、机器视觉能力的支持。\n硬件上，我们使用了来自国货之光乐鑫 ESP32 芯片作为基本节点，采集数据上报到云平台，用非常低的成本，提供了低功耗蓝牙与 Wi-Fi 联网能力。\n本项目立项于今年三月，在通过形式验证之后，就着手开始了开发工作，我们两个人分别负责软件和硬件部分，在四月份完成了基本的功能实现，随后经过联合调试，磨合软硬件之间的配合协作。\n这是本项目的主要特性和当前两项常用技术方法的对比，本项目补足了现有方法的一些不足之处，配合现有的技术方法，能较好提高防控工作的效率。\n本项目的架构主要分为四层，由下自上分别是底层、基础层、业务层和交互层，其中底层和基础层还分为软件层和硬件层，交互层也是分为了管理和用户两层，它们相互配合组成了本项目。\n这是本项目所使用的主要技术和特性。\n由于本项目开发时采用了局域网部署，现场无法完整演示功能，所以下面请通过短片了解本项目的详情和操作演示。\n我们的项目汇报结束，谢谢各位的聆听。\n版权声明 本文由 Jacob 采用独家许可，禁止转载、演绎，仅限于 weixiang.github.io 发布。\n","permalink":"https://weixiang.github.io/posts/an-ai-epidemic-prevention-fast-passage-and-automatic-traceability-auxiliary-data-system/","summary":"本项目主要采用了低功耗蓝牙技术，解决在疫情防控常态化背景下，健康码人工查验导致通行效率不佳的问题，并且有数据追溯、记录的功能，能为流行病学调查分析提供依据和有力帮助。","title":"一种 AI 防疫快速通行及自动追溯辅助数据系统"},{"content":"去年跟着 司波图 捡垃圾，搞了一台 HP EliteDesk 800 G1 USDT 小主机，并且成功安装上了 Catalina 系统。 现在 Monterey 已经推出一段时间了，驱动等社区项目都已经趋于稳定，于是便自己动手尝试安装了，在此记录一下。\nTips: 本文操作环境为 Windows10\n下载安装程序镜像 需要先安装好 Python 环境：https://www.python.org/downloads/\n下载 OpenCore：https://github.com/acidanthera/OpenCorePkg/releases\n解压，并在 CMD 里定位到 /Utilities/macrecovery/目录\n然后用命令下载对应版本就行了\n# Mojave (10.14) python macrecovery.py -b Mac-7BA5B2DFE22DDD8C -m 00000000000KXPG00 download # Catalina (10.15) python macrecovery.py -b Mac-00BE6ED71E35EB86 -m 00000000000000000 download # Big Sur (11) python macrecovery.py -b Mac-42FD25EABCABB274 -m 00000000000000000 download # Monterey (12) python ./macrecovery.py -b Mac-E43C1C25D4880AD6 -m 00000000000000000 download 下载完毕之后，可以得到BaseSystem的镜像文件。\n制作启动盘 下载 Rufus：https://rufus.ie/\n找一个大于 4G 的 U 盘，用 Rufus 打开：\n将 BOOT 选项设置为不可启动 将文件系统设置为大 FAT32 点击开始 删除 U 盘分区中的所有文件 然后在 U 盘的根目录并创建一个名为com.apple.recovery.boot的文件夹，然后把刚刚下好的 BaseSystem 复制进去， .dmg 和 .chunklist 都要复制。\n接着把刚刚下好的OpenCorePkg里的 x64/EFI文件夹复制到 U 盘根目录。其实如果不打算自己写 EFI 文件的话这步就不用做了 此时 U 盘应该长这样：\n到这一步，启动盘就制作好了，下面就是难点了。\n获取 EFI 文件 Hackintosh 安装的难点，就是 EFI 驱动，对我们普通玩家来说，还是直接找大佬做的 EFI 比较省事。 那么在哪里找呢？当然是万能的 Google 和 GitHub，关键词：机型+EFI。\n非常巧的是，我这个机型有大佬一直在维护：\nhttps://www.insanelymac.com/forum/topic/323180-monterey-big-sur-catalina-mojave-high-sierra-on-hp-800-g1-usdtsff-and-tower-pcs/\n那么我只需要下载下来修改就可以使用了。\n修改 EFI 信息 需要用到两个工具： plist 编辑器 ProperTree：https://github.com/corpnewt/ProperTree SMBIOS 生成器 GenSMBIOS：https://github.com/corpnewt/GenSMBIOS\n接下来，让我们双击ProperTree.bat打开 ProperTree 并编辑大佬 EFI 中的 config.plist 定位到PlatformInfo，修改系统信息。\nGoogle 查询苹果的 iMac 系统支持情况可知，2015 年前后的电脑，只有iMac16,2以上的机型可以升级，所以我计划模拟为它。\n打开 GenSMBIOS，根据 readme 生成 iMac16,2的串号信息，看起来应该长这样：\n####################################################### # iMac16,2 SMBIOS Info # ####################################################### Type: iMac16,2 Serial: C02M9SYJFY10 Board Serial: C02408101J9G2Y7A8 SmUUID: 7B227BEC-660D-405F-8E60-411B3E4EF055 把Type复制到 Generic -\u0026gt; SystemProductName。 把Serial复制到 Generic -\u0026gt; SystemSerialNumber。 把Board Serial复制到Generic - \u0026gt; MLB。 把SmUUID复制到 Generic -\u0026gt; SystemUUID。 到这一步，EFI 修改完成了，删掉之前OpenCorePkg里的 EFI，把修改好的 EFI 复制到 U 盘即可。\n从 U 盘启动并安装 把 U 盘插入目标电脑，开机时选择从 U 盘启动即可。 可以先用安装程序自带的磁盘助理格式化一下硬盘。 然后跟着安装程序走就行，保持网络通畅。 重启几次后就可以了（实测 20M 宽带四小时左右）\n复制 EFI 到硬盘 安装成功后，EFI 是不会自动添加进硬盘的，需要我们自己复制进去。 首先需要一个 OpenCore Configurator：https://mackie100projects.altervista.org/download-opencore-configurator/ 启动后，会在菜单栏出现快捷菜单，可以很方便地挂载 EFI 分区。\n选择系统盘，然后点击挂载分区，打开分区。 把 U 盘的 EFI 文件夹复制到硬盘的 EFI 分区里，下次启动时就不用插着 U 盘了。\n修补驱动 在系统里测试一下各项功能是否完好，如果你有和大佬 EFI 不一样的硬件，那就只能自己动手修补咯又是一个难点\n我的 Wi-Fi 网卡是英特尔的，和大佬的免驱动博通网卡不一样，要自己加上。\n警告：在修改 EFI 之前，一定要备份备份备份！\n可以在 GitHub 找自己需要的驱动，比如英特尔网卡驱动项目itlwm： https://github.com/OpenIntelWireless/itlwm\n下载对应系统版本，解压并复制到 EFI/Kexts 里，然后在 OpenCore Configurator 里启用它就好了。\n结语 选择了 Hackintosh 就注定这不是一条轻松的道路，过程中会遇到许多困难，花费许多时间。 OpenCore 的官方文档真的非常详细，我愿称之为早教级，遇到问题可以在里面查找：https://dortania.github.io/OpenCore-Install-Guide/\n那么轻松、稳定而优雅的方法呢？当然有！ 欢迎光临 Apple Store：https://www.apple.com/mac/\n我使用 Hackintosh 也已经一年有余了，我也喜欢上了 macOS 的体验 想去买一台的冲动也越来越强烈了……（这一定是厨子的阴谋\n这或许就是苹果不严打 Hackintosh 的原因吧。 愿你 Hackintosh 半生，归来仍是 Macintosh。\n参考资料 https://dortania.github.io/OpenCore-Install-Guide/\n版权声明 本文由 Jacob 采用 知识共享署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议 进行许可，首发于 weixiang.github.io 。\n","permalink":"https://weixiang.github.io/posts/hackintosh-monterey-installation-notes/","summary":"在 HP EliteDesk 800 G1 USDT 上使用 OpenCore 引导 macOS 12.2.1 Monterey 黑苹果系统安装过程记录。","title":"Hackintosh Monterey 安装手记"},{"content":"特别鸣谢 感谢周威同学协助拍摄，感谢 ATRI 同学的 iPhone 13 Pro Max 1TB 远峰蓝 提供出镜，感谢大师兄同学的 DJI Pocket 2 提供拍摄，感谢廣軟市傳製片廠的 DJI OM 3 提供拍摄。\n文字版 本产品基于乐鑫 ESP8266 平台，通过 MFRC522 射频识别模组 阅读卡片、智能手机、手表等 NFC 标签，控制电磁锁的通断，支持 APP 远程控制和管理，整体造价低廉，基础功能完善。\n本产品设计的初衷，就是在不改变原有门锁结构的情况下，无需敲墙打孔，也能让传统门锁变得智能化，同时也不影响原有门锁的功能。\n用户体验是我们在进行产品设计时的首要考量，这一点，从您第一次使用本产品时 就已经开始。\n我们使用了优雅的乐鑫 SmartConfig 和微信 AirKiss 配网技术。首次使用，您只需要使用微信或配套的 APP 靠近设备，即可让设备快速连接家中的无线网络，开箱即用，无需更多设置。\n智能化，是我们产品的关键词。\n我们为您设计了更加简单易用的 APP 界面，状态、功能和设置一目了然，随时随地查看和控制设备。同时，设备也支持家庭共享，只需要扫描分享二维码，即可和家人一起 控制家中的设备。\n作为一个合格的门锁，安全性一定是重中之重。\n本产品有着完整的权限控制功能，管理员和用户持有不同的卡片，管理员可以通过卡片或 APP 动态添加和删除用户。\nAPP 内可以查看人员出入记录、门锁开关状态等信息，在外也可知晓家中安全，并且当有人试图暴力拆卸门锁时，APP 会立即通知您。\n对于开发者和极客用户，我们提供了外部 MQTT 上报功能，您可以配合 Home Assistant 等家庭自动化系统，做到家中智能设备的联动，比如在您开门时就自动打开全屋灯光。\n同时，您还可以通过 Apple HomeKit 实现 Siri 控制等功能。\n如果你觉得这个产品还有点意思的话，欢迎关注我，也欢迎给我提意见或建议，您的支持和关注就是我创作的最大动力！\n版权声明 本文由 Jacob 采用独家许可，禁止转载、演绎，仅限于 weixiang.github.io 发布。\n","permalink":"https://weixiang.github.io/posts/a-smart-lock-based-on-esp8266/","summary":"基于乐鑫 ESP8266 平台的智能锁，通过 MFRC522 射频识别模组阅读卡片、智能手机、手表等 NFC 标签，控制电磁锁的通断，支持 APP 远程控制和管理。","title":"一种基于 ESP8266 的新型家庭门锁智能化无损改造装置"},{"content":"网络 ADB 调试 进入设置页面，遥控器输入96956 查看 IP，并使用 adb connect 192.168.1.x连接到机顶盒 常见应用安装目录 system/app 系统自带的应用程序，无法删除。root 后可以删除\nsystem/priv-app 比 system/app 中的应用权限更加高，如 Launcher，系统设置等\nvendor/app 设备厂商提供的 app\nsystem_ext/app 真实路径在 system/system_ext/app\ndata/app 用户自己安装的 app\ndata/data/packageName用于存储应用数据\ndata/dalvik-cache将 apk 中的 dex 文件放在这个目录中\n安装为系统 APP adb shell mount -o remount /system #添加读写权限 adb push C:\\Users\\jacob\\Desktop\\BiliTV.apk system/app #推送APK到系统目录 常用设备命令 adb disconnect #断开连接 adb reboot #重启 adb shell #进入终端 adb shell pm list packages #列出已安装的应用 adb shell dumpsys activity top | grep ACTIVITY #显示当前的Activity 常用 APP 启动命令 adb shell am start com.xiaodianshi.tv/.yst.ui.main.MainActivity #云视听小电视 adb shell am start com.dangbeimarket/.activity.WelcomeActivity #当贝市场 adb shell am start com.bilibili.tv/.ui.splash.SplashActivity #BiliTV adb shell am start -n com.android.browser/com.android.browser.BrowserActivity #浏览器 adb shell am start -a android.intent.action.VIEW -d https://www.bilibili.com/ #用浏览器打开网址 adb shell am start com.android.settings/com.android.settings.Settings #打开系统设置 研究小结 该机顶盒采用华为海思方案，性能还行，不过运营商限制了第三方应用的安装，采用证书签名的限制方法。 自带 root 权限，可以使用 root 将第三方应用作为系统应用安装，但大部分安装完会闪退，当贝市场用该方法安装可以正常使用。 猜测可以使用芯片同型号的其他机顶盒刷机包进行卡刷或线刷破解。 参考资料 https://blog.csdn.net/xianrenli38/article/details/79607077\n","permalink":"https://weixiang.github.io/posts/guangdong-cable-tv-box-gdt-jl1000-research-record/","summary":"广东广电送的 Android 机顶盒，研究了一下是否可以安装第三方应用。","title":"广东广电机顶盒 GDT-JL1000 研究记录"},{"content":"就挺奇怪的，非常常见的操作，但全网却找不到一篇教程，在我的一番尝试下，终于找到了能用的配置方法，在此记录一下。支持 AWS S3 的存储服务同理，比如阿里云什么的也一样。\n安装 FoF Upload 插件 原作帖子地址：https://discuss.flarum.org/d/4154-friendsofflarum-upload-the-intelligent-file-attachment-extension\ncomposer require fof/upload 获取配置参数 原理很简单，插件支持 AWS S3 及其兼容协议，腾讯云的 COS 也兼容 AWS S3 协议，所以直接填进去就能用，当然参数也要填对。支持 AWS S3 的存储服务同理，比如阿里云什么的也一样。\n本文不再赘述创建存储桶取得 Key 之类的基本操作，可以参考下面：\n腾讯云官方 AWS S3 配置指南：https://cloud.tencent.com/document/product/436/41284\nAmazon Simple Storage Service（Amazon S3，下文简称 S3）是 AWS 最早推出的云服务之一，经过多年的发展，S3 协议在对象存储行业事实上已经成为标准。腾讯云对象存储 COS（下文简称 COS）提供了兼容 S3 的实现方案，因此您可以在大部分兼容 S3 应用中直接使用 COS 服务。\n配置 FoF Upload 在 Flarum 后台，进入 FoF Upload 配置页。\n文件链接前缀 找到“存储设置 - 文件链接前缀 / 对象存储 CDN 或访问域名（含 http/https）”，在里面填入你的腾讯云域名前缀。\n格式为 https://\u0026lt;BucketName-APPID\u0026gt;.cos.\u0026lt;Region\u0026gt;.myqcloud.com\n例如 //jacob-1234567890.cos.ap-guangzhou.myqcloud.com\nAWS S3 存储设置 找到“AWS S3 存储设置”，依次填入。\nKey：即腾讯云的 SecretKey Secret：即腾讯云的 SecretId 存储空间（Bucket）:即腾讯云的存储桶名称 BucketName-APPID 地域（Region）:即腾讯云的地域 Region 高级 S3 存储设置 找到“AWS S3 存储设置”，依次填入。\n访问域名（Endpoint）：https://cos.\u0026lt;Region\u0026gt;.myqcloud.com （\u0026lt;Region\u0026gt;替换为你的，如ap-guangzhou） 使用 path-style 访问域名：关闭 访问控制列表（ACL）：public-read （即共有读私有写） 应用于上传对象的读写权限 ACL（默认私有读写）。有关可用的值，请参阅：https://iflarum.cn/aws-s3acl\n","permalink":"https://weixiang.github.io/posts/flarum-uses-tencent-cloud-cos-storage/","summary":"Flarum 使用腾讯云 COS 对象存储或其他支持 Amazon S3 协议的存储服务作为图床的配置方法。","title":"Flarum 使用腾讯云 COS 对象存储"},{"content":" 本文 Ghost version: 4.32.1\n安装 ghost-qcloud-cos 模块 使用命令安装\nnpm install ghost-qcloud-cos 在目录下创建文件夹\nmkdir -p content/adapters/storage 在content/adapters/storage创建cos-store.js\n// content/adapters/storage/cos-store.js module.exports = require(\u0026#39;ghost-qcloud-cos\u0026#39;); 配置设置文件 在config.production.json中添加\n{ \u0026#34;storage\u0026#34;: { \u0026#34;active\u0026#34;: \u0026#34;cos-store\u0026#34;, \u0026#34;cos-store\u0026#34;: { \u0026#34;baseUrl\u0026#34;: \u0026#34;Base Url(Allowed to be empty)\u0026#34;, \u0026#34;basePath\u0026#34;: \u0026#34;图片存放路径，不填写默认为/ghost/content/images/\u0026#34;, \u0026#34;rename\u0026#34;: \u0026#34;是否重命名为 MD5 文件名，布尔值，默认为 false\u0026#34;, \u0026#34;SecretId\u0026#34;: \u0026#34;Secret Id\u0026#34;, \u0026#34;SecretKey\u0026#34;: \u0026#34;Secret Key\u0026#34;, \u0026#34;Bucket\u0026#34;: \u0026#34;xxxx-123456\u0026#34;, \u0026#34;Region\u0026#34;: \u0026#34;ap-chengdu\u0026#34; } } } 重启一下 ghost restart sudo systemctl restart ghost_yoursite-com # CentOS 要用这个 参考资料 https://github.com/ZhelinCheng/ghost-qcloud-cos\n","permalink":"https://weixiang.github.io/posts/ghost-blog-uses-tencent-cloud-cos-storage/","summary":"Ghost 博客部署系列第二期，使用腾讯云 COS 对象存储作为博客图床。","title":"Ghost 博客使用腾讯云 COS 对象存储"},{"content":" 本文 Ghost version: 4.32.1\nGhost 是一个年轻的博客系统，迭代速度之快使得互联网上许多相关的教程已经过时，特别是邮件配置方面。 经过多次尝试，终于得出了邮件系统的正确配置方法，在此记录。以网易域名邮箱为例：\n修改配置文件 编辑config.production.json，将mail修改为：\n\u0026#34;mail\u0026#34;: { \u0026#34;transport\u0026#34;: \u0026#34;SMTP\u0026#34;, \u0026#34;from\u0026#34;: \u0026#34;\u0026#39;Your Blog\u0026#39; \u0026lt;blog@yoursite.com\u0026gt;\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;host\u0026#34;: \u0026#34;smtp.ym.163.com\u0026#34;, \u0026#34;port\u0026#34;: 994, \u0026#34;secureConnection\u0026#34;: true, \u0026#34;auth\u0026#34;: { \u0026#34;user\u0026#34;: \u0026#34;blog@yoursite.com\u0026#34;, \u0026#34;pass\u0026#34;: \u0026#34;yourpassword\u0026#34; } } }, 使用 Mailgun \u0026#34;mail\u0026#34;: { \u0026#34;transport\u0026#34;: \u0026#34;SMTP\u0026#34;, \u0026#34;options\u0026#34;: { \u0026#34;service\u0026#34;: \u0026#34;Mailgun\u0026#34;, \u0026#34;host\u0026#34;: \u0026#34;smtp.mailgun.org\u0026#34;, \u0026#34;port\u0026#34;: 587, \u0026#34;secure\u0026#34;: true, \u0026#34;auth\u0026#34;: { \u0026#34;user\u0026#34;: \u0026#34;postmaster@example.mailgun.org\u0026#34;, \u0026#34;pass\u0026#34;: \u0026#34;1234567890\u0026#34; } } }, 参考资料 https://ghost.org/docs/config/#mail\n","permalink":"https://weixiang.github.io/posts/configuring-ghost-blog-mail-settings/","summary":"本文以以网易域名邮箱和 Mailgun 为例，记录 Ghost 博客邮件系统的正确配置方法。","title":"Ghost 博客配置邮件系统"},{"content":"对于新版本的 Ghost 安装，可谓是全网谜语人，经过一上午的努力，终于在一堆垃圾站中，摸索出了可用的安装方法。\n创建用户 使用 root 新建用户\u0026lt;user\u0026gt;为用户名，-m为创建用户主目录\nuseradd \u0026lt;user\u0026gt; -m passwd \u0026lt;user\u0026gt; 输入\u0026lt;user\u0026gt;的密码，输入时不显示\nvisudo 找到，在下面加入新行，参照上一行的格式\n## Allow root to run any commands anywhere root ALL=(ALL) ALL \u0026lt;user\u0026gt; ALL=(ALL) ALL 安装 Node.JS 下载并执行脚本\nsudo yum -y install curl curl -sL https://rpm.nodesource.com/setup_14.x | sudo bash - 安装 Node.js 14.x 和 npm\nsudo yum install -y nodejs 使用node -v查看安装是否成功\n$ node -v v14.0.0 安装 Yarn 包管理器（可选）\ncurl -sL https://dl.yarnpkg.com/rpm/yarn.repo | sudo tee /etc/yum.repos.d/yarn.repo sudo yum install yarn 安装 Ghost-CLI sudo npm install ghost-cli@latest -g 创建网站 在宝塔面板中创建一个静态网站，创建数据库，然后删除目录下所有文件。\n更改目录权限 更改所有者为新建的\u0026lt;user\u0026gt;\nsudo chown -R \u0026lt;user\u0026gt;:\u0026lt;user\u0026gt; /www/wwwroot/sitename.com/ 赋予 775 权限\nsudo chmod -R 775 /www/wwwroot/sitename.com/ 安装 Ghost 定位到网站目录后，执行\nghost install 按照提示填入信息即可。\n启动 Ghost CentOS 环境下 Ghost 启动会报错，需要用以下命令启动。\nsudo systemctl start ghost_yoursite-com 设置 Nginx 反向代理 在宝塔面板中设置反向代理，编辑配置添加proxy_set_header X-Forwarded-Proto $scheme;\n故障排查 测试运行：ghost run 查看状态：ghost status 运行列表：ghost ls 修改配置：ghost setup 查看日志：ghost log\n参考资料 https://ghost.org/docs/install/ubuntu/ https://computingforgeeks.com/install-node-js-14-on-centos-rhel-linux/\n","permalink":"https://weixiang.github.io/posts/install-ghost-blog-with-aapanel-on-centos-7/","summary":"Ghost 官方只提供一个错漏百出的 Ubuntu 安装教程，那么如何在 CentOS 上安装呢？","title":"在 CentOS 7 使用宝塔面板安装 Ghost 博客"},{"content":"字体在设计中占有重要地位，我们要了解字体，明白不同场合应该用什么字体，才能做出令读者舒适的设计。\n我们设计时，首先要考虑到就是读者的感受，要让读者看得舒服，字体的选用十分关键。首先我们要知道字体的分类，无论是中文还是西文，字体都可以分为三类：衬线字体、无衬线字体、等宽字体。这三种字体有着不同的视觉风格，适用的场合也不太相同。\n我们生活中最常见的就是衬线字体和无衬线字体。衬线字体的代表是宋体，也就是我们在书本上看到的字体。\n你现在看到的这张图就是采用了衬线字体。最大的特征就是能看到笔锋，笔画有粗细变化（也就是所谓的“衬线”），用人话说就是类似于我们手写的效果，它能很好地体现文字之美，尤其适用于排版感性的文字，如文学类，适合纸质印刷。\n不过其缺点是在屏幕上显示效果不佳，笔画过细而难以辨认，如无特殊需要，不要用于屏幕显示的正文。比如 PPT 的主段落。\n无衬线字体的代表是黑体，也就是我们在手机、电脑上看到的默认字体。它的特点是笔画清晰、粗细均匀，没有多余的装饰部分（也就是“无衬线”的名字由来），辨识度极佳，非常适合屏幕显示，但比起衬线字体缺乏了文字的传统美感。\n我们做新媒体的内容时，考虑到读者都是使用屏幕来阅读我们的文字，我们通常也是采用无衬线字体来作为主字体的。\n记住在屏幕上用系统自带的宋体是大忌。\n无衬线字体更佳适用于理性的文字，比如科技文章等。等宽字体比起上两种比较少使用，等宽字体，顾名思义，它的笔画、字形大小都是绝对一致的，能让你很容易分清楚英文字母 O 和数字 0。\n常用于代码、密码、数学等内容。这个不太常用，大家知道了解就行。\n今天的 tips 似乎有点长，有八百字了，内容比较偏理论，可能比较难以理解，大家可以翻翻自己身边的书本，来对应找找上面提到的三种字体。\n如果你觉得这篇 tips 还不错的话，我的网站：weixiang.github.io，各位可以在里面找到一篇我早些时候写的字体应用研究文章。\n","permalink":"https://weixiang.github.io/posts/the-use-of-fonts-in-design/","summary":"字体在设计中占有重要地位，我们要了解字体，明白不同场合应该用什么字体，才能做出令读者舒适的设计。","title":"字体在设计中的运用"},{"content":"引子 需要为 Raspberry Pi 制作系统镜像 SD 卡，但电脑不在附近？这个美妙的 Android 应用可以胜任这份工作！更加美妙的是它不需要 Root！\n今天树莓派的系统不小心被我搞炸了，不知道如何修复，需要重装系统才能解决，但正巧没有电脑，于是便想能不能用手机来制作树莓派的系统镜像 SD 卡。\nGoogle 了一下还真行。\n由于还没有类似的中文教程，这里简单记录一下就作为「中文首发」吧。?\n下载 APP 在「Play 商店」或「APK Pure」中搜索「Pi SD Card Imager」即可下载。\n传送门 → Pi SD Card Imager - Apps on Google Play\n下载系统镜像 打开 APP，默认会为你选择一个「boot」镜像。需要更改的话，点右上角「Choose OS」即可更换，我选择了「Raspberry Pi OS (32-bit)」。\n点击软件下方的「Download」即可开始下载。\n下载过程中尽量保持 APP 在前台运行。 非常神奇的是它下载并不需要魔法加持，而且速度还很快，甚至如果使用了魔法它还会变慢。\n连接 SD 卡 将需要烧录的 SD 卡连入手机。有 SD 卡槽的手机可以直接插入卡槽中，没有 SD 卡槽的手机可以使用「OTG+ 读卡器」的方案来连接 SD 卡。\n格式化 SD 卡 在 APP 右上角选择「Format SD」，在系统界面中格式化 SD 卡即可。\n开始烧写 回到 APP，右上角「Choose SD or USB」，接着在系统界面中授予 APP 访问 SD 卡的权限。\n我的树莓派没有屏幕也没有鼠标键盘，所以需要选择自动配置 SSH 和自动安装。勾选「Install opinions」中的两项即可。\n最后点击 APP 左下角的「Write to SD」即可开始烧写，期间要保持 APP 在前台，不要触碰 OTG 线。\n大功告成 等待进度条跑完，SD 卡就烧写完毕了，此时在系统通知栏中选择「弹出」来安全移除 SD 卡，就能拔出 SD 卡插入到树莓派中了。树莓派会自动执行剩下的安装程序。\n","permalink":"https://weixiang.github.io/posts/use-android-device-to-make-a-raspberry-pi-image-sd-card/","summary":"需要为 Raspberry Pi 制作系统镜像 SD 卡，但电脑不在附近？这个美妙的 Android 应用可以胜任这份工作！更加美妙的是它不需要 Root！","title":"使用 Android 手机制作树莓派镜像 SD 卡"},{"content":"引子 Prism 是一个轻量级的、可扩展的语法高亮工具，在构建时考虑到了现代 Web 标准。它被用于数百万个网站，包括您每天访问的一些网站。\n技术博客怎么少得了代码呢？为了保护读者的眼睛，代码高亮是必不可少的，但 Ghost 博客并没有自带的代码高亮功能。不过我们可以用 Prism.js 手动添加这个功能。Ghost 官方也给出了对应的指引：Tutorial: A complete guide to code samples in Ghost\n在本指南中，我将展示如何将代码示例添加到您的 Ghost 站点，以及如何使用代码语法高亮显示对其进行自定义。\n引入 Prism.js 在「Code injection」的「Site Header」中添加 Prism.js 的样式表：\n\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css\u0026#34; /\u0026gt; 在「Site Footer」中添加 Prism.js 的脚本：\n\u0026lt;script type=\u0026#34;text/javascript\u0026#34; src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; 至此代码高亮已经可用。\n添加自己常用的语言 2022 年 1 月 16 日更新\nPrism.js 默认配置仅包含 Markup + HTML + XML + SVG + MathML + SSML + Atom + RSS 这几种语言的高亮规则，如果你常用的语言不在内，则需要自己手动添加。\n在 https://cdnjs.com/libraries/prism 搜索自己需要的语言，添加进 Site Footer 中 prism.min.js 的后面即可。\n我添加了 Bash 和 json 的支持。\n\u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-bash.min.js\u0026#34; integrity=\u0026#34;sha512-ZqfG//sXQwAA7DOArFJyMmZQ3knKe+0ft3tPQZPvDPJR04IatmhVO5pTazVV+fLVDYSy28PhoBeUj5wxGRiGAA==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-json.min.js\u0026#34; integrity=\u0026#34;sha512-QXFMVAusM85vUYDaNgcYeU3rzSlc+bTV4JvkfJhjxSHlQEo+ig53BtnGkvFTiNJh8D+wv6uWAQ2vJaVmxe8d3w==\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; referrerpolicy=\u0026#34;no-referrer\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; 进阶配置 默认的主题有点丑，来改造一下。\n就像 Ghost 主题的其余部分一样，代码块可以使用标准 CSS 和 JavaScript 进行完全自定义。\nPrism.js 库附带了一个广泛的主题和插件列表，以进一步自定义您的代码示例的外观。\n更换主题 更改为 Tomorrow Night 主题，其余主题可以在Prism.js 官网找到：\n\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css\u0026#34; /\u0026gt; 自建主题 从 Ghost 官网抄来的，我觉得比 Tomorrow Night 主题好看，目前本站用的就是这个。 在「Site Header」中添加样式：\n\u0026lt;style\u0026gt; pre[class*=language-] { background: #202328; border-radius: 8px; color: #fff; font-size: 1.3rem; line-height: 1.8em; max-width: 100%; overflow: auto; padding: 2.4rem 3.2rem; width: 100%; } \u0026lt;/style\u0026gt; 复制按钮 在「Site Header」中添加工具栏：\n\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/toolbar/prism-toolbar.min.css\u0026#34; /\u0026gt; 在「Site Footer」中添加工具栏和复制组件：\n\u0026lt;script type=\u0026#34;text/javascript\u0026#34; src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/toolbar/prism-toolbar.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34; src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; 显示行号 在「Code injection」的「Site Footer」中添加：\n\u0026lt;script\u0026gt; window.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, (event) =\u0026gt; { document.querySelectorAll(\u0026#39;pre[class*=language-]\u0026#39;).forEach(function (node) { node.classList.add(\u0026#39;line-numbers\u0026#39;); }); Prism.highlightAll(); }); \u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/line-numbers/prism-line-numbers.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; 行内代码样式更改 2022 年 1 月 16 日更新\n这个东西就是行内代码.\nCasper 自带的行内代码样式不太好看，换掉。\n从语雀那里抄来的：\n\u0026lt;style\u0026gt; .gh-content :not(pre)\u0026gt;code { display: inline-block; font-family: var(--font-mono); background-color: #F5F5F5; border-radius: 4px; border: 1px solid #F0F0F0; padding: 0 6px; margin: 1px 6px; line-height: 1.1; color: #096DD9; } \u0026lt;/style\u0026gt; 后记 正如上文所说，Prism.js 还有很多各式各样花里胡哨的功能，感兴趣的可以研究下 Prism.js 官网 的内容。\n参考文献 Prism.js - Prism.js\nTutorial: A complete guide to code samples in Ghost - Ghost\n","permalink":"https://weixiang.github.io/posts/use-prism-js-to-add-code-highlighting-to-ghost-blog/","summary":"技术博客怎么少得了代码呢？为了保护读者的眼睛，代码高亮是必不可少的，但 Ghost 博客并没有自带的代码高亮功能。不过我们可以用 Prism.js 手动添加这个功能。","title":"用 Prism.js 为 Ghost 博客添加代码高亮"},{"content":"引子 接上篇 中文网页中的字体选型及开发指南 ，我们已经知道了中文网页设计的字体理论及原理，现在是时候应用于实践了！\n字体定义 Ghost 博客中，以「Casper」主题为例，把全局字体进行了三个变量定义，分别对应「衬线字体」、「非衬线字体」和「等宽字体」，我们只需要在「Code injection」设置中，重新定义它们就能实现全局更改字体的效果了。\n在「Site Header」中添加以下代码：\n\u0026lt;style\u0026gt; :root { --font-sans-serif: -apple-system, BlinkMacSystemFont, \u0026#34;Segoe UI\u0026#34;, \u0026#34;PingFang SC\u0026#34;, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, Arial, sans-serif, \u0026#34;Apple Color Emoji\u0026#34;, \u0026#34;Segoe UI Emoji\u0026#34;, \u0026#34;Segoe UI Symbol\u0026#34;; --font-serif: Georgia, STZhongsong, \u0026#34;Times New Roman\u0026#34;, Times, PMingLiu, STSong, SimSun, \u0026#34;WenQuanYi Bitmap Song\u0026#34;, \u0026#34;Noto Serif CJK\u0026#34;, serif, \u0026#34;Apple Color Emoji\u0026#34;, \u0026#34;Segoe UI Emoji\u0026#34;, \u0026#34;Segoe UI Symbol\u0026#34;; --font-mono: JetBrainsMono, \u0026#34;Source Code Pro\u0026#34;, Monaco, Menlo, Consolas, \u0026#34;Courier New\u0026#34;, Courier, monospace; } \u0026lt;/style\u0026gt; 代码中的三个变量分别对应的就是「无衬线字体」、「衬线字体」和「等宽字体」，可以参考上一篇文章，根据自己的喜好进行更改。\n对于无衬线字体，我选择用「Segoe UI」作为优先，保障 Windows 用户的体验，这款字体也是 Microsoft 的御用品牌字体。其次用「PingFang SC」苹方，确保 Apple 用户的体验。最后用「\u0026ldquo;Apple Color Emoji\u0026rdquo;, \u0026ldquo;Segoe UI Emoji\u0026rdquo;, \u0026ldquo;Segoe UI Symbol\u0026rdquo;」三个特殊字体加入对 Emoji 和特殊符号的支持。这里是学习了 GitHub 的做法。如果你想把所有特殊符号都渲染为 Emoji，可以学习简书的做法，把这一堆字体提到最前。\n至于衬线字体，我保留了 Ghost 原装的 Georgia 字体，这款英文衬线字体确实很漂亮。然后我使用了我个人比较喜欢的「STZhongsong」华文中宋，这款字体党政风满满，听说是党政专用标题字体。最后依然加入了对 Emoji 和特殊符号的支持。\n最后是代码中使用的等宽字体，用的是「JetBrainsMono, \u0026ldquo;Source Code Pro\u0026rdquo;」，这两款也是我用的最多的代码编辑器字体。当然了，考虑到普通用户的设备上大概率不会安装这种字体，建议再加一行：\n\u0026lt;style\u0026gt; @import url(\u0026#39;https://fonts.googleapis.com/css?family=Source+Code+Pro\u0026amp;display=swap\u0026#39;); \u0026lt;/style\u0026gt; 使用 Web Font 来渲染等宽字体，保障显示准确。\n设置正文字体 我的博客主要以技术类的文章为主，所以我想用「非衬线字体」作为我的正文字体。「Casper」主题默认的正文字体是「衬线字体」而且对于中文来说字体偏大了。\n我们可以通过重新定义 Body 和文章部分的字体来更改正文字体。\n\u0026lt;style\u0026gt; body { font-family: -apple-system, BlinkMacSystemFont, \u0026#34;Segoe UI\u0026#34;, \u0026#34;PingFang SC\u0026#34;, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, Arial, sans-serif, \u0026#34;Apple Color Emoji\u0026#34;, \u0026#34;Segoe UI Emoji\u0026#34;, \u0026#34;Segoe UI Symbol\u0026#34;; font-size: 16px; } .gh-content\u0026gt;blockquote, .gh-content\u0026gt;ol, .gh-content\u0026gt;ul, .gh-content\u0026gt;dl, .gh-content\u0026gt;p { font-family: var(--font-sans-serif); font-size: 16px; line-height: 1.8; } \u0026lt;/style\u0026gt; 这里把正文字体设置为了无衬线字体，并且把字体大小调整为 16px，行间距为 1.8。\n参考文献 中文网页中的字体选型及开发指南 - Jacob\u0026rsquo;s Thoughts\n","permalink":"https://weixiang.github.io/posts/change-font-for-ghost-blog/","summary":"接上篇中文网页中的字体选型及开发指南，我们已经知道了中文网页设计的字体理论及原理，现在是时候应用于实践了！","title":"给 Ghost 博客更换字体"},{"content":"引子 趁着暑假，我又搭建了一个自己的个人博客，不同于以往，这次用的是较新的博客系统 Ghost。\n因为 Ghost 的主题和 UI 实在是太好看了。\n而且易用性也很好，比起臃肿的 WordPress 和 折腾人的 Hexo，Ghost 正中我意。\n不过作为一个年轻的、国外开发者主导的博客系统，它似乎还没有考虑到中文显示这种东西。\nWindows 平台下，Ghost 的中文默认显示为宋体，实在是辣眼睛。\n于是就有了这次的探索，中文网页设计中，特别是文字较多的博客类，用那种字体更为合适呢？\n例子 先来看看大公司网站所用的字体：\n知乎 body { font-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif; font-size: 15px; color: #121212; } 简书 body { line-height: 1.42857; color: #404040; background-color: #fff; font-family: -apple-system,BlinkMacSystemFont,\u0026#34;Apple Color Emoji\u0026#34;,\u0026#34;Segoe UI Emoji\u0026#34;,\u0026#34;Segoe UI Symbol\u0026#34;,\u0026#34;Segoe UI\u0026#34;,\u0026#34;PingFang SC\u0026#34;,\u0026#34;Hiragino Sans GB\u0026#34;,\u0026#34;Microsoft YaHei\u0026#34;,\u0026#34;Helvetica Neue\u0026#34;,Helvetica,Arial,sans-serif; font-feature-settings: \u0026#34;tnum\u0026#34;; font-variant: tabular-nums; } GitHub body { font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji; font-size: 14px; line-height: 1.5; } code { margin-top: 0; margin-bottom: 0; font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; } 苹果 body { font-size: 17px; line-height: 1.5294717647; font-weight: 400; letter-spacing: -0.021em; font-family: \u0026#34;SF Pro Text\u0026#34;,\u0026#34;SF Pro Icons\u0026#34;,\u0026#34;Helvetica Neue\u0026#34;,\u0026#34;Helvetica\u0026#34;,\u0026#34;Arial\u0026#34;,sans-serif; background-color: white; color: #333; font-style: normal; } 小米 body { font: 14px/1.5 Helvetica Neue,Helvetica,Arial,Microsoft Yahei,Hiragino Sans GB,Heiti SC,WenQuanYi Micro Hei,sans-serif; color: #333; background-color: #fff; min-width: 1226px; } 哔哩哔哩 2022 年 1 月 17 日更新\n/* 新版首页 */ body { font-family: PingFang SC,HarmonyOS_Regular,Helvetica Neue,Microsoft YaHei,sans-serif!important; font-weight: 400; overflow-x: auto; } /* 旧版 */ body { margin: 0; font-family: -apple-system,BlinkMacSystemFont,Helvetica Neue,Helvetica,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,sans-serif; font-size: 12px; line-height: 1.5; color: #222; background-color: #fff; } 锤子 html { font-family: Helvetica Neue,PingFang SC,Hiragino Sans GB,Heiti SC,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif; } 字体的分类 非衬线字体（Sans-Serif） 非衬线字体适用于屏幕显示，代表字体是黑体。可以用在较理性的技术类文章。\n衬线字体（Serif） 衬线字体适用于印刷出版，代表字体是宋体。可以用在较感性的生活随笔类文章中。\n等宽字体（Monospace） 等宽字体的每个字符具有相同的宽度，这使得英文字符和标点总是工整地排列，这些字体还专门为一些字母和符号做了优化，让你一眼就可以区别出 O0 / 1ilIL，代表字体 Source Code Pro 。\n例如这一段就是等宽字体 Source Code Pro 的效果 \u0026lt;link href=\u0026#34;https://fonts.googleapis.com/css?family=Source+Code+Pro\u0026amp;display=swap\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; 常见的字体 2022 年 1 月 17 日更新\n等线字体 Sans-serif 字体 用途 system-ui 默认系统字体 -apple-system, BlinkMacSystemFont macOS, iOS Segoe UI Microsoft Windows, Xbox, etc. Roboto 较新版本的 Android Oxygen Linux / KDE Ubuntu Linux / Ubuntu Cantarell Linux / GNOME 3 Fira Sans Firefox OS Droid Sans 旧版本的 Android Helvetica Neue OSX Arial, sans-serif 备胎 Helvetica ：被评为设计师最爱的字体，Realist 风格，简洁现代的线条，非常受到追捧。在 Mac 下面被认为是最佳的网页字体，在 Windows 下由于 Hinting 的原因显示很糟糕。 Arial ：Helvetica 的「克隆」，和 Helvetica 非常像，细节上比如 R 和 G 有小小差别。如果字号太小，文字太多，看起来会有些累眼。Win 和 Mac 显示都正常 Lucida Family ：Lucida Grande 是 Mac OS UI 的标准字体，属于 humanist 风格，稍微活泼一点。Mac 下的显示要比 Win 下好。 Verdana ：专门为了屏显而设计的字体，humanist 风格，在小字号下仍可以清楚显示，但是字体细节缺失严重，最好别做标题。 Tahoma ：也是 humanist 风格，字体和 Verdana 有点像，但是略窄一些，counter 略小，曾经是 Windows 的标准字体，Mac 10.5 之后默认也有安装。 Trebuchet MS: 为微软设计的一个 humanist 风格字体，个人觉得个性太过突出，用得不好会不搭。\n微软雅黑（Microsoft YaHei） ：Vista 之后新引入的字体，打开 Cleartype 之后显示效果不错，不开 Cleartype 发虚。微软雅黑的美观度和清晰度都较好，可以作为网页的首选字体。它在 Mac 平台的对应字体是华文细黑（STXihei）。\n华文细黑 ：Mac 下的默认中文。\nDroid Sans和衍生的WenQuanYi Microhei ：Andriod 中的中文，也是 Linux 绝大多数发行版本的默认中文，，当然也有用 WenQuanyi Zenhei 的，不过比较少了。\n衬线字体 Serif Georgia ：基本上适合正文屏显的衬线字体，非 Georgia 莫属了。笔画粗重，衬线明线，轮廓较大，小字体显示也很清晰，同时细节还算 OK。 Times ：Times 是为了报纸而设计的，特点是可以在有限的空间塞进去更多的文字，笔画较弱，小字号正文屏显看起来累眼。曾经 Engadget 改版的时候用了 Times 作为正文，被骂得很惨之后换成了 Georgia。\n中易宋体（SimSun） ：Win 最常见的字体，小字体点阵，大字体 TrueType，但是大字体并不好看，所以最好别做标题。宋体是最常见的中文字体，如果没有指定字体，操作系统往往选择它来渲染。很多人认为，这种字体并不美观。\n仿宋（FangSong） ：这种字体是衬线体，比宋体的装饰性更强。如果字号太小，会影响清晰度，所以只有在字号大于 14px 的情况下，才可以考虑这种字体。它在 Mac 平台的对应字体是\u0026quot;华文仿宋\u0026quot;（STFangsong）。 楷体（KaiTi） ：楷体也是衬线体，装饰性与仿宋体接近，但是宽度更大，笔画更清楚一些。这种字体也不应该在小于 14px 的情况下使用。它在 Mac 平台的对应字体是\u0026quot;华文楷体\u0026quot;（STKaiti）。\n等宽字体 Monospace ui-monospace：较新的等宽字体声明形式，已在 Safari 13.19 中得到支持。这也是使用 macOS 新的“SF Mono”字体的唯一方法。\nMenlo, Monaco：旧版本 macOS / OSX 的默认等宽字体，在支持 .ui-monospace 的 macOS 上不再生效。\nCascadia Code, Segoe UI Mono：Windows 自家的等宽字体，但默认不包含在 Windows 中 ，因为 Windows 根本没有默认的等宽字体（除非算上Courier New）。 但是Segue UI Mono已随一些微软自家的软件一起分发，正在普及中。\nCascadia Mono：是微软正在开发的一种新的等宽字体，随 Windows Terminal 一起提供。\nSource Code Pro：知名的等宽字体，GNOME12 中的默认字体，但来自不同的家族，作为默认的可变宽度字体Cantarell。\n操作系统的预装字体 操作系统决定了开发者可以使用的字体。所以，第一步，我们必须了解操作系统到底提供哪些字体。\n可以通过查询各维基百科的这个页面，列出了常见的不同系统自带的日中韩字体：List Of CJK fonts。\nWindows 宋体：SimSun 新宋体：NSimSun 仿宋：FangSong 楷体：KaiTi 仿宋GB2312：FangSongGB2312 楷体GB2312：KaiTiGB2312 Windows XP+: MS Hei 微软黑体 Windows Vista+: Microsoft YaHei 微软雅黑 macOS / iOS / iPadOS 详见苹果官网的 macOS Mojave 附带的字体。\n华文细黑：STHeiti Light（又名 STXihei） 华文楷体：STKaiti 华文宋体：STSong 华文仿宋：STFangsong OSX 10.2+: 华文黑体 STHeiti OSX 10.6+: 黑体 - 简 Heiti SC / 黑体 - 繁 Heiti TC OSX 10.6+: 冬青黑体简体中文 Hiragino Sans GB OSX 10.11+: 苹方 - 简 PingFang SC / 苹方 - 繁 PingFang TC iOS / iPadOS 使用与 macOS 相同的中文字体。详见苹果官网的 字体列表。\n但是要注意的是，iOS / iPadOS 系统并不预装 CJK 衬线字体。所以几乎所有的中文网页在 iOS / iPadOS 都是显示为非衬线字体。原因正是前文所说的，黑体在屏幕上的可读性比宋体要高。\nLinux Open Source*: WenQuanYi Zen Hei 文泉驿正黑 Open Source*: WenQuanYi Micro Hei 文泉驿微米黑 Open Source*: Noto Sans CJK / Source Han Sans Linux 由于发行版众多，比较混乱，一般需要用户自行安装中文字体，常见的有文泉驿、思源等开源字体。\nAndroid 目前使用 Adobe 和 Google 联合开发的思源系列 Source * 字体，不过在 Android 中叫做 Noto *。\nMicrosoft Office 如果用户装了 Microsoft Office ，还会多出一些字体。\n隶书：LiSu 幼圆：YouYuan 华文细黑：STXihei 华文楷体：STKaiti 华文宋体：STSong 华文中宋：STZhongsong 华文仿宋：STFangsong 方正舒体：FZShuTi 方正姚体：FZYaoti 华文彩云：STCaiyun 华文琥珀：STHupo 华文隶书：STLiti 华文行楷：STXingkai 华文新魏：STXinwei 字体的使用 系统字体 CSS 的 font-family 命令，指定了网页元素所使用的字体。下面是一个例子。\nfont-family: Georgia, \u0026#34;Times New Roman\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, \u0026#34;微软雅黑\u0026#34;, STXihei, \u0026#34;华文细黑\u0026#34;, serif; 它的规则有三条。\n（1）优先使用排在前面的字体。\n（2）如果找不到该种字体，或者该种字体不包括所要渲染的文字，则使用下一种字体。\n（3）如果所列出的字体，都无法满足需要，则让操作系统自行决定使用哪种字体。\n根据这些规则，font-family 应该优先指定英文字体，然后再指定中文字体。 否则，中文字体所包含的英文字母，会取代英文字体，这往往很丑陋。\n为了保证兼容性，中文字体的中文名称和英文名称，应该都写入font-family。 比如，\u0026ldquo;微软雅黑\u0026quot;的英文名称是Microsoft YaHei。\nfont-family 后面的值最好全部写英文，中文的话在 macOS 下某些版本的浏览器是不支持的，认不出来，还有比\u0026quot;Microsoft YaHei\u0026quot;这种英文写法，更推荐的写法是把汉字转义为 unicode，比如微软雅黑转义之后就是\u0026quot;\\5FAE\\8F6F\\96C5\\9ED1\u0026quot;，这样能兼容更多平台和各种不同语言的浏览器，兼容性最好。\n此外，中文字体的中文名称，以及由多个单词组成的英文名称，应该放在双引号内。\n由于 Windows 和 Mac 的中文字体没有交叉，所以应该同时为两个平台指定字体。\n常见的做法是，Windows 平台指定\u0026quot;微软雅黑\u0026rdquo;（Microsoft YaHei），Mac 平台指定\u0026quot;华文细黑\u0026quot;（STXihei）。\nWeb Fonts 如果是纯英文网页的话，选字体的事情比较好办，因为直接引入 Web Fonts 的成本非常低（文件小），而且现在 Web Fonts 的 [兼容性](\u0026quot;https://caniuse.com/#search=web font\u0026quot;) 很好，基本上所有主流浏览器都支持，就能保证各个平台所用的字体的一致性。\n对于开源字体，如果能在 Google Fonts 直接找到的话，可以通过他们的 CDN 直接引用到页面上。例如 Source Code Pro：\n\u0026lt;link href=\u0026#34;https://fonts.googleapis.com/css?family=Source+Code+Pro\u0026amp;display=swap\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; 或者\n\u0026lt;style\u0026gt; @import url(\u0026#39;https://fonts.googleapis.com/css?family=Source+Code+Pro\u0026amp;display=swap\u0026#39;); \u0026lt;/style\u0026gt; 如果找不到免费的 CDN 的话，也可以下载字体文件部署到自己的服务器上。\n然后在 style.css 中加入兼容各个浏览器的 @font-face 定义：\n@font-face { font-family: \u0026#34;JetBrains Mono\u0026#34;; src: url(\u0026#34;./fonts/JetBrainsMono-Regular.eot\u0026#34;); src: url(\u0026#34;./fonts/JetBrainsMono-Regular.eot?#iefix\u0026#34;) format(\u0026#34;embedded-opentype\u0026#34;), url(\u0026#34;./fonts/JetBrainsMono-Regular.woff2\u0026#34;) format(\u0026#34;woff2\u0026#34;), url(\u0026#34;./fonts/JetBrainsMono-Regular.woff\u0026#34;) format(\u0026#34;woff\u0026#34;), url(\u0026#34;./fonts/JetBrainsMono-Regular.ttf\u0026#34;) format(\u0026#34;truetype\u0026#34;); font-weight: 400; font-style: normal; } 之后便可以在 CSS 中使用该字体：\n.code { font-family: \u0026#34;JetBrains Mono\u0026#34;, monospace; } 这样浏览器就会下载自己能使用的字体文件进行文字渲染了。\n总结成果 你现在所看到的这个页面的字体\n:root { --font-sans-serif: -apple-system, BlinkMacSystemFont, \u0026#34;Apple Color Emoji\u0026#34;, \u0026#34;Segoe UI Emoji\u0026#34;, \u0026#34;Segoe UI Symbol\u0026#34;, \u0026#34;Segoe UI\u0026#34;, \u0026#34;PingFang SC\u0026#34;, HarmonyOS_Regular, \u0026#34;Hiragino Sans GB\u0026#34;, \u0026#34;Microsoft YaHei\u0026#34;, \u0026#34;Helvetica Neue\u0026#34;, Helvetica, \u0026#34;Source Han Sans SC\u0026#34;, \u0026#34;Noto Sans CJK SC\u0026#34;, \u0026#34;WenQuanYi Micro Hei\u0026#34;, Arial, sans-serif; --font-serif: STZhongsong, STSong, \u0026#34;Noto Serif CJK\u0026#34;, \u0026#34;Noto Serif SC\u0026#34;, PMingLiu, SimSun, \u0026#34;WenQuanYi Bitmap Song\u0026#34;, \u0026#34;Times New Roman\u0026#34;, Times, serif, \u0026#34;Apple Color Emoji\u0026#34;, \u0026#34;Segoe UI Emoji\u0026#34;, \u0026#34;Segoe UI Symbol\u0026#34;; --font-mono: ui-monospace, SFMono-Regular, \u0026#34;SF Mono\u0026#34;, \u0026#34;Cascadia Code\u0026#34;, \u0026#34;Segoe UI Mono\u0026#34;, \u0026#34;Source Code Pro\u0026#34;, Menlo, Consolas, \u0026#34;Liberation Mono\u0026#34;, monospace; } 参考文献 木匣子 “中文博客的字体选型\u0026quot;\n菜鸟教程 \u0026ldquo;常用网页字体\u0026rdquo;\n阮一峰的网络日志 \u0026ldquo;中文字体网页开发指南\u0026rdquo;\nhttps://qwtel.com/posts/software/the-monospaced-system-ui-css-font-stack/\n版权声明 本文由 Jacob 采用 知识共享署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议 进行许可，首发于 weixiang.github.io 。\n","permalink":"https://weixiang.github.io/posts/the-font-selection-and-development-guide-in-chinese-web-pages/","summary":"探索中文网页设计中，特别是文字较多的博客类，用那种字体更为合适呢？","title":"中文网页中的字体选型及开发指南"},{"content":"本版发布日期：2021 年 7 月 2 日\n生效日期：2021 年 7 月 2 日\nJacob’s Thoughts（联系方式：jacob.ruan#outlook.com）运营的 Jacob’s Thoughts 站点（以下或称“我们”）注重保护用户个人信息及个人隐私，您在使用我们的服务时，我们可能会收集和使用您的相关信息。\n我们希望通过本《隐私政策》向您说明，在使用 Jacob’s Thoughts 站点的所有相关服务（包括但不限于网络资讯、网络社交等，以下称“Jacob’s Thoughts 站点”或“服务”）时，我们如何收集、使用、存储、分享这些信息，以及我们为您提供的访问、更新、控制和保护这些信息的方式。其中，有关您个人信息权益的条款等重要内容我们已用加粗形式提示，请特别关注。\n如果您不同意本隐私政策的任何内容，您可以选择停止使用 Jacob’s Thoughts 站点。当您使用或继续使用我们的服务，即意味着同意我们按照本《隐私政策》收集、使用、储存和分享您的相关信息。\n如对本《隐私政策》或相关事宜有任何问题，请通过 jacob.ruan#outlook.com 与我们联系。\n目录 一、我们如何收集和使用个人信息\n二、我们如何使用 cookie 或同类技术\n三、我们如何储存和保护个人信息\n四、我们如何共享、转让、公开披露个人信息\n五、如何管理您的个人信息\n六、未成年人信息保护条款\n七、《隐私政策》的修订和通知\n八、联系我们\n一、我们如何收集和使用个人信息 （一）有关个人敏感信息的提示 根据《信息安全技术个人信息安全规范》（GB/T 35273—2017），个人信息是指以电子或者其他方式记录的能够单独或者与其他信息结合识别特定自然人身份或者反映特定自然人活动情况的各种信息。本隐私政策中涉及的个人信息包括：基本信息（包括性别、地址、地区、个人电话号码、电子邮箱）；个人身份信息（包括身份证、护照、相关身份证明等）；网络身份标识信息（包括系统账号、IP 地址、口令）；个人上网记录（包括登录记录、浏览记录）；个人常用设备信息（包括硬件型号、操作系统类型、设备 MAC 地址、软件列表唯一设备识别码如 IMEI/Android ID/IDFA等在内的描述个人常用设备基本情况的信息）；个人位置信息（包括精准定位信息、经纬度等）。\n个人敏感信息是指一旦泄露、非法提供或滥用可能危害人身和财产安全，极易导致个人名誉、身心健康受到损害或歧视性待遇等的个人信息。本隐私政策中涉及的个人敏感信息包括： 个人身份信息（包括身份证、护照、相关身份证明等）；网络身份识别信息（包括账户名、账户昵称、用户头像、与前述有关的密码）；其他信息（包括个人电话号码、浏览记录、精准定位信息）。对于个人敏感信息，我们将在本政策中进行显著标识，请您仔细阅读。\n（二）我们收集个人信息的目的、方式和范围 我们将通过以下途径来收集和获得您的个人信息\n1. 帮助您完成注册、认证、登录 1.1 当您注册、登录 Jacob’s Thoughts 站点及相关服务时，您可以通过邮件地址创建账号，并且您可以完善相关的网络身份识别信息（头像、昵称、密码），您还可以根据自身需求选择填写性别、地址、地区及个人介绍/签名/简介、职业等信息来完善您的信息。\n如您需要使用涉及身份认证功能等相关服务时，根据相关法律法规，您可能需要提供您的真实身份信息（真实姓名、身份证号码、电话号码）以完成实名验证。收集这些信息是为了帮助您完成注册及认证，这些信息属于个人敏感信息，您可以拒绝提供，但您将可能无法获得相关服务，但不影响其他功能与服务的正常使用。\n针对部分涉及公共信息传播的账号，例如实名官方账号，我们将强制收集主要责任人的身份证信息，以确保公共传播秩序的维护。除该类情形，Jacob’s Thoughts 站点一般不强制收集用户身份证信息。\n1.2 您也可以使用第三方账号登录并使用，您将授权我们获取您在第三方平台注册的公开信息（头像、昵称以及您授权的其他信息），用于与 Jacob’s Thoughts 站点账号绑定，使您可以直接登录并使用本产品和相关服务。\n2. 向您推荐更感兴趣的信息 2.1 Jacob’s Thoughts 站点使用的第三方技术（如广告）可能会向您推荐更感兴趣的信息，为实现这一功能，我们可能会收集必要的日志信息。如您无需上述个性推荐服务，您可在浏览器隐私设置中进行关闭，具体操作办法详见下方第五条第五款内容。\n2.2 用于信息展示的日志信息包括：\n您操作、使用的行为信息：点击、关注、收藏、搜索、浏览、分享\n您主动提供的信息：反馈、发布、点赞、评论\n地理位置信息：WLAN 接入点、蓝牙和基站等传感器信息\n2.3 GPS 地理位置是敏感个人信息，若您拒绝提供，我们将不会根据 GPS 信息向您推荐信息，且不会影响 Jacob’s Thoughts 站点其他功能的正常使用。\n2.4 我们站点使用的第三方技术可能会基于 IP 地址对应的地区向您展示、推荐您所在地区的本地相关信息。\n2.5 我们收集、使用的上述信息进行了去标识化处理，数据分析仅对应特定的、无法直接关联您身份的编码，不会与您的真实身份相关联。\n3. 为您提供发布与互动服务 3.1 信息发布\na. 您发布内容、评论、提问或回答时，我们将收集您发布的信息，并展示您的昵称、头像、发布内容。您发布信息并选择显示位置时，我们会请求您授权地理位置权限，并收集与本服务相关的位置信息。您如果拒绝授权提供精确地理位置信息，将无法使用此功能，但不影响 Jacob’s Thoughts 站点其他功能的正常使用。\nb. 您使用上传图片、音视频功能时，我们会请求您授权相机、照片、麦克风权限。您如果拒绝授权提供，将无法使用此功能，但不影响您正常使用 Jacob’s Thoughts 站点的其他功能。\nc. 您在使用【订阅文章】功能时，我们可能会要求您提供邮件地址码和/或其他联系方式用于向您发送文章推送。你如果拒绝提供此信息，将无法使用此功能，但不影响您正常使用 Jacob’s Thoughts 站点的其他功能。\nd. 用户因使用我们的产品或者服务而被我们收集的信息，例如其他用户发布的信息中可能含有您的部分信息（如：在评论、留言、发布图文、音视频中涉及到与您相关的信息）。\n3.2 互动交流\na. 您主动关注您感兴趣的作者、话题并与之进行互动，进行浏览、评论、收藏、点赞或分享内容时，我们会收集您关注的账号，并向您展示您关注账号发布内容。\n4. 为您提供搜索服务 您使用 Jacob’s Thoughts 站点的搜索服务时，我们会收集您的搜索关键字信息、日志记录。 为了提供高效的搜索服务，部分前述信息会暂时存储在您的本地存储设备之中，并可向您展示搜索结果内容、搜索历史记录。\n5. 为您提供安全保障 5.1 安全保障功能\n我们致力于为您提供安全、可信的产品与使用环境，提供优质而可靠的服务是我们的核心目标。为实现安全保障功能所收集的信息是必要信息。\n5.2 设备信息与日志信息\n为了保障软件与服务的安全运行，我们会收集您的硬件型号、操作系统版本号、IP 地址、软件版本号、网络接入方式、类型、网络质量数据、操作、使用、服务日志。\n（三）您理解并同意，部分单项服务可能需要您在您的设备中开启特定的访问权限，以实现这些权限所涉及信息的收集和使用。例如 1. 我们可能会申请位置权限，用于为您提供本地化信息 2. 我们可能会申请存储空间权限，用于您保存图片、上传图片或视频等 3. 我们可能会申请相机权限，用于您发表信息时拍摄图片或视频等 4. 我们可能会申请麦克风权限，用于您拍摄视频时录制声音等 上述权限均不会默认或强制开启，我们会在相关的应用场景中向您申请。当您需要关闭这些功能权限时，您可在浏览器的隐私设置中进行关闭，具体操作办法详见下方第五条第六款内容。请您注意，您开启任一权限即代表您授权我们可以收集和使用相关信息来为您提供对应服务，您一旦关闭任一权限即代表您取消了授权，我们将不再基于对应权限继续收集和使用相关信息，也无法为您提供该权限所对应的服务。但是，您关闭权限的决定不会影响此前基于您的授权所进行的信息收集及使用。\n二、我们如何使用 cookie 或同类技术 我们可能通过 cookies 和同类技术收集和使用您的信息，并将该等信息储存为日志信息，并用于以下用途：\n1. 记住您的身份。例如：cookies 有助于我们辨认您作为我们的注册用户的身份，或保存您向我们提供的有关您的喜好或其他信息 2. 分析您使用我们服务的情况。例如，我们可利用 cookies 来了解您使用我们的服务进行什么活动，或哪些网页或服务最受您的欢迎 三、我们如何储存和保护个人信息 1. 信息存储的地域 1.1 我们会按照法律法规规定，将境内收集的用户个人信息存储于中国境内。1.2 目前我们不会跨境传输或存储您的个人信息。将来如需跨境传输或存储的，我们会向您告知信息出境的目的、接收方、安全保证措施和安全风险，并征得您的同意。\n2. 信息存储的方式和期限 2.1 我们会通过安全的方式存储您的信息，包括位于服务器上的数据库和服务器日志。\n2.2 一般情况下，我们只会在为实现服务目的所必需的时间内或法律法规规定的条件下存储您的个人信息。\n2.3 一般情况下，对于超期信息的处理我们采用服务器自动覆盖方式。\n3. 我们使用行业通用的安全技术、匿名化处理，以防信息的丢失、不当使用、未经授权阅览或披露。例如，在某些服务中，我们将利用加密技术（如 SSL）来保护您提供的个人信息 4. 尽管已经采取了合理有效措施，并已经遵守了相关法律规定要求的标准，但请您理解，由于技术的限制以及可能存在的各种恶意手段，在互联网行业，即便竭尽所能加强安全措施，也不可能始终保证信息百分之百的安全。您需要了解，您接入我们的服务所用的系统和通讯网络，有可能因我们可控范围外的因素而出现问题 四、我们如何共享、转让、公开披露个人信息 1. 我们不会与我们以外的任何公司、组织和个人共享您的个人信息，但以下情况除外 （1）事先获得您明确的同意或授权；\n（2）根据适用的法律法规、法律程序的要求、强制性的行政或司法要求所必须的情况下进行提供；\n（3）在法律法规允许的范围内，为遵守适用的法律法规、维护社会公共利益、或保护我们或我们的集团公司、我们的客户、其他用户或雇员的人身和财产安全或合法权益或安全免遭损害而所合理必需的；\n（4）只有共享您的信息，才能实现我们的产品与/或服务的核心功能或提供您需要的服务；\n（5）应您需求为您处理您与他人的纠纷或争议；\n（6）符合与您签署的相关协议（包括在线签署的电子协议以及相应的平台规则）或其他的法律文件约定所提供；\n（7）基于学术研究而使用；\n（8）基于符合法律法规的社会公共利益而使用。\n2. 第三方服务、应用 为实现本政策中声明的目的及更好的为您提供服务，我们可能会接入第三方服务商提供的 SDK 或其他类似的应用程序，并将我们依照本政策收集的您的某些信息共享给该等第三方服务商，以便提供更好的客户服务和用户体验。各单项服务接入第三方 SDK 的情况可能有不同，如需了解具体单项服务接入第三方 SDK 的详细情况，请您联系我们。目前，我们为了实现如下功能或服务接入了第三方服务商：\n2.1 产品使用情况分析：为分析我们服务的使用情况，提升用户使用体验，我们会与第三方服务商 Google 共享产品的使用情况（设备类型、使用时长等）的去标识化或匿名化数据，这些数据难以与其他信息结合识别您的个人身份；\n2.3 内容分享：在您点击“分享”键将某些 Jacob’s Thoughts 站点内容分享到第三方社交媒体时，我们将通过对应的第三方服务商完成分享功能。该功能的实现需要收集您的信息（设备信息、应用列表信息、地理位置等）。\n2.4 通过网页唤起 APP：在您通过网页等唤起 Jacob’s Thoughts 站点 APP 的服务时，我们将通过对应的第三方服务商完成此功能。该功能的实现需要收集您的信息（设备信息等）。\n2.5 实现广告相关的共享信息：a 广告推送：我们可能与委托我们进行推广和广告投放的合作伙伴共享信息，但我们不会共享用于识别您个人身份的信息（姓名、身份证号），仅会向这些合作伙伴提供不能识别您个人身份的间接画像标签及去标识化或匿名化后的信息，以帮助其在不识别您个人身份的前提下提升广告有效触达率。b 广告统计：我们可能与业务的服务商、供应商和其他合作伙伴共享分析去标识化的统计信息，这些信息难以与您的身份信息相关联，这些信息将帮助我们分析、衡量广告和相关服务的有效性。\n我们仅会出于正当、必要、特定的目的共享您的信息。仅将去标识化或匿名化处理后的信息共享给第三方。对我们与之共享信息的第三方服务商，我们会要求他们履行相关保密义务并采取相应的安全措施及提供相关安全等级认证。如果您有需要了解的，您也可以选择通过本政策“如何联系我们”章节所列的反馈渠道联系我们，我们会尽快为您作出解答。\n本政策仅适用于我们所收集的个人信息，并不适用于任何第三方站点或第三方的信息使用规则。该等第三方服务由相关的第三方负责运营。您使用该等第三方服务（包括您向该等第三方提供的任何信息），须受第三方自己的服务条款及信息保护声明（而非本政策）约束，您需要仔细阅读其条款。如您发现这些第三方服务存在风险时，建议您终止相关操作以保护您的合法权益。\n3. 转让 我们不会将您的个人信息转让给任何公司、组织和个人，但以下情况除外：\n（1）事先获得您的明确同意；\n（2）根据法律法规或强制性的行政或司法要求；\n（3）在涉及到个人信息转让，我们会向您告知有关情况，并要求新的持有您个人信息的公司、组织继续受本政策的约束。如变更个人信息使用目的时，我们将要求该公司、组织重新取得您的明确同意。\n4. 公开披露 除对违规账号、欺诈行为进行处罚公告时，我们会披露相关账号的信息外，原则上我们不会将您的信息进行公开披露。如确需公开披露时，我们会向您告知公开披露的目的、披露信息的类型及可能涉及的敏感信息，并征得您的明确同意\n5. 依法豁免征得同意共享、转让、公开披露的个人信息 请您理解，在下列情形中，根据法律法规及国家标准，我们共享、转让、公开披露您的个人信息无需征得您的授权同意：\n（1）与国家安全、国防安全直接相关的；\n（2）与公共安全、公共卫生、重大公共利益直接相关的；\n（3）与犯罪侦查、起诉、审判和判决执行等直接相关的；\n（4）出于维护您或其他个人的生命、财产等重大合法权益但又很难得到本人同意的；\n（5）您自行向社会公众公开的个人信息；\n（6）从合法公开披露的信息中收集个人信息的，如合法的新闻报道、政府信息公开等渠道。\n五、如何管理您的个人信息 为了让您更便捷地查询访问、更正您的个人信息，同时保障您退出登录和注销账户和设置隐私功能的权利，按照中国相关法律、法规、标准，我们在产品设计中为您提供了相应的操作设置，您可参考下面的指引进行操作。\n1. 访问您的个人信息 已登录状态下，在网站中选择右上角的【我的】tab，此时页面上方会显示您的头像，昵称等个人信息。\n2. 更正您的个人信息 已登录状态下，在网站中选择右上角的【我的】tab，点击页面上方会显示您的头像，昵称等个人信息区域，进入个人主页。再次点击右上角的【编辑资料】按钮，即可更正您的个人信息。\n3. 退出登录 已登录状态下，在网站中选择右上角的【我的】tab，进入【更多设置】。拉到最底部，会看到【退出登录】按钮，点击即可。\n4. 注销 请发送邮件至 jacob.ruan#outlook.com；\n5. 新闻内容定向推送开关设置 在浏览器设置中进入进入【更多设置】-【隐私设置】，可开启或关闭【允许网站追踪】开关。关闭后，您看到的信息将不依赖于您的个性化行为。\n6. 敏感权限设置 在浏览器设置中进入【更多设置】-【隐私设置】，可开启或关闭位置、照片（存储空间）、相机、麦克风、获取手机信息和拨打电话的权限。关闭后我们将不再收集与这些权限相关的信息。\n六、未成年人信息保护条款 若你是未满 18 周岁的未成年人，在使用 Jacob’s Thoughts 站点相关服务前，应在你的父母或其他监护人监护、指导下共同阅读并同意本隐私政策。\n我们根据国家相关法律法规的规定保护未成年人的个人信息，只会在法律允许、父母或其他监护人明确同意或保护未成年人所必要的情况下收集、使用、储存、共享、转让或披露未成年人的个人信息。\n七、《隐私政策》的修订和通知 为了给您提供更好的服务，Jacob’s Thoughts 站点及相关服务将不时更新与变化，我们会适时修订本隐私政策的条款，该等修订构成本隐私政策的一部分。\n当本隐私政策更新后，我们会在 Jacob’s Thoughts 站点发出更新版本，并在更新后的条款生效前通过官方网站（jacobruan.com）公告，并将以站内信等适当的方式提醒您相关内容的更新，以便您及时了解本隐私政策的最新版本。\n八、联系我们 当您有其他的投诉、建议、未成年人个人信息相关问题或需要删除所有访问记录时，您可以将您的问题发送至 jacob.ruan#outlook.com。\n我们将尽快审核所涉问题，并在验证您的用户身份后的十五个工作日内予以回复。\n","permalink":"https://weixiang.github.io/privacy/","summary":"隐私政策 Privacy \u0026amp; Data","title":"隐私政策"},{"content":"通过您自己的 Linux 硬件进行广告拦截\nPi- hole®是一个DNS 沉洞服务器，无需安装任何客户端软件即可保护您的设备免受有害内容的侵害。\n易于安装：安装程序将引导您完成整个过程，并且只需不到十分钟的时间 强大：不仅是网页去广告，还能去除 APP 内置广告和智能电视广告 响应式：通过缓存 DNS 查询来无缝地加快日常网络加载的速度 轻巧：运行平稳，对硬件的性能要求很小 全能：拥有一个命令行界面，有稳定操作性的保证 优雅的 UI：一个漂亮的响应式 Web 界面仪表板，可查看和控制您的 Pi-hole 多功能：可以选择用作DHCP 服务器，自动保护局域网内的所有设备 可扩展性：安装在服务器级硬件上时能够处理数亿个查询 现代：能够阻止 IPv4 和 IPv6 上的广告 免费：开源软件，你的隐私只在你的手里 需要准备的材料 一个树莓派（以 3B+ 为例） USB 电源适配器（5V，不小于 2A） USB 电缆 8G 以上的高速 TF 卡 电脑（以 Windows 为例） 网线 互联网连接（推荐使用 真 · 互联网） 开始安装 首先我们需要将树莓派接入路由器，有线或无线均可，然后 SSH 远程登录到树莓派上：\n不会的同学请先去看上一篇文章，本文不再赘述如何初始化、连接到树莓派。\n使用官方的一键安装脚本即可快速安装（我额外加了以 root 运行）：\ncurl -sSL https://install.pi-hole.net | sudo bash 等待一会，然后一路回车即可，个人认为默认的设置就很不错了。如果你想搞特殊，也可以停下来用 Google 翻译看看，根据自己想需要调整设置。\n因为众所周知的原因，安装过程可能需要魔法！\n如果你和我一样在这里卡了很久或者直接 error 了，说明你需要使用魔法。\n至于具体操作请自己 Google 一下吧，我这里也不太好直接向麻瓜们直接展示对吧。（搜索关键词：树莓派 + 魔法名称）\n安装完毕，记下访问地址和密码。\n调整 Pi-hole 的设置 用浏览器访问刚刚的地址就能看到主页了，或者也可以访问 http://pi.hole/admin\n主页展示的是 Pi-hole 的实时运行状态，点击 Login 输入记下的密码即可登录到控制台。\n控制台就是这样的，现在可以开始调整 Pi-hole 的设置来获得更好的体验了：\n添加 hosts 源 实际上，Pi-hole 使用的是 hosts 方式对广告进行过滤（类似 AdAway），所以 hosts 源的好坏直接决定了用户体验。自带的 host 对于我国网络环境来说可能会水土不服，下面推荐几个知名 hosts 源，可以到 Settings - Blocklists 里面添加自定义源，添加一个之后按 Save 保存，全部添加完成后按 Save and Update 来更新 host 并保存设置。\nyhosts：可以说是国内比较老牌的知名 hosts，定期有更新，但作者主观屏蔽了一些非广告网站，可以用下面的命令手动添加白名单来解决不够客观的问题： pihole -w `curl -sSL https://raw.githubusercontent.com/vokins/yhosts/master/data/moot/cps.txt https://raw.githubusercontent.com/vokins/yhosts/master/data/moot/error.txt https://raw.githubusercontent.com/vokins/yhosts/master/data/moot/hate.txt | sed \u0026#39;/^@/d; /^#/d; s/127.0.0.1 //\u0026#39; | tr \u0026#34;\\n\u0026#34; \u0026#34; \u0026#34;` neoHosts：比较小众的 hosts，但也口碑不错，看介绍貌似是不满于上面那位而弄出来的。 AdAway、Yoyos、MVPS：知名去广告软件 AdAway 的默认源，有些水土不服。 大圣净化：Android 平台知名去广告软件大圣净化的规则，针对视频网站优化。 GoogleHosts：一个能帮助你访问 404 网站的 hosts。 更多 hosts 可以去 GitHub 上搜索，或者到 AdAway 的 Wiki 看看：https://github.com/AdAway/AdAway/wiki/HostsSources\n相较于通常的过滤方式（如 Adblock Plus、KoolProxy 等），利用 hosts 过滤有自己的优缺点。优点是不会拖累网速（甚至可能有一定提升），缺点是过滤效果不尽如人意。\n添加国内 DNS 服务器 Pi-hole 在安装时已经设置过一次 DNS 服务器了，但因为是国外的 DNS 服务，速度可能会比较慢，通过添加国内的 DNS 服务可以提高速度。\n进入 Settings - DNS - Upstream DNS Servers 就可以添加 DNS 服务器了。\n国内常见公共 DNS 服务 腾讯 DNSPod https://www.dnspod.cn/Products/Public.DNS\nAnycast：上海、天津、广州、香港\nIPv4：119.29.29.29 / 119.28.28.28 这是 DNSPod 建立的公共 DNS，之后 DNSPod 被腾讯收购以后由腾讯云负责运营。腾讯 DNSPod 公共 DNS 配置了 Anycast，节点囊括了腾讯云所有可用区的节点（包括海外），所以速度还是不错的，并且除了支持 ECS 以外还有一些关于 DNS 出口选择优化的加成，所以 CDN 解析结果相对准确很多。但是 SLA 却并不优秀 —— 曾经 经常遭遇 DDoS 攻击导致无法解析。除此以外，由于相对出名、使用人数较多，是运营商重点劫持的对象。\n值得一提的是，DNSPod 的公共 DNS 是免费提供 HTTPDNS 的，Demo 可以看 这里\n阿里云公共 DNS http://www.alidns.com\nAnycast：成都、深圳、杭州\nIPv4：223.5.5.5 / 223.6.6.6 IPv6：2400:3200::1 / 2400:3200:baba::1 阿里建立的公共 DNS。和腾讯一样，阿里公共 DNS 也是搭建在自家的云服务 —— 阿里云上。虽然也配置了 Anycast，不过不包括海外节点，国内也就浙江阿里云和深圳阿里云两个节点， 而且华北地区都是隧道穿透回深圳，响应速度略逊于 DNSPod 提供的公共 DNS；阿里公共 DNS 不支持 ECS，有 DNS 出口的优化 （一般都是广东出口），。关于阿里的公共 DNS 没有听说太多宕机、无法使用相关的报告。，但是倒是听说阿里公共 DNS 时常有返回 NXDOMAIN 影响使用体验。 NSDOMAIN 问题已得到一定缓解。阿里云 DNS 是国内首个支持 IPv6 的 DNS 服务。\n南京信风公共 DNS https://www.114dns.com/\nAnycast：南京、济南、芝加哥\nIPv4：114.114.114.114 / 114.114.115.115 无疑是国内最著名的公共 DNS，但是显然不是最好的。有 Anycast，国内有南京和青岛济南两个节点、海外有芝加哥节点，响应速度不敢恭维。国内最著名的公共 DNS、使用的人很多，SLA 非常可靠，因此也是运营商重点劫持的对象。但是考虑到南京信风为运营商旁路广告劫持提供技术和硬件支持，对他们提供的公共 DNS 服务还是戴着有色眼镜来看吧。\nCNNIC 公共 DNS http://www.sdns.cn/ 北京、杭州、香港\nIPv4：1.2.4.8 / 210.2.4.8 CNNIC 名声并不好（CNNIC Root CA 的故事），因此有些许人相对都有些对 CNNIC 的抵触心理。CNNIC 的公共 DNS（SDNS）国内仅双点部署、Anycast 配得一塌糊涂、速度堪忧，解析结果没有 CDN 优化。至于撇开 CNNIC 来谈 SDNS 推不推荐使用？SLA 比 DNSPod 的公共 DNS 还惨，解析请求时不时超时，嗯。\n百度公共 DNS 北京、南京、深圳 https://dudns.baidu.com/\nIPv4：180.76.76.76 IPv6：2400:da00::6666 百度的名声现在怕是比 CNNIC 还要臭得多，他们的公共 DNS 于 2017 年上线，现在也不被太多人知道，不过还是简单提两笔：百度也为公共 DNS 也配置了 Anycast，国内是单点百度北京数据中心北京、南京、深圳三点，海外是单点百度香港数据中心。用的人少，也许不容易被运营商劫持，有兴趣的可以试一试看。\nEnjoy it 到这里，你已经完成了树莓派的安装与初始化设置，你可以开始使用你的树莓派，做出令人惊叹的作品了！\n希望你喜欢这篇文章，如果对你有帮助的话，别忘了点赞、收藏、分享和点击订阅，并留意更新动态。\nStay creative, and I will see you next time!\n本作品采用知识共享署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议进行许可。\n参考文献：\n","permalink":"https://weixiang.github.io/posts/use-pi-hole-to-build-a-raspberry-pi-black-hole/","summary":"通过您自己的 Linux 硬件进行广告拦截！Pi- hole®是一个 DNS 沉洞服务器，无需安装任何客户端软件即可保护您的设备免受有害内容的侵害。","title":"用 Pi-hole 搭建一个树莓派黑洞"},{"content":"请注意：由于 V2Ray 项目变动，本文的操作方法已经失效，但仍具一定参考价值 本文将向你介绍如何使用树莓派配置和安装 V2Ray 和 privoxy ，让树莓派顺畅访问国际互联网，并为局域网内的其他的设备提供 socks5代理和 http代理服务。\n先来给大家解释一下基本原理：\n啊不好意思放错了，应该是这张：\n我们这篇文章要实现的目标是：\ngraph LR A(你的设备/树莓派) --\u0026gt; B(树莓派 Privoxy) B --\u0026gt; |普通域名| E(目标网站) B --\u0026gt; |魔法域名| C(树莓派 V2Ray 客户端) --\u0026gt; D(V2Ray服务端) --\u0026gt; E(目标网站) B --\u0026gt; |广告域名| F(拦截) 需要准备的材料 树莓派（以 3B+ 为例） 电源（5V，不小于 2A） 8G 以上的高速 TF 卡 电脑（以 Windows 为例） 网线 互联网连接（推荐使用 真 · 互联网） 安装和配置 V2Ray 什么是 V2Ray？ V2Ray 是 Project V 下的一个工具。Project V 是一个包含一系列构建特定网络环境工具的项目，而 V2Ray 属于最核心的一个。官方中介绍 Project V 提供了单一的内核和多种界面操作方式。内核（V2Ray）用于实际的网络交互、路由等针对网络数据的处理，而外围的用户界面程序提供了方便直接的操作流程。不过从时间上来说，先有 V2Ray 才有 Project V。如果还是不理解，那么简单地说，V2Ray 是一个与 Shadowsocks 类似的代理软件，可以用来科学上网（施展魔法）学习国外先进科学技术。\n安装 V2Ray 安装 V2Ray。可以使用 V2Ray 提供的 go.sh 脚本安装，由于 GFW 会恶化对 GitHub 的访问，直接运行脚本几乎无法安装，建议先从 v2ray-core/releases 将安装包v2ray-linux-arm.zip下载到树莓派，使用--local参数从本地安装\nwget -O v2ray_install.sh https://install.direct/go.sh chmod +x v2ray_install.sh sudo ./v2ray_install.sh --local v2ray-linux-arm.zip 配置 V2Ray 通过 v2rayN 可以导出节点配置为客户端配置，以下为 WS+TLS 的配置文件示例（请勿直接使用以下配置）：\n{ \u0026#34;policy\u0026#34;: { \u0026#34;system\u0026#34;: { \u0026#34;statsInboundUplink\u0026#34;: true, \u0026#34;statsInboundDownlink\u0026#34;: true } }, \u0026#34;log\u0026#34;: { \u0026#34;access\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;error\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;loglevel\u0026#34;: \u0026#34;warning\u0026#34; }, \u0026#34;inbounds\u0026#34;: [ { \u0026#34;tag\u0026#34;: \u0026#34;proxy\u0026#34;, \u0026#34;port\u0026#34;: 1080, \u0026#34;listen\u0026#34;: \u0026#34;0.0.0.0\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;socks\u0026#34;, \u0026#34;sniffing\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;destOverride\u0026#34;: [ \u0026#34;http\u0026#34;, \u0026#34;tls\u0026#34; ] }, \u0026#34;settings\u0026#34;: { \u0026#34;auth\u0026#34;: \u0026#34;noauth\u0026#34;, \u0026#34;udp\u0026#34;: true, \u0026#34;ip\u0026#34;: null, \u0026#34;address\u0026#34;: null, \u0026#34;clients\u0026#34;: null }, \u0026#34;streamSettings\u0026#34;: null }, { \u0026#34;tag\u0026#34;: \u0026#34;api\u0026#34;, \u0026#34;port\u0026#34;: 8224, \u0026#34;listen\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;dokodemo-door\u0026#34;, \u0026#34;sniffing\u0026#34;: null, \u0026#34;settings\u0026#34;: { \u0026#34;auth\u0026#34;: null, \u0026#34;udp\u0026#34;: false, \u0026#34;ip\u0026#34;: null, \u0026#34;address\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;clients\u0026#34;: null }, \u0026#34;streamSettings\u0026#34;: null } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;tag\u0026#34;: \u0026#34;proxy\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;vnext\u0026#34;: [ { \u0026#34;address\u0026#34;: \u0026#34;192.19.108.30\u0026#34;, \u0026#34;port\u0026#34;: 443, \u0026#34;users\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;96603728-5243-4b0a-94c1-0b4c22a69eeb\u0026#34;, \u0026#34;alterId\u0026#34;: 2, \u0026#34;email\u0026#34;: \u0026#34;t@t.tt\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;auto\u0026#34; } ] } ], \u0026#34;servers\u0026#34;: null, \u0026#34;response\u0026#34;: null }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;ws\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;tls\u0026#34;, \u0026#34;tlsSettings\u0026#34;: { \u0026#34;allowInsecure\u0026#34;: true, \u0026#34;serverName\u0026#34;: \u0026#34;outsite.xyz\u0026#34; }, \u0026#34;tcpSettings\u0026#34;: null, \u0026#34;kcpSettings\u0026#34;: null, \u0026#34;wsSettings\u0026#34;: { \u0026#34;connectionReuse\u0026#34;: true, \u0026#34;path\u0026#34;: \u0026#34;/os\u0026#34;, \u0026#34;headers\u0026#34;: { \u0026#34;Host\u0026#34;: \u0026#34;outsite.xyz\u0026#34; } }, \u0026#34;httpSettings\u0026#34;: null, \u0026#34;quicSettings\u0026#34;: null }, \u0026#34;mux\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;concurrency\u0026#34;: 8 } }, { \u0026#34;tag\u0026#34;: \u0026#34;direct\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;vnext\u0026#34;: null, \u0026#34;servers\u0026#34;: null, \u0026#34;response\u0026#34;: null }, \u0026#34;streamSettings\u0026#34;: null, \u0026#34;mux\u0026#34;: null }, { \u0026#34;tag\u0026#34;: \u0026#34;block\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;blackhole\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;vnext\u0026#34;: null, \u0026#34;servers\u0026#34;: null, \u0026#34;response\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;http\u0026#34; } }, \u0026#34;streamSettings\u0026#34;: null, \u0026#34;mux\u0026#34;: null } ], \u0026#34;stats\u0026#34;: {}, \u0026#34;api\u0026#34;: { \u0026#34;tag\u0026#34;: \u0026#34;api\u0026#34;, \u0026#34;services\u0026#34;: [ \u0026#34;StatsService\u0026#34; ] }, \u0026#34;dns\u0026#34;: null, \u0026#34;routing\u0026#34;: { \u0026#34;domainStrategy\u0026#34;: \u0026#34;IPIfNonMatch\u0026#34;, \u0026#34;rules\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;port\u0026#34;: null, \u0026#34;inboundTag\u0026#34;: [ \u0026#34;api\u0026#34; ], \u0026#34;outboundTag\u0026#34;: \u0026#34;api\u0026#34;, \u0026#34;ip\u0026#34;: null, \u0026#34;domain\u0026#34;: null } ] } } 将配置文件上传到树莓派，使用下面的命令替换默认配置：\nsudo mv config.json /etc/v2ray/ 检查配置文件并添加到系统启动项\n/usr/bin/v2ray/v2ray -test -config /etc/v2ray/config.json # 查看配置文件是否出错 sudo systemctl start v2ray # 启动v2ray服务 sudo systemctl status v2ray # 查看v2ray运行状态 sudo systemctl enable v2ray # 将v2ray加入开机自启动 执行 curl -so /dev/null -w \u0026quot;%{http_code}\u0026quot; google.com -x socks5://127.0.0.1:1080 确认 V2Ray 已经可以使用魔法 (命令中 Socks5 指 inbound 协议为 socks，1080 指该 inbound 端口是 1080)。如果执行这个命令出现了 301 或 200 这类数字的话代表可以使用魔法，如果长时间没反应或者是 000 的话说明不可以使用魔法。[^1]\nPrivoxy 使用指南 Privoxy 是一个免费的开源非缓存 Web 代理，可以过滤和处理传入的数据。\n使用 Privoxy，我们可以让树莓派变成你的局域网代理服务器。\nPrivoxy 的好处是，可以在网页数据到达浏览器之前对其进行过滤和操作。\n这也意味着可以使用 Privoxy 充当浏览器的广告拦截器。\n简介精简版 Privoxy 是个很朴素但很强大的工具，基本功能和 switchyomega 类似：根据规则来处理请求流向 —— 但不仅限于影响浏览器，我理解它介于 iptables 和 Switchyomega 之间。可以把接收到的请求，根据规则转发到下一次代理：比如 1080 常用来使用魔法，那么 Google 就走 1080，百度不需要使用魔法就直连。还可以根据规则屏蔽广告和垃圾站点。\n简介故事版 电脑联网了，就像在大山里的村庄有了一条通往市里的路，我们发起的所有请求，都会通过这条路走出去。有一天你发现这条路走下去，到另一个方向的城市会南辕北辙走不通，但是这条路附近呢又有另一个村子，到那边就能通了，所以你在路上开了一条小路去那个村子借道：第一个城市就是我们平常的请求比如百度淘宝知乎，第二条路走下去可能是谷歌脸书推特油管，也有可能是公司的内网环境，另一个村子就是 VPN，它或许是墙外的节点，或许是公司里那个看门的。\n这些路怎么走通往哪里，你知道了，但其他村民可能不知道，他们走到岔路口不知道它是通往哪里的，所以你就立了个路牌了做指向。Privoxy 是这个路牌，Switchyomega 也是这个路牌，proxifier 也是路牌之一 (mac 和 Windows 可用，有 GUI 和请求的详细日志，要花钱的)。这样理解的话，所有类型的 VPN 该怎么用就都好配置了。\n不建议盲目开全局，虽然它可能经常是管用的，但实际上所有流量都走了 \u0026ldquo;另一个村子\u0026rdquo; 再绕回来，天寒地冻路远不说，而且像网易这样的 \u0026ldquo;店面\u0026rdquo;，绕一下它可能就不接待你了 (他只认你哪里来的)。\n在 树莓派上安装 Privoxy 各个 Linux 发行版源里都有，直接包管理器装即可。\nsudo apt-get -y install privoxy # 安装privoxy mac 可以 brew install privoxy ，然后用 brew sevices 子命令管理。( 官方也有提供安装包 )\nWindows, 官方同样给了包和安装文档，但是等有空再写吧（其实基本就不想弄了…\n配置 在开始本节之前，强烈建议确保树莓派有静态的局域网 IP 地址。\n可以通过以下命令来查看树莓派的 IP\nhostname-I debian 装 privoxy，它的配置文件里注释写的跟论文一样长，最开始的时候就被吓退了。\n~ λ k -h /etc/privoxy config # 主配置文件 default.action default.filter gfwlist.action # 自己生成的，用了 gfwlist 清单 match-all.action regression-tests.action templates trust user.action user.filter config 文件处理 :\nsudo cp /etc/privoxy/config /etc/privoxy/config.bak # 做个备份 sudo nano /etc/privoxy/config # 编辑配置文件 # 修改监听范围和端口（任选一句） listen-address 127.0.0.1:8118 # 监听本机的8118端口（仅树莓派魔法） listen-address 0.0.0.0:8118 # 监听本机+局域网的8118端口（树莓派+局域网魔法） # 添加代理规则（任选一句） actionsfile gfwlist.action # 让 privoxy 加载 gfwlist.action 实现智能分流 forward-socks5t / 127.0.0.1:1080 . # 全局代理无分流，注意后面还有一个点 完成后，按 CTRL+ X ，然后按 Y ，最后按 ENTER 保存文件。\n生成 gfwlist.action 文件 这个项目可以很方便的帮忙生成这个配置：https://github.com/zfl9/gfwlist2privoxy\ncurl -4sSkLO https://raw.github.com/zfl9/gfwlist2privoxy/master/gfwlist2privoxy sudo mv gfwlist2privoxy /usr/local/bin \u0026amp;\u0026amp; sudo chmod a+x /usr/local/bin/gfwlist2privoxy # 放到 \u0026#34;PATH\u0026#34; 里保留，常用的 bash gfwlist2privoxy 127.0.0.1:1080 # 注意将 127.0.0.1:1080 替换为你的 socks5 地址 sudo mv -f gfwlist.action /etc/privoxy/ # gfwlist.action 移动到 privoxy 配置文件目录 sudo systemctl restart privoxy # 重启一下确保配置生效 sudo service privoxy status # 查看privoxy运行状态 tips: Privoxy 启动后，你设备配置好 HTTP 代理后，浏览器里输入 http://p.p ，你可以看到 Privoxy 成功启动的界面。\n自定义配置 如果你有公司的 VPN，Git 仓库或者其他办公站点也需要走代理，可以很方便的加一个配置。\nsudo touch /etc/proxy/autovpn.action sudo echo \u0026#39;actionsfile autovpn.action\u0026#39; \u0026gt;\u0026gt;/etc/privoxy/config # 以下注释可以删除 sudo cat \u0026gt; /etc/proxy/autovpn.action \u0026lt;\u0026lt;EOF {{alias}} alauda = +forward-override{forward-socks5 127.0.0.1:5087 .} # alias 是定义别名的意思，可以在此处定义转发规则 {alauda} .alauda.io .alaudatech.com # 引用别名，在其后紧跟需要适配这个规则的域名 # 支持泛域名，比如 .baidu.com 可以匹配 www.baidu.com，tieba.baidu.com EOF sudo systemctl restart privoxy # 重启一下确保配置生效 开始施展魔法 树莓派 浏览器 在 Chrome 中：\n打开“ Settings”菜单，或在地址栏中输入chrome://settings 向下滚动到底部 点击“ 高级 ”打开高级设置 向下滚动，直到看到“ 系统 ”选项 点击 打开您计算机的代理设置 IP 地址填入树莓派的 IP，端口默认情况下应设置为8118（Privoxy 监听的端口）\n或者：Chrome、Firefox 有 Switchyomega 这个插件可以处理转发规则，配置也简单，但需要各自配置，使用 Privoxy 可以集中在一个地方处理。修改浏览器的代理，使用 http://localhost:8118 即可。\n终端 方法 1 在终端中直接运行命令\n# 示例：本地 HTTP 代理 export http_proxy=http://localhost:8118 export https_proxy=http://localhost:8118 # 示例：本地 Socks5 代理 export http_proxy=socks5://127.0.0.1:1080 export https_proxy=socks5://127.0.0.1:1080 # 也可以用 ALL_PROXY export ALL_PROXY=socks5://localhost:1080 # 如果代理服务器需要登陆，这时可以直接把用户名和密码写进去 http_proxy=http://userName:password@proxyAddress:port 设置完毕后 wget curl 这类网络命令都会经过设置的代理。\nlocalhost 就是一个域名，域名默认指向 127.0.0.1，两者是一样的。\n这个办法的好处是简单直接，并且影响面很小，只对当前终端有效，退出就不行了。\n方法 2 把代理服务器地址写入 shell 配置文件.bashrc 或者.zshrc\n直接在.bashrc 或者.zshrc 添加下面内容\n# 示例：本地 HTTP 代理 export http_proxy=\u0026#34;http://localhost:port\u0026#34; export https_proxy=\u0026#34;http://localhost:port\u0026#34; # 示例：本地 Socks5 代理 export http_proxy=\u0026#34;socks5://127.0.0.1:1080\u0026#34; export https_proxy=\u0026#34;socks5://127.0.0.1:1080\u0026#34; # 也可以用 ALL_PROXY export ALL_PROXY=socks5://127.0.0.1:1080 # 如果代理服务器需要登陆，这时可以直接把用户名和密码写进去 http_proxy=http://userName:password@proxyAddress:port 然后 Ctrl + X 保存文件，接着在终端中执行 source ~/.bashrc\n或者退出当前终端再起一个终端。这个办法的好处是把代理服务器永久保存了，下次就可以直接用了。\n或者通过设置 Alias 简写来简化操作，每次要用的时候输入 setproxy，不用了就 unsetproxy。\nalias setproxy=\u0026#34;export ALL_PROXY=socks5://127.0.0.1:1080\u0026#34; alias unsetproxy=\u0026#34;unset ALL_PROXY\u0026#34; alias ip=\u0026#34;curl -i http://ip.cn\u0026#34; 方法 3 改相应工具的配置\n比如 apt 的配置：\nsudo nano /etc/apt/apt.conf 在文件末尾加入下面这行\nAcquire::http::Proxy \u0026#34;http://proxyAddress:port\u0026#34; 保存 apt.conf 文件即可。\n更多关于 apt 的代理设置可以参考 ASK UBUNTU 里的这个问题\nGit 的设置：\ngit config --global http.proxy \u0026#39;socks5://127.0.0.1:1080\u0026#39; git config --global https.proxy \u0026#39;socks5://127.0.0.1:1080\u0026#39; Git 仓库有的在国内有的在国外，国内的有 GitCafe、Coding.net、开源中国 Git，所以用国内的就没必要设置了，反而会慢。\n局域网内其他设备使用 浏览器 每种浏览器的设置不同，下面是一份快速指南：\n在 Chrome 中： 打开“ Settings”菜单，或在地址栏中输入chrome://settings 向下滚动到底部 点击“ 高级 ”打开高级设置 向下滚动，直到看到“ 系统 ”选项 点击打开您计算机的代理设置 在 Firefox 中： 打开Options菜单，或在地址栏中输入about:preferences 向下滚动到底部 点击Settings...标题下的 Network Settings按钮 在 Internet Explorer 中： 转到设置。 点击 Connections标签。 点击 LAN settings按钮。 勾选 Use a proxy server for your LAN IP 地址填入树莓派的 IP，端口默认情况下应设置为8118（Privoxy 监听的端口）\n也可以用 Switchyomega 这个插件处理转发规则，使用 http://树莓派IP:8118 即可。\n设置系统网络代理服务器 一般在电脑、手机等设备的网络连接设置的高级选项里，都有设置代理服务器的地方，服务器填入树莓派 IP，端口填入 8118，认证选择无，保存即可生效，开始感受宛如置身海外的上网冲浪体验吧。\n验证树莓派代理服务器 将代理设置配置为指向树莓派后，在浏览器中打开下面的地址\nhttp://config.privoxy.org/ 如果一切运行正常，可以看到 Privoxy 的欢迎界面：\n如果显示的是 Privoxy is not being used ，就要检查一下检查代理设置是否正确了。\nEnjoy it 到这里，你已经完成了树莓派魔法的安装与配置，你可以开始使用你的树莓派访问真正的互联网，并为局域网内的其他设备提供魔法代理服务。\n希望你喜欢这篇文章，如果对你有帮助的话，别忘了点赞、收藏、分享和点击订阅，并留意更新动态。\nStay creative, and I will see you next time!\n本作品采用知识共享署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议进行许可。\n参考文献：\n[Ask Ubuntu]: https://askubuntu.com/questions/349702/apt-conf-acquirehttpproxy-proxyserverport-seems-not-to-be-used-ubuntu-13 \u0026ldquo;apt.conf “Acquire::http:Proxy ”proxyserver:port\u0026rdquo; seems not to be used (Ubuntu 13.04 under Virtual Box on Win7)\u0026quot;\n","permalink":"https://weixiang.github.io/posts/raspberry-pi-uses-v2ray-magic-to-surf-the-internet/","summary":"本文将向你介绍如何使用树莓派配置和安装 V2Ray 和 privoxy，让树莓派顺畅访问国际互联网，并为局域网内的其他的设备提供 socks5 代理和 http 代理服务。","title":"树莓派使用 V2Ray 魔法上网"},{"content":"树莓派（英语：Raspberry Pi）是基于 Linux 的 单片机电脑，由英国树莓派基金会开发，目的是以低价硬件及自由软件促进学校的基本计算机科学教育。\nRaspbian 是专门用于 ARM 卡片式计算机 Raspberry Pi® “树莓派”的操作系统。\nRaspberry Pi® “树莓派”是 2012 年问世的 ARM 计算机，旨在为儿童和所有的计算机爱好者提供一套廉价的编程学习与硬件 DIY 平台。树莓派基于 ARM11，具有 1080P 高清视频解析能力，附带用于硬件开发的 GPIO 接口，使用 Linux 操作系统。售价仅 $25~$35。\nRaspbian 系统是 Debian 7.0/wheezy 的定制版本。得益于 Debian 从 7.0/wheezy 开始引入的“带硬件浮点加速的 ARM 架构”(armhf)，Debian 7.0 在树莓派上的运行性能有了很大提升。Raspbian 默认使用 LXDE 桌面，内置 C 和 Python 编译器。\nRaspbian 是树莓派的开发与维护机构 The Raspbeery Pi Foundation“树莓派基金会”，推荐用于树莓派的首选系统。\n本文展示的是在没有外接显示屏的情况下的树莓派的初始化安装，以及如何连接到树莓派。\n需要准备的材料 树莓派（以 3B+ 为例） USB 电源适配器（5V，不小于 2A） USB 电缆 8G 以上的高速 TF 卡 USB 3.0 高速读卡器 电脑（以 Windows 为例） 网线 互联网连接（推荐使用 真 · 互联网） 安装 Raspbain 系统到 SD 卡 对于新手用户，树莓派官方建议使用 Raspberry Pi Imager，将系统镜像写入 SD 卡。也可以使用 balenaEtcher，Win32DiskImager 或 imgFlasher 等工具进行烧录，接有屏幕、键鼠的同学也可以使用 NOOBS 来部署系统。\n下面以 Raspberry Pi Imager 为例\n下载安装 Raspberry Pi Imager Raspberry Pi Imager 下载地址：\nhttps://www.raspberrypi.org/downloads/ 因为众所周知的原因，可能需要一些魔法才能下载成功。\n安装后打开的软件界面是这样的，是不是超级简单：\n格式化 SD 卡 首先要格式化 SD 卡，在第一项 Choose OS 里选择 Erase，然后选好要格式化的 SD 卡，最后点 Write 即可。\n烧录镜像 在 Choose OS 里选择第一项 Raspbain 即可，软件会自动下载并烧录进去，如果要使用本地的镜像文件，要注意文件路径中不要有中文。\n因为众所周知的原因，可能需要一些魔法才能下载成功。\n等进度条跑满，系统镜像就烧写完成啦。\n开启 SSH 功能 在树莓派将来的使用中，我们要用 SSH 的方式连接树莓派并对其进行操作，但为了安全起见，这个功能默认是关闭的，所以我们需要在 SD 卡的根目录创建一个叫“SSH”的文件，才能开启树莓派的 SSH 功能。\n在“此电脑”中找到一个叫“boot”的盘，新建一个 TXT，命名为 SSH 即可，注意不要有后缀！ 如果找不到“boot”这个盘，重新拔插一下读卡器即可。\n启动树莓派并找到它 启动树莓派 插入烧写好系统的 SD 卡，用网线把树莓派和路由器连接起来，如果有键鼠显示器也要先连接上，最后插上电源，等待树莓派启动即可。\n查找树莓派的地址 使用浏览器登录路由器的管理页面，一般为 192.168.1.1，输入管理密码（路由器背面可以找到），进入“终端管理”界面，查看树莓派的 IP 地址。最好给树莓派设置一个固定 IP 地址方便后续使用。此步骤不同品牌的路由器操作方法略有不同，不过都大同小异。\n使用 SSH 连接到树莓派 以 Xshell 为例\nXshell 下载地址：\nhttps://www.netsarang.com/zh/xshell/ 打开 Xshell，在左上角点击新建图标，填入名称，树莓派的 IP 地址，点击连接即可。\n树莓派默认的账户是 pi ，默认密码是 raspberry 。\n如下图时即连接成功：\n给树莓派换上国内源 因为众所周知的原因，树莓派的默认源速度感人，换上国内的源可以显著提高使用体验。\n以清华大学源为例\n编辑 /etc/apt/sources.list 文件，\nsudo nano /etc/apt/sources.list # 删除原文件所有内容，用以下内容取代： deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib 编辑 /etc/apt/sources.list.d/raspi.list 文件，删除原文件所有内容，用以下内容取代：\nsudo nano /etc/apt/sources.list.d/raspi.list # 删除原文件所有内容，用以下内容取代： deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui 编辑完毕后用 Ctrl + X 退出，按下 Y 然后回车键确认保存即可。\n编辑镜像站后，请使用 sudo apt-get update 命令，更新软件源列表，同时检查您的编辑是否正确。\n使用 VNC 连接到树莓派 虽然 SSH 已经可以满足大部分的操作需求，但图形界面对于新手来说显然更容易上手。\n启用 VNC 功能 在 SSH 终端中输入\nsudo raspi-config 即可进入下面的配置模式，罗列了扩展系统分区，修改密码，启动设置等等，然后按着图片找到 VNC 选项打开即可。\n连接到树莓派 下载 VNC 客户端\nhttps://www.realvnc.com/en/connect/download/viewer/ 打开 VNC 软件，输入树莓派的 IP 地址、账户名密码（上一节有），即可连接。\n完成剩余的设置 连接成功后即可看到树莓派的桌面和欢迎界面。\n在欢迎界面中完成剩余的设置，修改地区、语言、时区、密码等，连接上 WiFi。\nEnjoy it 到这里，你已经完成了树莓派的安装与初始化设置，你可以开始使用你的树莓派，做出令人惊叹的作品了！\n希望你喜欢这篇文章，如果对你有帮助的话，别忘了点赞、收藏、分享和点击订阅，并留意更新动态。\nStay creative, and I will see you next time!\n本作品采用知识共享署名 - 非商业性使用 - 相同方式共享 4.0 国际许可协议进行许可。\n参考文献：\n","permalink":"https://weixiang.github.io/posts/installation-and-initialization-of-raspberry-pi/","summary":"Raspbian 是树莓派的开发与维护机构 The Raspbeery Pi Foundation“树莓派基金会”，推荐用于树莓派的首选系统。本文展示的是在没有外接显示屏的情况下的树莓派的初始化安装，以及如何连接到树莓派。","title":"树莓派的安装与初始化"},{"content":"Windows 美化可算是一个经久不衰的话题，虽然巨硬（微软）已经在努力在最新的 Windows 上不断努力打造属于自己的统一设计风格（Microsoft Fluent Design System），但为了兼容性还是不得不做出了许多妥协，在 UI 设计上还是被 Apple 的 macOS 甩出几条街……\n不久我刚刚入坑 Windows 美化，在自己的 Windows 10 上实践后也取得了很不错的效果，虽然不如一些大佬的作品厉害，但自己觉得好看、好用就够了，这也是我美化 Windows 的目的，因为电脑配置垃圾，所以都尽可能用少的系统资源实现美化目的。\n系统美化的意义就在于让自己获得更好的浏览体验，像是清理桌面、文件夹图标等美化还能 提高浏览效率。—— 少数派\n真正的美化应该是集效率与美观一体，保持个性化且自己使用起来得心应手才是理想的美化。—— Fordes\n这篇文章记录了我的一些方法，留作记录，也能帮助一些同学简单复刻这些操作，能加以创新当然会更加好啦。\n** 本文实践于 Windows 10 1903，其余版本未作测试，Windows 10 系统上应该都没问题，用 Windows 7 的同学该升级啦，0202 年了还在用一个 14 年前的系统……（截至发文还能白嫖升级）\n最终效果 快捷方式箭头 按照惯例呢，我们先从最基础的开始，强迫症必做。\ntaskkill /f /im explorer.exe reg add \u0026#34;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Icons\u0026#34; /v 29 /d \u0026#34;C:\\Windows\\system32\\imageres.dll,154\u0026#34; /t reg_sz /f reg add \u0026#34;HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Icons\u0026#34; /v 29 /d \u0026#34;C:\\Windows\\system32\\imageres.dll,154\u0026#34; /t reg_sz /f reg add \u0026#34;HKEY_CLASSES_ROOT\\lnkfile\u0026#34; /v IsShortcut /t reg_sz /f reg add \u0026#34;HEKY_CLASSES_ROOT\\piffile\u0026#34; /v IsShortcut /t reg_sz /f start explorer 复制上面的代码 \u0026ndash;\u0026gt; 新建文本文件 \u0026ndash;\u0026gt; 粘贴保存 \u0026ndash;\u0026gt; 更改文件后缀为 bat ，以管理员身份运行即可。\n像添加快捷方式箭头？\nreg delete \u0026#34;HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Icons\u0026#34; /v 29 /f taskkill /f /im explorer.exe attrib -s -r -h \u0026#34;%userprofile%\\AppData\\Local\\iconcache.db\u0026#34; del \u0026#34;%userprofile%\\AppData\\Local\\iconcache.db\u0026#34; /f /q start explorer pause 用同样的方法运行这段代码即可。\n不会这种操作的可以自行搜索 去快捷方式箭头 即可找到一大堆工具。\n任务栏透明 TranslucentTB 可以完美解决，绿色开源，小巧强大。\n轻量级（占用几 MB 内存且几乎不占用 CPU）的实用程序，可使 Windows 任务栏在 Windows 10 上半透明/透明。\n半机翻介绍 先进的颜色选择器，支持 Alpha 和实时预览，可更改任务栏的颜色。 任务栏状态（选择一种 - 可以在除“正常”以外的每种状态下自定义颜色）： Blur：将使任务栏稍微模糊。 Clear：透明的任务栏。 Normal：常规 Windows 样式。（好像 TranslucentTB 没有运行） Opaque：没有透明度。 Fluent：仅 Windows 10 April 2018 更新及更新。将使任务栏的外观类似于 Microsoft 的 Fluent Design 准则。 Dynamic模式（可以一起使用，并且它们各自提供您可以自定义的任务栏状态和颜色）： Dynamic Windows：如果当前窗口最大化，则将任务栏更改为其他外观。 Dynamic Start Menu：打开开始菜单时将更改任务栏外观。 Dynamic Cortana：打开 Cortana（或禁用 Cortana 的搜索菜单）时，将更改任务栏的外观。 Dynamic Timeline/Task View：打开时间轴（或旧版本的任务视图）时，将更改任务栏外观。 下载地址 GayHub 项目地址\nGayHub 发布地址\n微软商店（推荐）\n用法 下载安装完毕之后默认就会透明，在托盘图标上右键即可对效果进行设置，记得勾选 Open at boot ，这样就能开机启动了。\n对照上面的介绍，并运用初中英语知识，最多再加 Google Translate 我们就可以完成这款软件的设置，透明任务栏√GET。\n桌面图标修改 如上图所示，我对所有应用的快捷方式图标都进行了修改，这一步就是考验耐心……\n获取图标 图标用的是 Pure 轻雨 图标包，下载 APK 文件后使用解压文件解压即可获取图标。\n推荐使用 Everything 搜索 来找图标。\n复制解压后文件的目录，粘贴到搜索框，最后加 空格 + 关键词 就能快速搜索到图标。可以在 Everything 的 搜索 菜单中选择仅搜索图像，在 视图 菜单中选择查看 中图标 ，可以获得较好的搜索体验\n将需要的图标复制到一个新文件夹里，等待转换格式。\n转换格式 从图标包提取出来的图标一般为 PNG 格式，但 Windows 系统的快捷方式图标需要 ico 格式，所有要进行转换。\n使用 CONVERTICO 即可完成在线转换。\n设置图标 右键图标 \u0026ndash;\u0026gt; 更改图标 \u0026ndash;\u0026gt; 选择图标 \u0026ndash;\u0026gt; 确认保存即可\nWindows 磁贴 这一部分我没有做，以下内容来自少数派。\n在 Windows 8 中，传统 Win 32 应用在开始屏幕菜单中的磁贴背景颜色和图标是可以自行定义的，但在 Windows 10 中，微软却取消了这个颇受好评的设计，使得所有 Win 32 应用的磁贴颜色都跟随主题颜色，非常单调且难以辨识。\n在本节，我将以微信为例，教大家通过创建磁贴配置文件的方式更改 Win 32 应用的磁贴背景颜色及图标。\n首先右键点击开始屏幕中的「微信」磁贴，选择「打开文件所在的位置」，然后再次右键点击出现的快捷方式，跳转到微信的实际安装目录。\n收好这份美化技巧合辑，让你的 Windows 从此与众不同\n","permalink":"https://weixiang.github.io/posts/getting-started-notes-for-windows-beautification/","summary":"Windows 美化可算是一个经久不衰的话题，虽然巨硬（微软）已经在努力在最新的 Windows 上不断努力打造属于自己的统一设计风格（Microsoft Fluent Design System），但为了兼容性还是不得不做出了许多妥协，在 UI 设计上还是被 Apple 的 macOS 甩出几条街……","title":"Windows 美化入门笔记"},{"content":"你试过在 Android 10 上安装 ViPER4Android 吗？如果是，那么你可能已经失败了。确实，不过这很正常。可能是因为 Android 10 更改了某些接口，ViPER4Android 还没有适配…\n那么，如何在 Android 10 上安装 ViPER4Android 呢？按照以下的方法即可正常安装使用 ViPER4Android\nPixel，Pixel 3 XL，Pixel 2 XL，OnePlus 6 / 6T，OnePlus 7/7 Pro 经过测试均可运行成功，理论上适用于大部分 Android 10 手机。\n在开始之前，请确保：1、手机已 root 并且已安装 Magisk2、将已安装的音频修改类软件、模块停用或卸载\n正式开始：1、下载安装 ViPER4Android v2.7.1.0 APK。比如说这里：查看链接或者这里：【VIPERFX\u0026ndash;XDA 代理开发版 - 不欢迎安智网的“一个人的冬季”】2、安装完毕后打开 ViPER4Android，但不要安装驱动。\n安装 ViPER4Android\n3、打开 Magisk Manager，在“下载”中搜索 Audio Modification Library，点安装，完毕后不要点重启。\n搜索 Audio Modification Library\n安装 Audio Modification Library\n4、回到 ViPER4Android，选择安装驱动，安装完毕后手机会自动重启。\n安装 ViPER4Android 驱动\n5、重启后，打开 Magisk Manager，在“模块”中将 Audio Modification Library 禁用。\n禁用 Audio Modification Library\n6、再次打开 ViPER4Android，选择安装驱动。7、重启后，打开 ViPER4Android，看看驱动是否正常。如果正常就是安装成功了，若不正常请继续下面的步骤。8、打开 Magisk Manager，在“模块”中将 Audio Modification Library 启用，选择重启，重启后打开 ViPER4Android 看看驱动状态，理论上应该已经安装成功了。\n将 Audio Modification Library 启用\n安装成功\n似乎是要按照上面的顺序安装 ViPER4Android 和 Audio Modification Library 才能成功如果还是失败的同学可以在评论区发出来看看有没有大佬…或者…等 ViPER4Android 的开发团队适配 Android 10 …\n感谢 XDA 上的 1dopewrx05，他在 Pixel 2 XL 主题站上分享了本方法，当然还有 The Customdroid 提供的图片和整理。\n","permalink":"https://weixiang.github.io/posts/the-correct-way-to-install-v4a-on-android-q/","summary":"ViPER4Android 是一款用于 Android 系统的全局音效驱动，主要用于给音频渲染各种各样的音频效果，包括回放增益、均衡器、脉冲反馈处理、场环绕、数字混响、动态系统和限幅器。","title":"在 Android Q 上安装 V4A 的正确姿势"},{"content":"2022 年 1 月 28 日 更新： 本文章部分已经过时，现在大部分情况下可以用 Clash 解决，iOS 除外。\nv2rayN（Windows） Github: https://github.com/2dust/v2rayN/releases v2rayX（Mac） Github: https://github.com/Cenmrev/V2RayX/releases v2rayNG（Android） Github: https://github.com/2dust/v2rayNG/releases Play Store: https://play.google.com/store/apps/details?id=com.v2ray.ang Kitsunebi（Android） Github: https://github.com/eycorsican/kitsunebi-android/releases Play Store: https://play.google.com/store/apps/details?id=fun.kitsunebi.kitsunebi4android BifrostV（Android） Play Store: https://play.google.com/store/apps/details?id=com.github.dawndiy.bifrostv Kitsunebi（iOS） iTunes: https://itunes.apple.com/us/app/kitsunebi-proxy-utility/id1446584073?mt=8 i2Ray（iOS） iTunes: https://itunes.apple.com/us/app/i2ray/id1445270056?mt=8 Shadowrocket（iOS） iTunes: https://itunes.apple.com/us/app/shadowrocket/id932747118?mt=8 Pepi（iOS） iTunes: https://itunes.apple.com/us/app/pepi/id1283082051?mt=8 Quantumult（iOS） iTunes: https://itunes.apple.com/us/app/quantumult/id1252015438?mt=8 更新记录 2022 年 1 月 28 日 迁移文章，修正排版，删除过时信息 ","permalink":"https://weixiang.github.io/posts/project-v-connection-tools/","summary":"魔法企划 Project V 的连接工具的收集与记录。","title":"Project V 连接工具"},{"content":"⚠️ 本准则主要用于应对政治类新闻报道及评论\n宗旨 没有绝对中立的媒体，不能完全信任任何一个媒体。看到新闻事件，冷静分析，独立思考，不跟风，不沸腾，不公开评论。\n目前已知的不信任站点 人⬛日报 [数据删除] 共青⬛中央 [数据删除] 观察⬛网 [数据删除] 环⬛时报 [数据删除] BB⬛ 中文网 [数据删除] 德⬛之声中文网 [数据删除] 纽⬛时报中文网 [数据删除] 华尔⬛日报中文网 [数据删除] 中国数⬛时代 [数据删除] 大⬛元 [数据删除] 亚洲自⬛电台 [数据删除] 苹⬛日报 [数据删除] 维⬛百科中文站（涉及政治类词条） [数据删除] 符合以下条件的均以不信任处理 涉及宗教信仰的网站 国外媒体的“中文网” 名称带有“自由”、“民主”、“独立”的网站 名称关键字包含“禁”字的网站 “独立政府”网站 可以采信的站点 仅作为较可信的消息来源，不完全信任其评论立场\n通讯社 国内外政府部门的官方账号 股份无政治成分的媒体的本国语种主站 更新记录 2022 年 1 月 25 日 表述修正 2024 年 8 月 9 日 发生数据删除事件 ","permalink":"https://weixiang.github.io/posts/my-international-internet-surfing-guidelines/","summary":"面对繁杂的新闻媒体来源，我们需要有着自己的判断力，本文记录我自己的一些互联网冲浪经验。","title":"个人国际互联网冲浪准则"},{"content":"1. 逆温概念 正常温度： 对流层大气的热量主要直接来自地面的长波辐射。一般情况下，气温随海拔的升高而降低，称为气温垂直递减率R，R 为 0.60℃／100 米。\n逆温现象： ① 海拔上升，气温升高；\n② 海拔上升 1000 米，气温下降幅度小于 6°C。\n2. 逆温形成的条件 设——理论温度（按温度的直减率变化）为T，实际温度为TS。\n1) 当某一高度 TS＞T\n开始出现逆温现象，空气无垂直对流，大气层稳定。\n2) 当某一高度 TS≤T\n逆温现象消失，温差越大，对流越旺盛\n3. 逆温形成的原因及分类 1）原因——自然原因、人为原因。\n2）分类（成因）\n① **辐射逆温（中高纬度）：**经常发生在晴朗无云的夜间，由于地面有效辐射很强，近地面层气温迅速下降，而高处气层降温较少，从而出现上暖下冷的逆温现象。这种逆温黎明前最强，日出后自下而上消失。辐射逆温的形成过程，如下图：\n② 地形逆温：\n常发生在山地、盆地和谷地中。由于山坡散热快，山坡上的冷空气沿山坡下沉到谷底，谷底原来较暖的空气被冷空气抬挤上升，从而出现温度的倒置现象。这样的逆温主要是在一定的地形条件下形成的，所以称为地形逆温。如美国的洛杉矶因周围三面环山，每年有两百多天出现逆温现象。\n③ 平流逆温\n由于暖空气水平移动到冷却的地面、水面或气层之上时，底层空气因受下垫面的影响迅速降温，上层空气因距离较远，降温较少，于是产生逆温。\n逆温的强弱，主要由暖空气和冷地表的温差决定，温差大，逆温越强。\n冬半年，在中纬度沿海地区，因为那里海陆温差显著，当海上暖空气流到大陆上时，形成逆温。\n④ 锋面逆温\n对流层中，暖空气移到冷空气之上，形成冷暖相交的锋面。暖气团位于锋面之上，冷气团在下。在冷暖气团之间的过渡带上，若锋面上下暖冷空气的温差较大，便形成逆温。\n图中垂直线上的气温分布情况可见由下面的冷空气到上面的暖空气，等温线通过锋面区域时必有曲折，曲折程度视两种气团间的温度对比而决定，曲折段（如图中 BC 段）就出现了逆温层。由于锋是从地面向冷空气上方倾斜的，逆温层也随锋面的倾斜而呈倾斜状态（出现逆温的高度，与锋线位置距离地面高度有关）。因此逆温只能在冷空气所控制的地区内观察到，在冬半年有时会形成冻雨一些恶劣性天气。\n4. 逆温的利与弊 1) 逆温有利：逆温的出现会阻碍空气垂直对流\n① 抑制沙尘暴的发生\n沙尘暴发生条件——大风、沙尘、强对流运动。\n② 对飞机的飞行极为有利\n出现逆温类似平流层：空气平稳，万里晴空提高了能见度——飞行更加安全。\n③ 逆温是一种气候资源\n主要是在一些山坡或河谷地区。逆温带有效地提高了谷地在冬季的温度水平，多年生果树越冬可不必埋土，冻害得以避免或减轻，而且果实硬度高，品质好；在这里发展蔬菜，可减少热能投入，提高经济效益（如我国新疆伊梨谷地，逆温从 10 月至翌年 3 月，长达半年之久。1 月份的坡地逆温层厚达 400 米，逆温强度达 5℃。） ；逆温层坡地还是当地牲畜避寒、越冬的理想场所 (如天山牧场冬季过冬就不是在山脚下还是在山的一定高度上)\n不利影响：逆温阻断空气对流运动，不利于地面污染物扩散，加剧地面污染从而影响空气质量 ① 对环境影响：沙尘暴发生条件——大风、沙尘、强对流运动，加重大气污染\n② 对天气影响：易产生大雾天气，阴雨天气（锋面逆温）、冻雨天气（锋面逆温）\n③ 对交通影响：能见度降低，地面湿滑\n大气受热过程与逆温现象 一、大气的受热过程 辐射波长：物体的温度与波长是负相关，温度越高，波长越短。温度越低，波长越长。\n太阳辐射是短波，地面和大气辐射是长波\n太阳辐射在传播过程中，部分被大气吸收（19％）、反射和散射（34％），大部分到达地面（47％）。\n大气的对太阳辐射的削弱作用 1、大气对太阳辐射的吸收作用：\n特点：有选择性。\n例：对流层的水汽和二氧化碳吸收红外线、平流层的臭氧吸收紫外线，可见光吸收很少。\n影响因素：太阳辐射经过的大气路径、尘埃、云雾的多少\n2、大气对太阳辐射的反射作用：\n参与的大气成分：云层、尘埃\n特点：无选择性\n云层越厚，云量越多，反射就越强\n3、大气对太阳辐射的散射作用：\n参与的大气成分：空气分子和微小尘埃\n特点：具有选择性（蓝光）\n","permalink":"https://weixiang.github.io/posts/temperature-inversion/","summary":"在对流层，气温垂直分布的一般情况是随高度增加而降低，大约每升高 100 米，气温降低 0.6°C，但在一定条件下，对流层中也会出现气温随高度增加而上升的现象，或者地面上随高度的增加，降温变化率小于 0.6°C/100 m，这种现象称为逆温。","title":"逆温现象"},{"content":"最近做的一些 Ghost 小优化（Ghost 博客调教）\n新增评论区 大家终于可以愉快地畅所欲言啦！\n而且因为我们服务器在新加坡，不受中国大陆法律限制，也没有敏感词蛤蛤蛤\n采用的是Valine作为我们的评论系统，快速、简洁且高效、无后端。 获取\n在 Code Injection 的 Footer 部分填入\n\u0026lt;script src=\u0026#34;//cdn1.lncld.net/static/js/3.0.4/av-min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#39;//unpkg.com/valine/dist/Valine.min.js\u0026#39;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; new Valine({ el: \u0026#39;#vcomments\u0026#39;, appId: \u0026#39;\u0026lt;APP ID\u0026gt;\u0026#39;, appKey: \u0026#39;\u0026lt;APP Key\u0026gt;\u0026#39; }) \u0026lt;/script\u0026gt; 然后再在post.hbs里被注释掉的Comment部分添加这个就好了\n\u0026lt;div class=\u0026#34;col-md-12\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;vcomments\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; 参考：Ghost 博客添加 Valine 评论系统\n新增邮件订阅 大家可以在首页和每篇文章的下面找到这个订阅按钮\n将你的邮箱输进去，以后有文章更新就会通过邮件通知你啦~\n参考：eddiesigner/liebling\n接入了 Google 广告 为什么要接广告？\n你当我们服务器是大风吹来的吗！\n能补贴一下服务器的运营费用，顺便还能给文章作者一些报酬。\n广告是 Google 根据你的兴趣个性化推荐的哦！所以每个人看到的都不太一样\n下面是某位不愿意透露姓名的同学看到的情形\nGoogle 广告接入还是很方便的\n在 Google Adsense 申请就好，然后 Google 就会给一段神秘代码\n像这样\n\u0026lt;script async src=\u0026#34;https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: \u0026#34;ca-pub-这里应该是你的个人编号\u0026#34;, enable_page_level_ads: true }); \u0026lt;/script\u0026gt; 然后就把这段代码扔进 Code Injection 的 Head 部分就好了\n然后 Google 广告就会自动霸占你的网站了\n记得在 Google Adsense 的设置里调整一下广告出现的频率，以免广告太多影响阅读体验。\n参考：Google AdSense + Ghost\n接入了统计系统 我们站点一共接入了三个统计系统，分别是 Google Analytics，百度统计 和 不蒜子统计。\n上面是百度统计的效果图，就是能分析一下站点的访问量什么的。\n又没有多少人来统计个屁\n百度和 Google 的接入都很方便，直接注册然后按提示获取代码就好了。\n然后把获取到的代码扔进 Code Injection 的 Head 部分。\nHead 部分都快成垃圾场了\n不蒜子统计和前两个有点区别，这个是拿来展示的。\n比如页面底部的访问量统计，每篇文章的“热度”都是用它做的。\n方法也还算简单\n先把这个填入 Code Injection 的 Head 部分\n\u0026lt;script async src=\u0026#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; 把这段代码扔进footer.hbs合适的地方就可以了\n\u0026lt;span id=\u0026#34;busuanzi_container_site_pv\u0026#34;\u0026gt;本站总访问量\u0026lt;span id=\u0026#34;busuanzi_value_site_pv\u0026#34;\u0026gt;\u0026lt;/span\u0026gt;次\u0026lt;/span\u0026gt; 文章阅读量“热度”的方法也类似，改post.hbs就好了。\n参考：不如\n新增了作者页面 效果（已失效）：Authors\n参考：eddiesigner/liebling\n在底部加了一个 QQ 群按钮 完成了本站的邮件系统 等我有空再写（要写国庆作业了……\n更新记录 2022 年 1 月 25 日 文章迁移及表述调整 ","permalink":"https://weixiang.github.io/posts/a-record-of-optimizing-the-ghost-blog-for-waitech/","summary":"优化社团网站的一些记录，适用于 Ghost 博客系统。","title":"社团 Ghost 博客调较记录"},{"content":"就在昨天，我又双叒叕更换了一个船新的博客平台——也就是你现在看到的 Ghost。\n从我开始接触博客起，从最初的 Hexo，到后来的 WordPress，再到现在你看到的 Ghost，博客平台换的多，实际生产的内容却寥寥无几，在每一次博客的迁移过程中又丢失过一些文章，最后收获的不是知识的贮藏，而是各种博客平台的安装迁移方法。\n在我为 WordPress 臃肿的系统、找不到我钟意主题时，我在互联网的角落中发现了这个名为 Ghost 的博客系统。简洁的设计风格使我第一眼就看中了它，而它精简的系统也使我的辣鸡服务器不必再为 WordPress 而气喘吁吁。\n花费了我整整半天的时间，总算是把 Ghost 搭建起来了，这次搭建 Ghost 花费了我不少力气，并不是说 Ghost 不易用，而是我选择了一个我没有用过的船新操作——使用 Docker，还有一个原因是 Ghost 相关的中文资料还不够完善，很多教程都已经过时。虽然过程有点坎坷，不过好处是学会了一点点 Docker 的概念和基本用法。 嗯，可以在 Ghost 养老了吧。\n接下来的三百多天，可能是对我极为重要的日子。逝者如斯夫，不舍昼夜。不知不觉中，我也迈入了高三的行列，准备着应对人生中最为重要的考试之一——高考。这个博客在这三百多天中，可能是不会更新了。这是这个新的博客的第一篇文章，短时间内也不会有第二篇了吧。\n午后，听着 Detroit: Become Human 中的开场钢琴曲 Opening Theme，写下最后这一段。\n希望三百多天后的我还能愉快地打开这个编辑页面，写下另一篇新的文章吧。\n","permalink":"https://weixiang.github.io/posts/hello-ghost/","summary":"第一次使用 Ghost 博客，有什么感觉呢？","title":"你好，Ghost"},{"content":"一、模块化设计 所有模块均可通过 Wi-Fi 接入一个或多个物联平台，支持 AirKiss、SmartConfig 等多种快速配网协议，支持休眠模式，低功耗长续航，可根据实际需求增加相应的功能模块或传感器模块。以下是部分模块及其特性：\n户外主机：Mini 百叶箱设计，内置温湿度、光照、PM2.5、气压、有害气体等多种高精度传感器，并支持拓展传感器，多路可编程继电器，太阳能辅助供电，大容量锂电池，LCD 显示实时数据，支持 ZigBee 协议，可使用 SD 卡记录数据，高精度 ADC 转换，冬季自动恒温等。\n户外主机及太阳能模块\n太阳能模块：为户外主机或其他模块提供辅助供电，整合雨水、温度、电压传感器，冬季自动融雪恒温等。\n室内网关：LCD 显示户外主机或其他模块的实时数据，支持 ZigBee 协议，内置温湿度、光照传感器。\n土壤模块：内置高精度的土壤温度、湿度以及光照传感器、高精度 ADC 转换，可实现自动浇花。\n温湿度模块：内置高精度的数字温湿度传感器及数字光照传感器，可用于室内环境监测。\n气体模块：内置 MQ-2、MQ-135、VOC 等多种气体传感器，可用于空气质量监测。\n风速/风向模块：使用专业级的高精度风速/风向传感器，高精度 ADC 转换，可用于户外环境监测。\n智能插座：内置多路光耦隔离继电器，可用 APP 控制，也可与其他模块进行联动，实现自动化响应数据变化，如户外光照适宜时自动拉开窗帘等。\n智能灯：内置全彩 LED 灯，可用 APP 控制，也可与其他模块进行联动，实现自动化响应数据变化，如室内光线较暗时自动打开灯光。\n风速传感器及主机内部\n二、应用范围及特点 本作品采用模块化设计，成本可控，用户可根据自己的需求选用不同功能、不同类型，不同精度的传感器或功能模块，以满足不同需求，减少不必要的开支。\n所有模块均可接入一个或多个物联平台，实现数据自动上传、设备联动、警报、大数据分析、远程升级、远程控制等功能，可用于对接智能家居、智慧农业、智慧城市等物联网应用。软硬件均采用了开源协议，修改代码或硬件设计即可实现不同的功能，接入不同的平台，和不同的设备联动等。\n采用 16 位 ADC 芯片进行数据采集，宽电压供电，芯片内部有精密参考电压和可编程增益调节 (PGA)，因此无论对微弱信号还是变化幅度较大的信号，都可进行精确的采集与转换。\n使用了 ESP8266 作为主控，将主控与网络模块整合到了一起，节约了成本以及内部空间，更易于向微型化发展。\n部分代码展示\n支持微信 AirKiss、SmartConfig 等多种快速配网方式，更加简单易用，接通电源，打开 APP 即可快速配置完毕投入使用。\n采用企业级物联平台，数据收发均采用加密协议并可同时备份在外置 SD 卡，数据更安全。\n可广泛应用于教育领域，如地理、生物、通用、信息等学科的教学，例如可用于分析当地气候的探究课题活动，亦可作为创客教育的套件。也可应用于农业、环境监测等领域。\n手机应用 三、改进之处 增强防水性能，使用防水黑胶密封精密部件，增加防水胶条。\n增加固定支架，固定孔等，使其更易于在户外安装使用。\n外观设计图\n优化代码逻辑，兼容更多类型的传感器。\n增加 GPRS，4G、NB-IoT 等通信模块，以应对户外无 Wi-Fi 信号和超出 ZigBee 通信距离的情况。\n增加摄像头，用户可通过手机查看实时画面，以辅助用户进行现场实况的判断。\n","permalink":"https://weixiang.github.io/posts/iot-micro-weather-station-based-on-esp8266/","summary":"本系统采用模块化设计，通过 Wi-Fi 接入物联网平台，支持多种快速配网协议和休眠模式，具备低功耗长续航能力。模块包括户外主机、太阳能模块、室内网关、土壤、温湿度、气体、风速/风向模块以及智能插座和灯，可根据需求添加传感器或功能模块。系统可应用于智能家居、智慧农业和智慧城市等领域，具有数据自动上传、设备联动、警报等功能，并支持远程升级和控制。改进措施包括增强防水性能、优化外观设计及代码逻辑，并计划增加 GPRS/4G/NB-IoT 通信模块和摄像头以适应更多应用场景。","title":"基于 ESP8266 的物联网微型气象站"},{"content":"第一章 人口与环境 1、人口增长\n①人口自然增长率的概念（a）\n在一定时期内出生人数减去死亡人数的净增人数与同期平均人数之比，多用百分比或千分比表示。一般情况下也可以用人口出生率减去人口死亡率得出人口自然增长率。\n②影响人口自然增长率的因素 (b)\n影响人口自然增长率的因素有很多，如经济发达程度、文化教育水平、医疗卫生条件、妇女受业状况、婚姻生育观、宗教信仰、风俗习惯、战争、自然灾害、人口政策等。但归根到底取决于生产力发展水平。在影响人口自然增长的影响因素中需要特别强调区域社会经济发展水平对出生率的影响，可以为后面的人口增长模式做好铺垫，也为分析具体区域的人口变化提供理论依据。\n2、人口增长模式\n不同历史时期人口增长模式的特点及地区分布 (b)\n“高 - 高 - 低“模式：工业革命前的人口增长模式，可分为：（1）原始人口增长模式：表现为高出生率、高死亡率、极低的自然增长率；（2）传统人口增长模式：表现为高出生率、高死亡率、较低的自然增长率。\n“高 - 低 - 高“模式：表现高出生率、低死亡率、高自然增长率。发达国家在 18 世纪中期到 19 世纪末 20 世纪初的人口增长模式。从20 世纪 50 年代起，普遍存在于大多数发展中国家，导致大多数发展中国家出现严重的人口问题。\n“低 - 低 - 低“模式：表现为低出生率、低死亡率、低自然增长率，是一种现代人口增长模式。世界主要发达国家已基本步入现代人口增长模式，我国人口增长模式正逐步由“高 - 低 - 高”型向“三低”型过渡。\n本知识点上主要掌握两点：1、当前世界各地人口的增长特点与影响因素 2、能对关于人口增长的相关图表作出正确分析，相对来说要求考察的是学生的知识运用能力。\n中国人口在很早以前就居世界各国之首。在 1760 年为 2 亿，1900 年为 4 亿，1954 年为 6 亿，1969 年为 8 亿，1981 年已达到 10 亿，人口增长呈快速增长态势。实行了计划生育国策后，人口增长放缓。2000 年第 5 次人口普查表明中国人口达到 12。9 亿。估计到 21 世纪中叶达 15-16 亿。中国人口状况对世界人口有着至关重要的影响。\n读图要求（P2 图 1—1、P10 图 1—5）：读出历史时期地球人口的增长情况，可分为公元开始以前、中世纪、现代三个阶段；通过近现代人口增长可看出人口的倍增速度的大小。\n3、环境的限制性\n环境对人口发展的限制性（b）\n自然资源是人口发展的物质基础，人口的快速增长，资源的需求量和消耗量也快速增加。虽然人类社会在发展，科技水平在进步，自然资源的种类和数量也在不断增加，但自然资源终究是有限的，非再生资源的数量不断减少甚至枯竭，可再生资源在一定时间、空间内数量也是有限的。因此环境条件的限制性决定了地球人口不能无限增长。\n4、人口的合理容量\n①环境承载力和人口合理容量的区别（b）\n环境承载力：指一定时期内，在维持相对稳定的前提下，环境、资源所能容纳的人口规模和经济规模的大小。这个人口规模指的是特定的地区的资源与环境，在维持最低生存标准的情况下，所以承受的最大人口数量。\n人口合理容量：指在环境承载力（社会、经济和环境可持续发展）范围内，并且人口、资源、、环境处于可持续发展下的一个地区所能容纳的人口数量，即最适宜人口数量。\n人口合理容量与环境承载力的根本区别在于“最适宜人口数量”和“最大人口数量”，显然环境承载力中的人口规模要大于人口合理容量。\n②人口容量的特点及影响人口合理容量的因素（b）\n人口容量的特点：一为临界性；二为相对性；三为警戒性。\n影响人口合理容量的因素：资源（首要因素）、科技发展水平、地区的对外开放程度、人口的文化和消费水平。注意其中人口的文化和消费水平与人口合理容量呈反比，其余成正比。\n5、人口迁移的概念与分类 (a)\n人口迁移：一般指的是人口在两个地区之间的空间移动（县级及以上），这种移动通常涉及人口居住地到迁入地永**久性或长期（一年及以上）**地改变。\n人口迁移类型：按地理范围可分为国际迁移和国内迁移；按迁移方向可分为农村到城市、城市到农村、城市到城市、农村到农村4 种。由农村到城市的人口迁移是发达国家历史上和发展中国家当前人口迁移的主要类型。\n[拓展提示]要注意人口迁移所包含的三大要素：空间移位、定居地改变、一定的时间性。\n6、引起人口迁移的因素\n①引起人口迁移的因素（b）\n引起人口迁移的因素：\n（1）自然生态环境因素\u0026mdash;气候、土壤、水和矿产资源、自然灾害等（如爱尔兰历史上人口外迁、楼兰古城的消亡）\n（2）经济因素\u0026mdash;经济发展水平、城市化水平、大型建设项目的布局、区域开发、交通条件等（如我国涌向东部沿海地区的民工潮）。\n（3）政治因素\u0026mdash;-国家政策（如深圳的崛起）、战争（难民潮、战俘遣返）等。\n（4）社会文化因素\u0026mdash;-文化教育、家庭婚姻、宗教信仰、种族家庭、个人动机和需求等。\n原因：不同地区的生存环境存在差异，这种地区间生存环境的差异是由自然生态环境、经济因素、政治因素、社会文化因素等综合作用形成的，在某一特定的情景下，起到主导作用的因素又可能是其中的一个或几个因素。但是目前世界上最主要和普遍的人口迁移的因素是，经济因素。\n②世界和我国人口迁移的现状（a）\n世界人口迁移的现状：由发展中国家迁移到发达国家、从贫穷落后国家迁移到富裕国家；从人口稠密国家迁移到人口稀少国家。具体可有永久性移民、外籍工人流动、国际难民定居三种。由农村到城市是发展中国家当前人口迁移的主要类型。\n我国人口迁移的现状：主要人口流出省区是中西部省区；主要流入省区是东部沿海省区等。总体表现为从农村到城市、从内地到沿海地区和工矿区、从经济欠发达地区流向发达地区。原因：以自发性迁移为主，以务工和经商为主。\n7、外国文化与人口\n①地域文化的概念 (a)\n地域文化是指在一定地域长时期形成的特定文化现象，即在一定的地域内，人类在长时期历史发展过程中所创造的物质财富和精神财富的总和。\n②外国文化对人口发展的影响（b）\n文化的差异对人口发展的影响是多方面的，其中婚俗（如初婚年龄、婚姻的稳定程度）和宗教（为扩大势力，世界上主要宗教不反对人口增殖，如天主教影响下的拉丁美洲和宗教众多的南亚地区）对人口发展的影响是巨大的。\n8、中国文化与人口\n①中国文化对人口的影响 (a)\n中国文化对人口的影响主要表现为三个方面：生育\u0026mdash;从早婚早育到晚婚晚育，从多育多子到只生一个；职业选择\u0026mdash;-从“学而优则仕”到“全民皆商”；人口流动\u0026mdash;-从安土重迁到“四海为家”。\n第二章 城市与环境 1、城市土地利用\n①城市土地利用的主要类型（a）\n按土地利用方式，城市用地可分为商业用地、工业用地、住宅用地、政府机关用地、交通用地、农业用地、休憩和绿化用地等。\n2、城市功能分区和空间结构\n①城市功能区的分类 (a)\n城市的三种基本功能区：商业区、住宅区、工业区。其他还可以有市政与公共服务区、交通与仓储区、风景游览区、城市绿化区、特殊功能区等。各种功能分区相对集中，但是没有绝对界线。\n②影响城市功能分区的主要因素（c）\n影响城市功能分区的主要因素：自然地理条件、历史文化因素（天安门、故宫位于北京市中心）、经济发展水平（当前最主要因素）、交通运输状况。一般而言，从市中心向郊区的功能区依次为：商业区、住宅区、工业区。\n3、中心地理论的含义及运用（c）\n含义：中心地理论是研究城市空间组织和功能布局的一种城市区位理论。\n运用：根据中心地理论，城镇是周围乡村的中心地；最便于提供货物和服务的地点，应位于圆形商业区域的中心，在理想的平原上，中心地的服务范围表现为以中心地核心的正六边形；高级中心地服务范围大，彼此相距远，六边形数目少；低级中心地服务范围小，彼此相距近，六边形数目多；高级中心地包容低级中心地，高级服务范围覆盖低级服务范围，从而构成层次分明的空间网络系统。\n4、城市化含义（b）\n城市化是指人口和产业活动在空间上集聚、乡村地区转变为城市地区的过程。城市化是社会生产力发展到一定阶段，农村人口转化为非农村人口，人口向城镇集聚，农村地区转化为城镇地区，城镇数量增加的过程。\n城市化的三大标志：劳动力从第一产业向第二、三产业转移，城市人口在总人口中的比重上升（最主要标志），城市用地规模扩大。\n5、城市化的动力机制\n城市化的主要动力（b）\n社会经济的发展是城市化的主要动力。其中农业生产力的发展是城市兴起和成长的前提，工业化是城市化的主导力量，第三产业的形成和发展又促进了城市化。\n6、城市化的特点\n①发达国家和发展中国家城市化的不同特点及原因（b）\n发达国家城市化起步早，城市化水平高，20 世纪 70 年代，城市人口比重达到 70%，英国已达到 90%。但现在城市化速度较慢，许多国家已出现了逆城市化的现象。\n逆城市化的原因：（1）市中心环境污染严重；（2）乡村地区基础设施改善。\n发展中国家的城市化起步晚，发展快；城市化水平比较低；由于城市化与经济发展水平不相适应，城市发展不合理，如拉美的“虚假城市化”，亚洲的“滞后城市化”。\n差异的原因：城市化是社会经济发展水平的综合体现。发达国家由于工业化起步早，因此城市化起步早，发展水平高，城市化水平比较高；发展中国家长期政治上不独立，经济发展不快，城市化水平不高，20 世纪中期以来，发展中国家获得民族独立解放运动的胜利，经济迅速发展，逐渐成为世界城市化发展的主流。\n②现阶段中国城市化的特点（b）\n改革开放以来，我国社会经济发展迅猛，显著拉动了城市化进程。城市人口快速增长，城市数量保持较高的增长速度；城市化水平和密度东部沿海地区高于中西部地区；城市群、城市带逐步形成和扩大，城市化水平不断提高。城市化主要靠工业化带动，具体特点与发展中国家的城市化特点相符。\n7、城市化与我们的生活\n城市化对自然地理环境和人文地理环境的影响（b）\n城市化过程对自然地理环境的影响：\n要素\n对自然地理环境的影响\n评价\n地形\n对原来的地形进行改造，使之趋向平坦或起伏更大（如摩天大楼）\n容易造成水土流失、滑坡、泥石等地质灾害\n气候\n强烈改变了下垫面的原有性质，使气温、降水等要素发生变化，使城市产生热岛效应，也影响了日照、风速和风向\n形成城市热岛效应，将城市大气污染带到郊区，也将郊区大气污染带到城区，扩大了污染物的污染范围，加快了净化速度\n水文\n市政建设破坏了原有的河网系统，使城区水系出现紊乱，也使降水、蒸发、径流出现再分配\n易使城市在暴雨时排水不畅，造成地面积水，也使水质、水量和地下水运动出现变化；过量抽取地下水导致地面沉降\n生态\n城市的生产生活污染、交通工具、尤其是工业“三废”，破坏了所在地区的环境生态，也影响了生物的多样性\n城市生态系统成为一个脆弱的系统。城市是人类对自然地理环境影响和改变最大的地方\n城市化过程对人文地理环境的影响：\n要素\n对人文地理环境的影响\n农村\n转\n变\n为\n城市\n土地利用方式\n农业用地\n城市建设用地\n居民就业方式\n第一产业\n第二产业、第三产业\n景观特征\n乡村景观\n城市景观\n人口\n分散、农业人口\n密集、非农业人口\n经济开放程度\n低\n高\n信息、交通\n欠发达\n发达\n文化、观念\n受教育程度低，整体文化素质较低\n受教育程度高，整体文化素质较高\n8、城市环境问题 (可对比必修 3 P69 页工业化、城市化问题)\n城市化过程中出现的问题及解决措施（c）\n城市规模的无限制扩大，城市人口的迅猛增长，城市化过程中出现了严重的问题。具体表现在六个方面：（1）环境污染严重，原有生态环境改变，环境质量下降，趋于恶化；（2）中心区人口密集；（3）交通拥挤；4、地价房租昂贵，居住条件差；5、失业人口增多；（6）社会秩序混乱。\n保护和改善城市环境的主要措施：建立卫星城，开发新区；改善城市交通和居住条件；保护和治理城市环境、扩大绿化面积。\n9、我国城市发展的趋势（b）\n进入 21 世纪，我国城市化表现为加速趋势，这与我国社会经济的发展是密切关联的。现阶段中国特色的城市化道路，要更加注重协调发展。具体表现在六个方面：\n（1）城市经济逐渐成为区域经济增长的主导力量；2、大型中心城市加速发展，辐射带动功能显著增强；3、强调以人为本，注重构造和谐的人居环境；4、控制环境污染和生态破坏，治理各种“城市病”；5、有更多的农业人口进入城市或当地的小城镇；6、运用信息化手段进一步提高城市现代化水平。\n","permalink":"https://weixiang.github.io/posts/population-and-cities/","summary":"指城市的城区（不包括市辖县）的农业人口和非农业人口的总数，包括有常住户口和未落常住户口的人，以及被注销户口的在押犯、劳改、劳教人员。总人口中不包括现役军人、人民武装警察。","title":"人口与城市"},{"content":"这不是 2018 大年初一吗为了迎合各大网站\\APP 的传统习俗，我也把网页的主题色改了改成了喜庆的红色（你确定不是骚粉吗！(ㅍ_ㅍ)）\n实现方法 打开文件：themes/next/source/css/_variables/custom.styl\n添加以下内容：\n// 背景颜色 $body-bg-color = #FFE4E1; $header-bg-color = #FFE4E1; $footer-bg-color = #FFE4E1; 保存以后刷新一下页面就可以看到效果啦！\n","permalink":"https://weixiang.github.io/posts/change-the-background-color-of-hexo/","summary":"这不是 2018 大年初一吗\u003cdel\u003e为了迎合各大网站 APP 的传统习俗，我也把网页的主题色改了\u003c/del\u003e改成了喜庆的红色（你确定不是骚粉吗！(ㅍ_ㅍ)）","title":"更改 Hexo 的背景颜色"},{"content":" 非常抱歉，由于这篇文章过于古早，图片已经遗失在了互联网的长河中\nWindows10 以其良好的性能、外观和与移动端的兼容性正逐渐被大众所接受，市场份额也逐渐上涨。但 升级\\重装\\用了一段时间 之后，发现键盘突然就 识别不出来\\失灵 了，这就非常不方便了。但结果我一上午的摸索，终于找到了解决方法！\n电脑用久了就会有越来越多乱七八糟的 软件\\文件\\缓存 堆积在 C 盘的各个角落，拖严重影响使用体验。应对这种情况呢，如果没有什么重要的文件的话，直接重装就是最好的解决方案啦！嗯，于是我从微软官网上下载了一个“Windows10 创意者”给电脑装上了……\n但是当系统安装完之后，我才发现\n但本着极（wu）客（聊）精神，尝试了不少办法，终于找到了最佳解决方案！\n检查设备连线 检查一下你的电脑与键盘的连接线有没有插好，如果没有的话记得要插紧♂一点。把你的键盘插到其他电脑看看是不是键盘坏掉了或者打开主机看看是不是哪里有问题。\n检查驱动程序有没有正确安装 右键左下角 Windows 标志，选择设备管理器→键盘→更新驱动程序，然后 Windows10 就会自己在线更新驱动啦！（也可以用驱动精灵、驱动大师之类的软件更新驱动）\n找不到键盘设备怎么破？ 这也是我所遇到的问题，键盘设备都没有识别出来啊啊啊啊啊！ 此时，这可能就是 BIOS 那里的问题了！你可以关机并拔电源后拆开电脑来看看，把 BIOS 的电池抠下来，等一会再装回去。当然你也可以开机的时候进入 BIOS（不同品牌的电脑进 BIOS 的方法会不同，可以在网上搜索“你的电脑品牌+BIOS”找到你的电脑进入 BIOS 的方法），根据提示或说明书回复 BIOS 的出厂设置。\n还是不行啊啊啊啊啊！！！怎么办？ 如果上面的方法都无效，而且键盘确实是好的，重点是在BIOS 设置中键盘是可以正常使用的！！！那么就是系统的问题了！\n如果设备管理器里面没有键盘设备，你可以参考这篇文章，设置完毕之后重启一下电脑，看看键盘能不能用，如果还不行，请继续往下看。\n选择小娜的搜索框（或是快捷键 Windows + R），输入regedit，回车，打开注册表管理器。然后定位到HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Class\\{4D36E96B-E325-11CE-BFC1-08002BE10318} 删除UpperFilters项，然后再去设备管理器把键盘的驱动卸载。接着重启电脑。\n开机之后如果你在进去设备管理器看的话，键盘的状态可能\\应该是该设备无法启动。 (代码 10)酱紫的。\n然后再定位到那个目录定位到HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Class\\{4D36E96B-E325-11CE-BFC1-08002BE10318}\n新建一个名称为UpperFilters多字符串值项，内容填上kbdclass 然后再去设备管理器卸载键盘设备，重启电脑即可。\n到这一步我的键盘终于恢复工作了！\n还不行，怎么办？ 要不，你试试重装一遍系统？\n再不行的话，这可能是因为内部硬件损坏导致的了，建议你把电脑交给专业的维修人员进行检查维修。\n完。\n","permalink":"https://weixiang.github.io/posts/the-solution-to-the-system-not-recognizing-the-keyboard-after-windows-10-update/","summary":"Windows10 以其良好的性能、外观和与移动端的兼容性正逐渐被大众所接受，市场份额也逐渐上涨。但 升级\\重装\\用了一段时间 之后，发现键盘突然就 识别不出来\\失灵 了，这就非常不方便了。但结果我一上午的摸索，终于找到了解决方法！","title":"Windows 10 更新后系统无法识别键盘的解决方案"},{"content":" 2022 年 1 月 25 日 更新\n如你所见，这是我开始写博客以来的第一篇文章，时过境迁，很多东西都不一样了，看个乐就好。还有一件事，现在我用的博客是基于 Ghost 的。\n断断续续地花了一个星期时间，终于把这个博客网站重新搭建了起来。其实这个网站在 2017 年的 8 月份就已经上线，但由于学业等原因，网站一直处于挂着的状态，现在趁着假期又将网站重新构建，优化添加了不少东西，也准备开始定期发布文章了。\n我想的是可以在这个站点写下自己所想的，记一些笔记，并不期盼会有多少人看到，其实最终大部分都是写给自己看的吧！重点是我的文笔也不算好……\n开始享受纯粹的 Hexo 写作吧！\n这个网站使用了 HEXO 作为博客系统，这是一个非常好用的博客系统，还有很多优秀的主题和插件可以选，还有 Markdown 的写作方式。网站同时托管于 Github Page 和 Coding Page 上，也使用了腾讯云的存储服务。感兴趣的同学可以来与我交流哦~\nTips：这个站点有两个服务器，由于众所周知的原因，国内站（Coding）可能会速度比较快一些，你可以根据自己的网络情况在网页底部进行切换~\n嗯就是这样，没了。最后放上一张我最近拍的风景照~\n江西南昌\n","permalink":"https://weixiang.github.io/posts/hello-hexo/","summary":"你好世界 是所有编程语言给予世界的第一句问候，代表我博客时光的开始。","title":"您好，世界"},{"content":"时间线 2018-2-3 站点建立，由 Hexo 驱动，托管于 GitHub Pages，发布第一篇文章 2018-02-17 启用域名 ████.tech 和 ████████.club [数据删除] 2018-9 迁移至 Coding Pages 进行托管 2018-12-30 更换由 Ghost 驱动，服务器迁移至美国西海岸 2019-06-26 迁移至腾讯云服务器 CVM 2019-11-12 迁移服务器至美国西海岸 2020-03-11 更换域名为 jacobr.xyz，暂时关闭博客，仅保留关于页面，更换为静态页面。 2020-03-23 迁移至阿里云服务器 ECS 2021-06-21 启用新域名 jacobruan.com 2021-10-08 服务器迁移至新西伯利亚 2022-07-04 服务器故障，博客暂时下线 2022-08-07 重新安装服务器，恢复访问 2022-12-07 更新到 Ghost 5.0 2023-10-14 迁移服务器至阿里云新加坡 2024-08-06 更换为 Hugo 驱动，页面托管至 GitHub 感谢世界著名慈善企业Cloudflare，感谢 Microsoft，提供了 GitHub Page 托管、GitHub Action 自动部署，以及宇宙第一编辑器VS Code，感谢所有开源作者。\n","permalink":"https://weixiang.github.io/posts/blog-update-log/","summary":"本站点自创立以来的更新记录","title":"站点更新记录"},{"content":"Power\u0026rsquo;s Wiki https://wiki-power.com/\nPower Lin 的知识库\n雪山深处 https://www.talaxy.site/\nTalaxy 的博客。一个个人博客，记录所思所想。\nWAI 科技社 https://www.waitech.cn\nWAI 科技社 (Who Am I Science \u0026amp; Technology Club) 是由博罗中学学生自发、由信息科组提供指导与支持的 STEM 学生社团，是青少年创客和 STEAM 教育的学习和分享交流平台，在这里共享知识、交流技术，一起分享创造的喜悦。是广东省教育“双融双创”智慧共享社区项目的成员社团之一。\n欢迎在下面的评论区交换友链 : )\n","permalink":"https://weixiang.github.io/links/","summary":"我的朋友们，当然，也欢迎你来加入。","title":"友情链接"}]